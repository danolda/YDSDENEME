<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YDS Mega Test (MelihBABA Edition)</title>
    <!-- PWA -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="./icon-192.png">
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- İkonlar -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" crossorigin="anonymous">
    <script>
    // Fallback: CDN yüklenemezse alternatif CDN dene
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            var testEl = document.createElement('span');
            testEl.className = 'bi bi-check';
            testEl.style.cssText = 'position:absolute;left:-9999px;font-size:16px;';
            document.body.appendChild(testEl);
            var w = testEl.offsetWidth;
            document.body.removeChild(testEl);
            if(w === 0) {
                var link = document.createElement('link');
                link.rel = 'stylesheet';
                link.href = 'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css';
                document.head.appendChild(link);
            }
        }, 2000);
    });
    </script>
    <!-- Bu satırı <head> içine, diğer linklerin altına ekle -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- PeerJS (Sunucusuz Bağlantı İçin) -->
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    
    <style>
    /* --- MODERN & MASCULINE THEME (PRO UI) --- */
    :root {
        --primary-dark: #0f172a;    /* Koyu Lacivert */
        --primary-light: #1e293b;   /* Slate Gri */
        --accent-blue: #2563eb;     /* Profesyonel Mavi */
        --accent-gold: #d97706;     /* Bronz/Altın */
        --text-main: #334155;
        --bg-body: #f1f5f9;
        --card-bg: #ffffff;
        --border-radius: 6px;       /* Keskin Köşeler */
        --shadow-sharp: 4px 4px 0px rgba(0,0,0,0.15); /* Sert Gölge */
    }

    [data-theme="dark"] {
        --bg-body: #0b0f19;
        --card-bg: #151b2b;
        --text-main: #e2e8f0;
        --primary-light: #1e293b;
        --shadow-sharp: 4px 4px 0px #000;
    }

    html, body {
        overflow-x: hidden;
        max-width: 100vw;
    }
    body {
        background-color: var(--bg-body);
        color: var(--text-main);
        font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        font-weight: 500;
    }

    /* --- KART YAPISI --- */
    .card {
        background-color: var(--card-bg) !important;
        border: 2px solid var(--primary-light);
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-sharp);
        transition: transform 0.1s;
    }

    /* --- MENÜ (SIDEBAR) --- */
    .sidebar-item {
        padding: 14px 18px;
        margin-bottom: 8px;
        border: 2px solid #cbd5e1;
        border-radius: var(--border-radius);
        background: var(--card-bg);
        color: var(--text-main);
        font-weight: 700;
        cursor: pointer;
        transition: all 0.1s;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        font-size: 0.9rem;
    }
    .sidebar-item:hover {
        background-color: #e2e8f0;
        transform: translateX(3px);
    }
    .sidebar-item.active {
        background-color: var(--primary-dark);
        color: #fff;
        border-color: var(--primary-dark);
        box-shadow: 2px 2px 0px rgba(0,0,0,0.3);
    }
    
    /* Yanlışlar ve AI Menüsü Özel Renkler */
    .sidebar-mistakes { border-color: #ef4444; color: #ef4444; }
    .sidebar-mistakes.active { background: #ef4444; color: white; }
    .sidebar-ai { border-color: #8b5cf6; color: #8b5cf6; }
    .sidebar-ai.active { background: #8b5cf6; color: white; }

    /* --- ŞIKLAR (OPTIONS) --- */
    .option-row {
        background-color: var(--card-bg);
        border: 2px solid #cbd5e1;
        border-radius: var(--border-radius);
        padding: 16px;
        margin-bottom: 12px;
        cursor: pointer;
        display: flex;
        align-items: center;
        transition: all 0.1s;
        font-weight: 600;
    }
    .option-row:hover:not(.disabled-opts) {
        border-color: var(--accent-blue);
        background-color: #f8fafc;
    }
    .option-row:active:not(.disabled-opts) {
        background-color: #e0f2fe;
    }

    .btn-circle {
        width: 36px; height: 36px;
        background: #f1f5f9;
        border: 2px solid #94a3b8;
        color: #475569;
        border-radius: 4px; /* Karemsi */
        display: flex; align-items: center; justify-content: center;
        margin-right: 15px;
        font-weight: 800;
    }

    /* DOĞRU/YANLIŞ STİLLERİ */
    .opt-correct {
        border-color: #10b981 !important;
        background-color: rgba(16, 185, 129, 0.1) !important;
        color: #065f46;
    }
    .opt-correct .btn-circle {
        background-color: #10b981;
        color: white;
        border-color: #10b981;
    }

    .opt-wrong {
        border-color: #ef4444 !important;
        background-color: rgba(239, 68, 68, 0.1) !important;
        color: #7f1d1d;
    }
    .opt-wrong .btn-circle {
        background-color: #ef4444;
        color: white;
        border-color: #ef4444;
    }

    /* --- BUTONLAR (SHARP & BOLD) --- */
    .btn {
        border-radius: 4px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        box-shadow: 0 2px 0 rgba(0,0,0,0.1);
    }
    .btn:active { box-shadow: none; transform: translateY(2px); }
    
    .btn-primary { background-color: var(--accent-blue); border: none; }
    .btn-danger { background-color: #ef4444; border: none; }
    .btn-outline-secondary { border: 2px solid #94a3b8; color: #64748b; }
    
    /* NAVBAR */
    .navbar {
        background-color: var(--primary-dark) !important;
        box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        padding: 1rem;
    }
    .navbar-brand { color: #fff !important; font-weight: 900; letter-spacing: 1px; }

    /* --- FLOATING BUTTONS (SABİTLENMİŞ BUTONLAR) --- */
    .floating-btn, .scroll-top-btn {
        position: fixed;
        width: 55px; height: 55px;
        border-radius: 8px; /* Keskin */
        border: 2px solid rgba(0,0,0,0.2);
        box-shadow: 4px 4px 0 rgba(0,0,0,0.3);
        z-index: 1080 !important; /* En üstte */
        display: flex; align-items: center; justify-content: center;
        font-size: 1.5rem;
        transition: transform 0.1s;
        cursor: pointer;
    }
    .floating-btn { bottom: 30px; right: 30px; background-color: #10b981; color: white; }
    .scroll-top-btn { bottom: 30px; left: 30px; background-color: var(--primary-dark); color: white; opacity: 0.9; }
    
    .floating-btn:hover, .scroll-top-btn:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0 rgba(0,0,0,0.3); }
    .floating-btn:active, .scroll-top-btn:active { transform: translate(0, 0); box-shadow: 0 0 0; }

    /* --- MOBİL UYUMLULUK --- */
    @media (max-width: 768px) {
        .floating-btn { bottom: 20px; right: 20px; width: 50px; height: 50px; }
        .scroll-top-btn { bottom: 20px; left: 20px; width: 50px; height: 50px; }
        .sidebar-item { padding: 10px; font-size: 0.8rem; }
        
        /* VS MODE MOBİL FIX */
        .vs-opt-btn { font-size: 0.85rem !important; padding: 10px 12px !important; }
        #vs-q-text { font-size: 0.95rem !important; }
        .card-body { padding: 12px !important; }
        .container { padding-left: 8px; padding-right: 8px; }
        .vs-container { overflow-x: hidden; }

        /* BÖLÜMLER MENÜSÜ MOBİLDE SABİT (SCROLL YOK) */
        .col-md-4 > .card.sticky-top {
            position: relative !important;
            top: auto !important;
            max-height: none !important;
            overflow-y: visible !important;
        }
    }
         /* DARK MODE TEXT FIX (KESİN ÇÖZÜM) */
    [data-theme="dark"] body,
    [data-theme="dark"] .card,
    [data-theme="dark"] .modal-content,
    [data-theme="dark"] .form-control,
    [data-theme="dark"] h1, [data-theme="dark"] h2, [data-theme="dark"] h3, 
    [data-theme="dark"] h4, [data-theme="dark"] h5, [data-theme="dark"] h6,
    [data-theme="dark"] p, [data-theme="dark"] span, [data-theme="dark"] div {
        color: #e2e8f0 !important; /* Hafif kırık beyaz, gözü yormaz */
    }

    [data-theme="dark"] .card,
    [data-theme="dark"] .modal-content {
        background-color: #151b2b !important; /* Koyu Lacivert Arkaplan */
        border-color: #334155 !important;
    }

    /* Input alanları koyu modda */
    [data-theme="dark"] .form-control {
        background-color: #0f172a !important;
        border-color: #334155 !important;
        color: #fff !important;
    }

    /* List group (Leaderboard) */
    [data-theme="dark"] .list-group-item {
        background-color: #1e293b !important;
        color: #fff !important;
        border-color: #334155 !important;
    }

    /* Puan bildirimi için Toast stili */
    .score-toast {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #f59e0b; /* Altın Sarısı */
        color: #000;
        padding: 10px 20px;
        border-radius: 50px;
        font-weight: bold;
        z-index: 9999;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        animation: slideDown 0.5s ease-out, fadeOut 0.5s ease-in 2s forwards;
    }

    @keyframes slideDown { from {top: -50px;} to {top: 20px;} }
    @keyframes fadeOut { from {opacity: 1;} to {opacity: 0;} }
    @keyframes levelPop { from {transform:translate(-50%,-50%) scale(0.3);opacity:0;} to {transform:translate(-50%,-50%) scale(1);opacity:1;} }

        /* --- ŞIKLAR İÇİN DARK MODE DÜZELTMESİ (EN ALTA EKLE) --- */

    /* 1. Şık Kutusu ve Metin Rengi */
    [data-theme="dark"] .option-row {
        background-color: #1e293b !important; /* Koyu Gri Arkaplan */
        border-color: #475569 !important;      /* Gri Çerçeve */
    }

    /* 2. Şıkkın İçindeki Yazı (Kesin Beyaz) */
    [data-theme="dark"] .option-row .option-text,
    [data-theme="dark"] .option-row div {
        color: #ffffff !important;
        font-weight: 500;
    }

    /* 3. Şıkkın Üzerine Gelince (Hover) */
    [data-theme="dark"] .option-row:hover:not(.disabled-opts) {
        background-color: #334155 !important; /* Biraz daha açık gri */
        border-color: #94a3b8 !important;
    }

    /* 4. Harf Yuvarlağı (A, B, C...) */
    [data-theme="dark"] .btn-circle {
        background-color: #0f172a !important; /* Çok koyu lacivert */
        border-color: #64748b !important;
        color: #e2e8f0 !important; /* Harf rengi beyazımsı */
    }

    /* 5. Doğru Cevap (Koyu Modda Yeşil) */
    [data-theme="dark"] .opt-correct {
        background-color: rgba(6, 95, 70, 0.6) !important; /* Koyu Yeşil Transparan */
        border-color: #10b981 !important;
    }
    [data-theme="dark"] .opt-correct .option-text {
        color: #6ee7b7 !important; /* Açık Yeşil Yazı */
    }

    /* 6. Yanlış Cevap (Koyu Modda Kırmızı) */
    [data-theme="dark"] .opt-wrong {
        background-color: rgba(127, 29, 29, 0.6) !important; /* Koyu Kırmızı Transparan */
        border-color: #ef4444 !important;
    }
    [data-theme="dark"] .opt-wrong .option-text {
        color: #fca5a5 !important; /* Açık Kırmızı Yazı */
    }

        /* --- K.O. EFEKTİ (HARDCORE STYLE) --- */
    #ko-overlay {
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0,0,0,0.85);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        pointer-events: none;
        opacity: 0;
    }
    #ko-overlay img {
        max-width: 70vw;
        max-height: 70vh;
        transform: scale(0);
    }
    .ko-anim {
        animation: ko-bg-in 0.15s ease-out forwards;
    }
    .ko-anim img {
        animation: 
            ko-slam 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.5) forwards,
            ko-img-shake 0.3s ease-in-out 0.25s,
            ko-img-fade 0.6s ease-in 3s forwards;
    }
    @keyframes ko-bg-in { 0%{opacity:0} 100%{opacity:1} }
    @keyframes ko-slam {
        0% { transform: scale(6); opacity: 0; }
        60% { transform: scale(0.9); opacity: 1; }
        100% { transform: scale(1); opacity: 1; }
    }
    @keyframes ko-img-shake {
        0%,100% { transform: scale(1) rotate(0deg); }
        25% { transform: scale(1.02) rotate(-4deg); }
        75% { transform: scale(1.02) rotate(4deg); }
    }
    @keyframes ko-img-fade { to { opacity: 0; transform: scale(1.3); } }

    /* --- HEDEF TAMAMLAMA KO EFEKTİ --- */
    #goal-ko-overlay {
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0,0,0,0.80);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 200000;
        pointer-events: none;
        opacity: 0;
    }
    #goal-ko-overlay img {
        max-width: 65vw;
        max-height: 60vh;
        transform: scale(0);
        filter: drop-shadow(0 0 30px rgba(255, 200, 0, 0.8));
    }
    .goal-ko-anim {
        animation: goal-ko-bg 0.2s ease-out forwards;
    }
    .goal-ko-anim img {
        animation: 
            goal-ko-slam 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.5) forwards,
            goal-ko-shake 0.4s ease-in-out 0.3s,
            goal-ko-glow 1.5s ease-in-out 0.3s 2,
            goal-ko-fade 0.8s ease-in 3.2s forwards;
    }
    @keyframes goal-ko-bg { 0%{opacity:0} 100%{opacity:1} }
    @keyframes goal-ko-slam {
        0% { transform: scale(8); opacity: 0; }
        50% { transform: scale(0.85); opacity: 1; }
        70% { transform: scale(1.1); opacity: 1; }
        100% { transform: scale(1); opacity: 1; }
    }
    @keyframes goal-ko-shake {
        0%,100% { transform: scale(1) rotate(0deg); }
        15% { transform: scale(1.03) rotate(-5deg); }
        30% { transform: scale(1.03) rotate(5deg); }
        45% { transform: scale(1.02) rotate(-3deg); }
        60% { transform: scale(1.02) rotate(3deg); }
        75% { transform: scale(1.01) rotate(-1deg); }
    }
    @keyframes goal-ko-glow {
        0%,100% { filter: drop-shadow(0 0 30px rgba(255, 200, 0, 0.8)); }
        50% { filter: drop-shadow(0 0 60px rgba(255, 100, 0, 1)) drop-shadow(0 0 100px rgba(255, 50, 0, 0.5)); }
    }
    @keyframes goal-ko-fade { 
        0% { opacity: 1; transform: scale(1); }
        100% { opacity: 0; transform: scale(1.4); } 
    }

    /* --- VS MODE HEALTH BAR SYSTEM (FIGHTING GAME PARALLELOGRAM STYLE) --- */
    .vs-healthbar-container {
        background: linear-gradient(180deg, #0a0a1a 0%, #141428 100%);
        padding: 10px 12px 8px;
        border-bottom: 3px solid #0f3460;
        position: relative;
        overflow: visible;
    }
    .vs-hb-row {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .vs-player-side {
        flex: 1;
        display: flex;
        align-items: center;
        gap: 8px;
        min-width: 0;
    }
    .vs-player-side.right {
        flex-direction: row-reverse;
    }
    .vs-player-avatar {
        width: 72px;
        height: 72px;
        border-radius: 6px;
        object-fit: cover;
        border: 3px solid #3498db;
        flex-shrink: 0;
        box-shadow: 0 0 12px rgba(52,152,219,0.4);
    }
    .vs-player-side.right .vs-player-avatar {
        border-color: #e74c3c;
        box-shadow: 0 0 12px rgba(231,76,60,0.4);
    }
    .vs-player-info { flex: 1; min-width: 0; }
    .vs-player-side.right .vs-player-info { text-align: right; }
    .vs-player-name {
        font-weight: 800;
        font-size: 0.8rem;
        color: #fff;
        margin-bottom: 3px;
        text-transform: uppercase;
        letter-spacing: 1px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    /* PARALLELOGRAM HEALTH BAR (eşkenar dörtgen - kalın) */
    .vs-hp-bar-wrap {
        width: 100%;
        height: 28px;
        background: #1a1a2e;
        overflow: visible;
        position: relative;
        border: 2px solid #555;
        transform: skewX(-10deg);
        box-shadow: 0 2px 8px rgba(0,0,0,0.5), inset 0 1px 2px rgba(255,255,255,0.08);
    }
    /* Ghost damage layer (kırmızı arka plan - yavaşça azalır) */
    .vs-hp-ghost {
        position: absolute;
        top: 0;
        height: 100%;
        background: linear-gradient(180deg, #ff4444 0%, #cc0000 60%, #990000 100%);
        transition: width 1.8s ease-out 0.3s;
        z-index: 1;
    }
    .vs-player-side:not(.right) .vs-hp-ghost { left: 0; }
    .vs-player-side.right .vs-hp-ghost { right: 0; }
    
    /* Actual HP fill */
    .vs-hp-bar {
        height: 100%;
        transition: width 0.4s ease;
        position: relative;
        z-index: 2;
        background: linear-gradient(180deg, #66ff66 0%, #27ae60 40%, #1e8449 100%);
        box-shadow: inset 0 3px 6px rgba(255,255,255,0.3), inset 0 -2px 4px rgba(0,0,0,0.2), 0 0 10px rgba(46,204,113,0.4);
    }
    /* Shine effect on health bar */
    .vs-hp-bar::after {
        content: '';
        position: absolute;
        top: 2px;
        left: 0;
        right: 0;
        height: 40%;
        background: linear-gradient(180deg, rgba(255,255,255,0.35) 0%, rgba(255,255,255,0) 100%);
    }
    .vs-hp-bar.danger {
        background: linear-gradient(180deg, #ff6b6b 0%, #e74c3c 40%, #c0392b 100%);
        box-shadow: inset 0 3px 6px rgba(255,255,255,0.2), inset 0 -2px 4px rgba(0,0,0,0.2), 0 0 10px rgba(231,76,60,0.4);
        animation: hp-pulse-danger 0.8s ease-in-out infinite;
    }
    .vs-hp-bar.warning {
        background: linear-gradient(180deg, #ffd93d 0%, #f39c12 40%, #e67e22 100%);
        box-shadow: inset 0 3px 6px rgba(255,255,255,0.2), inset 0 -2px 4px rgba(0,0,0,0.2), 0 0 10px rgba(243,156,18,0.4);
    }
    @keyframes hp-pulse-danger {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }
    /* Right side bar goes right-to-left */
    .vs-player-side.right .vs-hp-bar {
        float: right;
    }
    /* HP text - counter-skew so it's readable, positioned outside clip */
    .vs-hp-text {
        position: absolute;
        top: 50%;
        transform: translateY(-50%) skewX(10deg);
        font-size: 0.8rem;
        font-weight: 900;
        color: #fff;
        text-shadow: 1px 1px 3px rgba(0,0,0,1), -1px -1px 3px rgba(0,0,0,1), 0 0 8px rgba(0,0,0,0.8);
        z-index: 10;
        letter-spacing: 1px;
    }
    .vs-player-side:not(.right) .vs-hp-text { right: 8px; }
    .vs-player-side.right .vs-hp-text { left: 8px; }
    .vs-hb-vs-badge {
        flex-shrink: 0;
        color: #f1c40f;
        font-weight: 900;
        font-size: 1rem;
        text-shadow: 0 0 10px rgba(241,196,15,0.6);
        padding: 0 4px;
    }
    
    /* Damage shake on health bar */
    @keyframes hp-shake {
        0%, 100% { transform: skewX(-10deg) translateX(0); }
        20% { transform: skewX(-10deg) translateX(-4px); }
        40% { transform: skewX(-10deg) translateX(4px); }
        60% { transform: skewX(-10deg) translateX(-3px); }
        80% { transform: skewX(-10deg) translateX(2px); }
    }
    .hp-shake { animation: hp-shake 0.4s ease-in-out; }
    
    /* === MOBILE: Üst üste (stacked) layout === */
    @media (max-width: 768px) {
        .vs-healthbar-container { padding: 8px 8px 6px; }
        .vs-hb-row {
            flex-direction: column;
            gap: 6px;
        }
        .vs-hb-vs-badge {
            order: -1;
            font-size: 0.9rem;
            padding: 0;
            margin: -2px 0;
        }
        .vs-player-side {
            width: 100%;
            flex-direction: row;
            gap: 8px;
        }
        .vs-player-side.right {
            flex-direction: row;
            order: 2;
        }
        .vs-player-side.right .vs-player-info { text-align: left; }
        .vs-player-side.right .vs-hp-bar { float: left; }
        .vs-player-side.right .vs-hp-text { left: auto; right: 8px; }
        .vs-player-side.right .vs-hp-ghost { right: auto; left: 0; }
        .vs-player-avatar { width: 48px; height: 48px; }
        .vs-player-name { font-size: 0.7rem; letter-spacing: 0.5px; }
        .vs-hp-bar-wrap { height: 26px; }
        .vs-hp-text { font-size: 0.75rem; }
    }

    /* --- VS answer coloring (fetih style) --- */
    .vs-opt-btn.ans-p1 {
        background: #3498db !important;
        color: #fff !important;
        border-color: #2980b9 !important;
    }
    .vs-opt-btn.ans-p2 {
        background: #e74c3c !important;
        color: #fff !important;
        border-color: #c0392b !important;
    }
    .vs-opt-btn.ans-both {
        background: linear-gradient(90deg, #3498db 50%, #e74c3c 50%) !important;
        color: #fff !important;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
    .vs-opt-btn.ans-correct {
        border: 3px solid #2ecc71 !important;
        box-shadow: 0 0 12px #2ecc71, 0 0 24px rgba(46,204,113,0.3) !important;
    }

    /* VS Ready bar (always visible at bottom) */
    .vs-ready-overlay {
        position: relative;
        background: linear-gradient(180deg, rgba(0,0,0,0.85), rgba(0,0,0,0.95));
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 12px 20px;
        border-top: 2px solid #2ecc71;
        transition: opacity 0.3s;
    }
    .vs-ready-btn {
        padding: 14px 40px;
        font-size: 1.1rem;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 2px;
        border: 3px solid #2ecc71;
        background: #27ae60;
        color: #fff;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
    }
    .vs-ready-btn:hover:not(:disabled) { background: #2ecc71; transform: scale(1.05); }
    .vs-ready-btn.done {
        background: #555;
        border-color: #777;
        cursor: default;
        pointer-events: none;
    }
    /* Ghost mode - visible but faded and disabled */
    .vs-ready-btn.vs-ready-ghost {
        opacity: 0.2;
        pointer-events: none;
        background: #333;
        border-color: #555;
        color: #777;
    }
    /* Active mode - fully visible */
    .vs-ready-btn.vs-ready-active {
        opacity: 1;
        pointer-events: auto;
        background: #27ae60;
        border-color: #2ecc71;
        color: #fff;
        animation: ready-pulse 1.5s ease-in-out infinite;
    }
    @keyframes ready-pulse {
        0%, 100% { box-shadow: 0 0 0px rgba(46,204,113,0.3); }
        50% { box-shadow: 0 0 20px rgba(46,204,113,0.6); }
    }

    /* Damage flash */
    @keyframes dmg-flash {
        0%,100% { background-color: transparent; }
        50% { background-color: rgba(231,76,60,0.3); }
    }
    .dmg-flash { animation: dmg-flash 0.3s ease 2; }

    /* VS Setup matching fetih.html */
    .vs-setup-card {
        background: linear-gradient(145deg, rgba(15,15,15,0.95), rgba(30,20,10,0.95)) !important;
        border: 2px solid #b8860b !important;
        box-shadow: 0 0 40px rgba(184,134,11,0.3), inset 0 1px 0 rgba(255,215,0,0.1);
    }
    .vs-cat-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: rgba(0,0,0,0.4);
        border-radius: 6px;
        padding: 8px 12px;
        margin-bottom: 6px;
    }
    .vs-cat-timer-input {
        width: 65px;
        background: #34495e;
        border: none;
        color: #f1c40f;
        text-align: center;
        font-weight: 700;
        border-radius: 4px;
        padding: 3px;
    }
    .vs-cat-qcount-input {
        width: 55px;
        background: #34495e;
        border: none;
        color: #3498db;
        text-align: center;
        font-weight: 700;
        border-radius: 4px;
        padding: 3px;
    }

    /* AI Hint button in VS */
    .vs-hint-btn {
        background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        border: none;
        color: white;
        padding: 8px 20px;
        border-radius: 6px;
        font-weight: 700;
        cursor: pointer;
        transition: 0.2s;
    }
    .vs-hint-btn:hover { transform: scale(1.05); box-shadow: 0 0 15px rgba(139,92,246,0.5); }
    .vs-hint-btn:disabled { opacity: 0.5; pointer-events: none; }

    /* === DARK THEME: VS MODE + GOALS + RESULT === */
    [data-theme="dark"] #vs-q-text,
    [data-theme="dark"] #vs-status-msg,
    [data-theme="dark"] #vs-question-body,
    [data-theme="dark"] #vs-question-body h5 {
        color: #e2e8f0 !important;
    }
    [data-theme="dark"] .vs-opt-btn {
        background: #1e293b !important;
        color: #e2e8f0 !important;
        border-color: #475569 !important;
    }
    [data-theme="dark"] .vs-opt-btn:hover {
        background: #334155 !important;
        border-color: #94a3b8 !important;
    }
    [data-theme="dark"] #vs-hint-content {
        color: #e2e8f0 !important;
        background: rgba(139,92,246,0.15) !important;
    }
    [data-theme="dark"] #vs-result,
    [data-theme="dark"] #vs-result h1,
    [data-theme="dark"] #vs-result h2,
    [data-theme="dark"] #vs-result h3,
    [data-theme="dark"] #vs-result small {
        color: #e2e8f0 !important;
    }
    [data-theme="dark"] #vs-result .bg-light {
        background: #1e293b !important;
        border-color: #475569 !important;
    }
    [data-theme="dark"] #vs-result .text-primary { color: #60a5fa !important; }
    [data-theme="dark"] #vs-result .text-danger { color: #f87171 !important; }
    [data-theme="dark"] #vs-lobby h3,
    [data-theme="dark"] #vs-lobby h5,
    [data-theme="dark"] #vs-lobby p {
        color: #e2e8f0 !important;
    }
    /* Hedefler / Goals modal dark */
    [data-theme="dark"] #goalModal .modal-body,
    [data-theme="dark"] #goalModal .progress-bar,
    [data-theme="dark"] #goalModal label,
    [data-theme="dark"] #goalModal .input-group-text {
        color: #e2e8f0 !important;
    }
    [data-theme="dark"] #goalModal .modal-body {
        background: #151b2b !important;
    }
    [data-theme="dark"] #goalModal .input-group-text {
        background: #334155 !important;
        border-color: #475569 !important;
    }
    [data-theme="dark"] #goalModal .form-control {
        background: #1e293b !important;
        color: #e2e8f0 !important;
        border-color: #475569 !important;
    }
    /* Leaderboard modal dark */
    [data-theme="dark"] #leaderboardModal .modal-body {
        background: #151b2b !important;
    }
    [data-theme="dark"] #leaderboardModal .card,
    [data-theme="dark"] #leaderboardModal .list-group-item {
        background: #1e293b !important;
        color: #e2e8f0 !important;
        border-color: #475569 !important;
    }
    [data-theme="dark"] #leaderboardModal h1,
    [data-theme="dark"] #leaderboardModal h6,
    [data-theme="dark"] #leaderboardModal small {
        color: #e2e8f0 !important;
    }
      /* --- MOBİL NAVBAR DÜZENLEMESİ (TAŞMA SORUNU İÇİN) --- */
    @media (max-width: 768px) {
        /* Navbar içeriğini sığdır */
        .navbar .container-fluid {
            flex-direction: column; /* Alt alta diz */
            align-items: center;
            padding: 5px;
        }
        
        .navbar-brand {
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        /* Buton grubunu düzenle */
        .navbar .d-flex {
            flex-wrap: wrap;       /* Sığmazsa aşağı kaydır */
            justify-content: center;
            gap: 5px !important;
            width: 100%;
        }

        /* Butonları küçült */
        .navbar .btn {
            font-size: 0.75rem;
            padding: 6px 10px;
            margin: 2px 0; /* Aralarına mesafe koy */
        }
        
        /* Gereksiz ikonları mobilde gizle, sadece yazı kalsın veya tam tersi */
        /* Burada her şeyi sığdırmak için paddingi kıstık */
    }

    /* --- MODAL VE GÖLGE SORUNU (SCROLL KİLİDİ FIX) --- */
    /* Modalları en üste taşı (Bizim butonların z-index'i 99999 olduğu için modal altta kalıyordu) */
    .modal-backdrop {
        z-index: 100000 !important; /* Butonların üstüne çık */
    }
    .modal {
        z-index: 100001 !important; /* Backdrop'un üstüne çık */
    }

    /* Eğer modal kapanırken takılırsa body'i zorla aç */
    body.modal-open-fix {
        overflow: auto !important;
        padding-right: 0 !important;
    }

    /* --- SORU METNİNDEKİ KALIN (STRONG) KELİMELER --- */
    .question-text strong,
    #vs-q-text strong {
        color: #d35400;
        font-weight: 900;
        background: linear-gradient(to bottom, transparent 60%, rgba(211, 84, 0, 0.15) 60%);
        padding: 0 3px;
        border-radius: 2px;
        letter-spacing: 0.3px;
    }
    [data-theme="dark"] .question-text strong,
    [data-theme="dark"] #vs-q-text strong {
        color: #f39c12;
        background: linear-gradient(to bottom, transparent 60%, rgba(243, 156, 18, 0.2) 60%);
    }
/* --- ALT SABİT EXP (LEVEL) BARI --- */
    .bottom-level-container {
        position: fixed;
        bottom: 35px; /* Masaüstü buton hizası */
        left: 100px;  /* Sol butondan kaçış */
        right: 100px; /* Sağ butondan kaçış */
        height: 45px; /* Butonlardan (55px) daha kısa */
        background: #1e293b; /* Koyu arka plan */
        border: 2px solid #334155;
        border-radius: 8px;
        display: flex;
        align-items: center;
        padding: 4px;
        z-index: 1070;
        box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    }
    
    .blb-level-badge {
        background: linear-gradient(135deg, #2563eb, #7c3aed);
        color: white;
        font-weight: 900;
        font-size: 0.95rem;
        padding: 0 12px;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
        margin-right: 6px;
        white-space: nowrap;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        box-shadow: 2px 0 5px rgba(0,0,0,0.2);
    }
    
    .blb-progress-wrap {
        flex: 1;
        height: 100%;
        background: #0f172a; /* Çok koyu iç kısım */
        border-radius: 4px;
        position: relative;
        overflow: hidden;
        border: 1px solid #000;
    }
    
    .blb-progress-fill {
        height: 100%;
        width: 0%; /* JS ile dolacak */
        background: linear-gradient(90deg, #f59e0b, #f1c40f); /* Altın sarısı bar */
        box-shadow: inset 0 2px 4px rgba(255,255,255,0.4), 0 0 10px rgba(245,158,11,0.6);
        /* Yavaş ve hafif sekerek dolma animasyonu */
        transition: width 1s cubic-bezier(0.2, 0.8, 0.2, 1); 
    }
    
    .blb-progress-text {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-weight: 800;
        font-size: 0.8rem;
        letter-spacing: 0.5px;
        text-shadow: 1px 1px 3px #000, -1px -1px 3px #000; /* Yazı her renkte okunsun diye kalın siyah gölge */
        z-index: 2;
    }

    /* MOBİL İÇİN HİZALAMA */
    @media (max-width: 768px) {
        .bottom-level-container {
            bottom: 25px; /* Mobil buton hizası */
            left: 78px;   /* 50px buton + 28px boşluk */
            right: 78px;
            height: 38px; /* Mobilde biraz daha ince */
        }
        .blb-level-badge { font-size: 0.85rem; padding: 0 8px; }
        .blb-progress-text { font-size: 0.7rem; }
    }
/* --- PROFIL VE VS COMPARE STİLLERİ --- */
    .stat-bar-bg { background: #e2e8f0; height: 10px; border-radius: 5px; overflow: hidden; width: 100%; margin-top: 4px; }
    .stat-bar-fill { height: 100%; background: linear-gradient(90deg, #10b981, #34d399); transition: width 0.5s; }
    
    [data-theme="dark"] .stat-bar-bg { background: #334155; }
    [data-theme="dark"] .vs-compare-row { border-color: #475569 !important; }

    .vs-compare-row { border-bottom: 1px solid #cbd5e1; padding: 12px 0; }
    .vs-winner-hl { font-weight: 900; color: #10b981; }
    .vs-loser-hl { font-weight: 600; color: #ef4444; opacity: 0.7; }
    .vs-tie-hl { font-weight: 700; color: #f59e0b; }

    .domination-text {
        font-size: 2.2rem;
        font-weight: 900;
        text-transform: uppercase;
        text-align: center;
        background: linear-gradient(90deg, #ff0000, #ff7300);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: pulseGlow 1.5s infinite;
        margin-top: 15px;
    }
    @keyframes pulseGlow {
        0%, 100% { filter: drop-shadow(0 0 10px rgba(255,0,0,0.5)); transform: scale(1); }
        50% { filter: drop-shadow(0 0 25px rgba(255,0,0,0.8)); transform: scale(1.05); }
    }        
</style>

</head>
<body>

<!-- Loader -->
<div id="loadingOverlay" class="spinner-overlay d-none">
    <div class="spinner-border text-info" style="width: 3rem; height: 3rem;" role="status"></div>
    <h4 class="mt-3">Gemini ile Sikisken sorular hazirlaniyor...</h4>
    <p>BEkLIYECEN ABISI.</p>
</div>

<!-- API Key Modal -->
<div class="modal fade" id="apiModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content" style="background-color: var(--bg-card); color: var(--text-color);">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-google"></i> Gemini API Ayarları</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p class="small text-muted">
                    Soru üretebilmek için Google AI Studio'dan ücretsiz API anahtarı almalısınız.
                    <a href="https://aistudio.google.com/app/apikey" target="_blank">Anahtarı Al</a>
                </p>
                <div class="mb-3">
                    <label class="form-label">Google Gemini API Key</label>
                    <input type="password" id="apiKeyInput" class="form-control" placeholder="AIzaSy...">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Kapat</button>
                <button type="button" class="btn btn-primary" onclick="saveApiKey()">Kaydet</button>
            </div>
        </div>
    </div>
</div>
    
    <!-- Veri Aktarım (Export/Import) Modalı -->
<div class="modal fade" id="transferModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="background-color: var(--card-bg); color: var(--text-main);">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title"><i class="bi bi-cloud-arrow-up-fill"></i> Veri Taşıma (PWA)</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs mb-3" id="transferTabs">
                    <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#exportTab">Dışa Aktar (Eski Tel)</a></li>
                    <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#importTab">İçe Aktar (Yeni Tel/App)</a></li>
                </ul>
                <div class="tab-content">
                    <!-- DIŞA AKTAR -->
                    <div class="tab-pane fade show active" id="exportTab">
                        <p class="small text-muted">Mevcut verilerinizi şifreleyerek bir koda dönüştürün. Bu kodu yeni uygulamada kullanacaksınız.</p>
                        <input type="text" id="exportPass" class="form-control mb-2" placeholder="Bir Şifre Belirleyin">
                        <button class="btn btn-primary w-100 mb-2" onclick="exportData()">Kodu Oluştur</button>
                        <textarea id="exportCode" class="form-control" rows="3" readonly placeholder="Oluşturulan kod burada görünecek..."></textarea>
                        <button class="btn btn-outline-secondary w-100 mt-2 btn-sm" onclick="copyTransferCode()"><i class="bi bi-clipboard"></i> Kodu Kopyala</button>
                    </div>
                    <!-- İÇE AKTAR -->
                    <div class="tab-pane fade" id="importTab">
                        <p class="small text-muted">Eski tarayıcıdan kopyaladığınız kodu ve belirlediğiniz şifreyi girerek verilerinizi geri yükleyin.</p>
                        <textarea id="importCode" class="form-control mb-2" rows="3" placeholder="Kodu Buraya Yapıştırın"></textarea>
                        <input type="text" id="importPass" class="form-control mb-2" placeholder="Kodu Oluştururken Girdiğiniz Şifre">
                        <button class="btn btn-success w-100" onclick="importData()">Verileri Geri Yükle</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    
<!-- Günlük Hedefler Modalı -->
<div class="modal fade" id="goalModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title"><i class="bi bi-bullseye"></i> Günlük Çalışma Kotası</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <small class="text-muted" id="goal-date-display">Tarih: --/--/----</small>
                    <button class="btn btn-sm btn-outline-danger" onclick="resetDailyProgressManual()">
                        <i class="bi bi-arrow-counterclockwise"></i> Sayacı Sıfırla
                    </button>
                </div>
                
                <div id="goal-list-container">
                    <!-- Javascript burayı dolduracak -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Kapat</button>
                <button type="button" class="btn btn-success" onclick="saveUserGoals()">Hedefleri Kaydet</button>
            </div>
        </div>
    </div>
</div>
    
<nav class="navbar navbar-expand-lg border-bottom px-3 bg-body-tertiary">
    <div class="container-fluid">
        <a class="navbar-brand fw-bold text-primary" href="#"><i class="bi bi-mortarboard-fill"></i> YDS Mega Test V5</a>

            
        <div class="d-flex gap-2">
            <button class="btn btn-warning btn-sm fw-bold" onclick="openLeaderboard()">
                <i class="bi bi-trophy-fill"></i> Liderlik Tablosu
            </button>
            <button class="btn btn-secondary btn-sm fw-bold" onclick="openProfileModal()">
            <i class="bi bi-person-lines-fill"></i> Profil & VS
            </button>
            <!-- YENİ EKLENEN HEDEFLER BUTONU -->
            <button class="btn btn-outline-success btn-sm" onclick="openDailyGoals()">
                <i class="bi bi-graph-up-arrow"></i> Hedefler
            </button>

                <!-- YENİ EKLENEN HATIRLATICI LİNKİ -->
        <a href="hatirlatici.html" class="btn btn-outline-warning btn-sm" target="_blank">
            <i class="bi bi-alarm-fill"></i> Hatırlatıcı
        </a>
            <a href="fetih.html" class="btn btn-outline-danger btn-sm" target="_blank">
            <i class="bi bi-shield-shaded"></i> Fetih
        </a>
            <!-- MEVCUT BUTONLAR -->
            <button class="btn btn-primary btn-sm mx-1" onclick="openSettings()">
                <i class="bi bi-gear-fill"></i> API
            </button>
            <button class="btn btn-info btn-sm mx-1 text-white" onclick="openDataTransfer()">
            <i class="bi bi-cloud-arrow-up-fill"></i> Veri Aktar
        </button>
            <button class="btn btn-danger btn-sm mx-1" onclick="fullReset()">
                <i class="bi bi-trash"></i> Sıfırla
            </button>
            <button class="btn btn-secondary btn-sm mx-1" onclick="toggleTheme()">
                <i class="bi bi-moon-stars-fill" id="themeIcon"></i>
            </button>
        </div>
    </div>
</nav>

<div class="container py-4" style="max-width:100%;overflow-x:hidden;">
    <div class="row" style="margin-left:0;margin-right:0;">
        <!-- SOL MENÜ -->
        <div class="col-md-4 col-lg-3 mb-4">
            <div class="card p-3 sticky-top" style="top: 20px; max-height: 90vh; overflow-y: auto;">
                <h5 class="fw-bold mb-3 border-bottom pb-2">Bölümler</h5>
                <div id="sidebar-menu"></div>
            </div>
        </div>

        <!-- SAĞ İÇERİK -->
        <div class="col-md-8 col-lg-9">
            <div class="card p-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 id="active-section-title" class="fw-bold m-0 text-primary">Bölüm Seçiniz</h4>
                    <div class="d-flex gap-2 align-items-center">
                        <span id="progress-badge" class="badge bg-secondary">0/0</span>
                        
                        <button class="btn btn-sm btn-primary" onclick="goToFirstUnsolved()">
                            <i class="bi bi-geo-alt-fill"></i> Kaldığım Yer
                        </button>
                        
                        <button class="btn btn-sm btn-outline-warning" onclick="resetCurrentSection()">
                            <i class="bi bi-arrow-counterclockwise"></i> Temizle
                        </button>
                    </div>
                </div>
                <hr>
                <div id="questions-area"> 
                    <div class="text-center py-5 text-muted">Lütfen soldan bir bölüm seçin.</div>
                </div>
                <!-- VS MODU ALANI -->
<div id="vs-area" class="vs-container" style="overflow-x:hidden;max-width:100%;">
    
  <!-- LOBİ EKRANI -->
    <div id="vs-lobby" class="card p-4 text-center">
        <h3 class="text-primary fw-bold mb-4"><i class="bi bi-lightning-charge-fill"></i> YDS MEYDAN OKUMA</h3>
        
        <div class="row g-4">
            <!-- HOST KISMI -->
            <div class="col-md-6 border-end">
                <h5>Oda Kur (Host)</h5>
                <p class="text-muted small">Odanıza bir isim verin (Örn: yds123)</p>
                
                <input type="text" id="vs-host-name" class="form-control mb-2 fw-bold text-center" placeholder="Senin İsmin" maxlength="15">
                <div class="input-group mb-2">
                    <input type="text" id="host-id-input" class="form-control fw-bold" placeholder="Oda İsmi Yazın">
                    <button class="btn btn-primary" onclick="createCustomRoom()">
                        <i class="bi bi-plus-circle"></i> Kur
                    </button>
                </div>
                
                <div id="host-status" class="alert alert-warning d-none">
                    Oda açılıyor... <div class="spinner-border spinner-border-sm"></div>
                </div>
                <div id="host-ready-msg" class="alert alert-success d-none fw-bold">
                    Oda Hazır! Arkadaşın bekleniyor... <div class="spinner-grow spinner-grow-sm"></div>
                </div>
            </div>
            
            <!-- Profil ve İstatistik Modalı -->
<div class="modal fade" id="profileModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
        <div class="modal-content border-0 shadow-lg">
            <div class="modal-header bg-dark text-white border-bottom-0">
                <h5 class="modal-title fw-bold"><i class="bi bi-person-lines-fill text-info"></i> KARİYER & VS KIYASLAMA</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body" style="background-color: var(--bg-body); color: var(--text-main);">
                <ul class="nav nav-pills nav-fill mb-3" id="profileTabs">
                    <li class="nav-item"><a class="nav-link active fw-bold" data-bs-toggle="pill" href="#myStatsTab">Benim İstatistiklerim</a></li>
                    <li class="nav-item"><a class="nav-link fw-bold" data-bs-toggle="pill" href="#compareTab">Başkayla Kıyasla (VS)</a></li>
                </ul>
                <div class="tab-content">
                    <!-- BENİM İSTATİSTİKLERİM -->
                    <div class="tab-pane fade show active" id="myStatsTab">
                        <div id="my-stats-container">
                            <!-- JS ile dolacak -->
                        </div>
                    </div>
                    <!-- KARŞILAŞTIRMA (VS) -->
                    <div class="tab-pane fade" id="compareTab">
                        <div class="input-group mb-3">
                            <span class="input-group-text bg-primary text-white"><i class="bi bi-search"></i></span>
                            <input type="text" id="vs-opponent-name" class="form-control fw-bold" list="players-datalist" placeholder="Kıyaslanacak Rakibin Adı (Listeden seçin)">
                            <datalist id="players-datalist"></datalist>
                            <button class="btn btn-danger fw-bold" onclick="compareWithOpponent()">MEYDAN OKU</button>
                        </div>
                        <div id="vs-compare-result" class="d-none">
                            <!-- Üst Başlık: Avatarlar ve İsimler -->
                            <div class="d-flex justify-content-between align-items-center mb-4 p-3 rounded" style="background: rgba(0,0,0,0.05); border: 2px solid #ccc;">
                                <div class="text-center" style="width: 40%;">
                                    <div id="vs-my-avatar" class="mb-1 d-flex justify-content-center"></div>
                                    <h5 class="fw-bold m-0 text-primary" id="vs-my-name-display">BEN</h5>
                                </div>
                                <div class="text-center fw-bold fs-2 text-danger" style="width: 20%;">VS</div>
                                <div class="text-center" style="width: 40%;">
                                    <div id="vs-opp-avatar" class="mb-1 d-flex justify-content-center"></div>
                                    <h5 class="fw-bold m-0 text-danger" id="vs-opp-name-display">RAKİP</h5>
                                </div>
                            </div>
                            <!-- Sonuç Listesi -->
                            <div id="vs-compare-list"></div>
                            <!-- Domination Text -->
                            <div id="vs-domination-text" class="domination-text"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
            <!-- GUEST KISMI -->
            <div class="col-md-6">
                <h5>Odaya Katıl (Guest)</h5>
                <p class="text-muted small">Arkadaşının belirlediği oda ismini gir.</p>
                <input type="text" id="vs-guest-name" class="form-control mb-2 fw-bold text-center" placeholder="Senin İsmin" maxlength="15">
                <input type="text" id="join-id-input" class="form-control mb-2 text-center" placeholder="Oda İsmi">
                <button class="btn btn-lg btn-success w-100" onclick="joinRoom()">
                    <i class="bi bi-box-arrow-in-right"></i> Katıl
                </button>
            </div>
        </div>
    </div>

<!-- KATEGORİ VE AYAR SEÇİMİ (HOST - FETİH STYLE) -->
    <div id="vs-setup" class="card vs-setup-card p-4 d-none" style="color:#fff;">
        <h3 class="text-warning text-center mb-4"><i class="bi bi-sliders"></i> Savaş Ayarları</h3>
        
        <h5 class="text-white mb-3">Soru Bölümleri</h5>
        <div id="vs-cat-list">
            <!-- JS ile doldurulacak -->
        </div>
        
        <hr style="border-color: #b8860b;">

        <div class="mb-3">
            <label class="form-label text-warning fw-bold">Kim Önce Cevaplar?</label>
            <select id="vs-first-answer" class="form-select bg-dark text-white border-secondary">
                <option value="whoever" selected>Kim biliyorsa o (önce basan)</option>
            </select>
        </div>
        
        <button class="btn btn-lg w-100 mt-2 fw-bold" style="background:linear-gradient(180deg,#b8860b,#8B6914);color:#fff;border:2px solid #d4a017;text-transform:uppercase;letter-spacing:2px;" onclick="startVsMatch()">
            <i class="bi bi-swords"></i> SAVAŞI BAŞLAT
        </button>
    </div>

    <!-- OYUN EKRANI -->
    <div id="vs-gameplay" class="card d-none" style="overflow: hidden; position: relative;">
        <!-- HEALTH BAR TOP (MK / SF STYLE) -->
        <div class="vs-healthbar-container">
            <div class="vs-hb-row">
                <!-- Player 1 (Host) - LEFT -->
                <div class="vs-player-side" id="vs-p1-side">
                    <img src="Hostimg.jpeg" alt="Host" class="vs-player-avatar" id="vs-p1-avatar">
                    <div class="vs-player-info">
                        <div class="vs-player-name" id="vs-p1-name">HOST</div>
                        <div class="vs-hp-bar-wrap" id="vs-p1-hp-wrap">
                            <div class="vs-hp-ghost" id="vs-p1-hp-ghost" style="width:100%"></div>
                            <div class="vs-hp-bar" id="vs-p1-hp-bar" style="width:100%"></div>
                            <span class="vs-hp-text" id="vs-p1-hp-text">100</span>
                        </div>
                    </div>
                </div>
                <!-- VS Badge -->
                <div class="vs-hb-vs-badge">VS</div>
                <!-- Player 2 (Guest) - RIGHT -->
                <div class="vs-player-side right" id="vs-p2-side">
                    <img src="Questimg.jpeg" alt="Quest" class="vs-player-avatar" id="vs-p2-avatar">
                    <div class="vs-player-info">
                        <div class="vs-player-name" id="vs-p2-name">RAKİP</div>
                        <div class="vs-hp-bar-wrap" id="vs-p2-hp-wrap">
                            <div class="vs-hp-ghost" id="vs-p2-hp-ghost" style="width:100%"></div>
                            <div class="vs-hp-bar" id="vs-p2-hp-bar" style="width:100%"></div>
                            <span class="vs-hp-text" id="vs-p2-hp-text">100</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Question Header -->
        <div style="padding:8px 16px;background:#1e293b;display:flex;justify-content:space-between;align-items:center;">
            <span id="vs-q-count" style="color:#f1c40f;font-weight:800;">Soru 1/15</span>
            <span id="vs-timer-text" style="color:#e74c3c;font-weight:800;font-size:1.2rem;">30sn</span>
        </div>
        <div style="height:4px;background:#2c2c3a;"><div id="vs-timer-bar" style="height:100%;width:100%;background:#3498db;transition:width 1s linear;"></div></div>

        <div class="card-body text-center mt-2" id="vs-question-body">
            <h5 id="vs-q-text" class="mb-4 fw-bold" style="min-height:60px;">Soru Yükleniyor...</h5>
            <div id="vs-options" class="d-grid gap-2"></div>
            <div id="vs-status-msg" class="mt-3 fw-bold fst-italic"></div>
            
            <!-- AI Hint area -->
            <div id="vs-hint-area" class="d-none mt-3">
                <button class="vs-hint-btn" id="vs-hint-btn" onclick="requestAiHint()">
                    <i class="bi bi-stars"></i> AI İpucu Al
                </button>
                <div id="vs-hint-content" class="mt-2 text-start p-3 d-none" style="background:rgba(139,92,246,0.1);border:1px solid #7c3aed;border-radius:8px;font-size:0.9rem;"></div>
            </div>
        </div>

        <!-- Ready bar (always visible, ghost when inactive) -->
        <div id="vs-ready-screen" class="vs-ready-overlay">
            <div class="text-center text-white mb-2">
                <div id="vs-round-result-text" style="font-size:1.1rem;font-weight:700;"></div>
            </div>
            <button class="vs-ready-btn vs-ready-ghost" id="vs-ready-btn" onclick="pressReady()" disabled>
                <i class="bi bi-check-circle-fill"></i> HAZIRIM
            </button>
            <div id="vs-ready-wait" class="d-none text-white mt-2">
                <div class="spinner-border spinner-border-sm text-warning"></div> Rakip bekleniyor...
            </div>
        </div>
    </div>

    <!-- SONUÇ EKRANI -->
    <div id="vs-result" class="card p-5 text-center d-none">
        <h1 class="display-4 fw-bold mb-3" id="vs-winner-text"></h1>
        <div class="row justify-content-center mb-4">
            <div class="col-4 bg-light p-3 rounded border me-2">
                <h3 id="vs-final-p1-label">HOST</h3>
                <h2 class="text-primary" id="final-hp-p1">100</h2>
                <small class="text-muted">HP</small>
            </div>
            <div class="col-4 bg-light p-3 rounded border">
                <h3 id="vs-final-p2-label">RAKİP</h3>
                <h2 class="text-danger" id="final-hp-p2">100</h2>
                <small class="text-muted">HP</small>
            </div>
        </div>
        <button class="btn btn-outline-secondary" onclick="location.reload()">Ana Menüye Dön</button>
    </div>
</div>
            </div>
        </div>
    </div>
</div>

    <!-- LEADERBOARD MODAL -->
<div class="modal fade" id="leaderboardModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content border-0 shadow-lg">
            <div class="modal-header bg-dark text-white border-bottom-0">
                <h5 class="modal-title fw-bold"><i class="bi bi-trophy text-warning"></i> LİDERLİK TABLOSU</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body bg-light" style="max-height:80vh;overflow-y:auto;">

                <!-- MOGGER BANNER -->
                <div id="mogger-banner" class="text-center p-3 mb-3 rounded-3" style="background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);border:2px solid #e94560;display:none;">
                    <div class="text-warning fw-bold text-uppercase small mb-1" style="letter-spacing:3px;">BU YILIN MOGGER'I</div>
                    <div id="mogger-avatar" style="width:64px;height:64px;border-radius:50%;margin:0 auto 8px;border:3px solid #f1c40f;overflow:hidden;background:#334155;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#f1c40f;font-weight:900;"></div>
                    <div id="mogger-name" class="text-white fw-bold fs-5"></div>
                    <div id="mogger-wins" class="text-warning small"></div>
                </div>

                <!-- Yıllık Kazanimlar -->
                <div id="yearly-wins-section" class="mb-3" style="display:none;">
                    <h6 class="fw-bold border-bottom pb-2"><i class="bi bi-calendar-check text-info"></i> Genel Gün Birincilikleri</h6>
                    <div id="yearly-wins-list" class="d-flex flex-wrap gap-2"></div>
                </div>

                <!-- Profil Ayarlari -->
                <div class="card border-0 shadow-sm mb-3">
                    <div class="card-body">
                        <div class="d-flex align-items-center gap-3 mb-2">
                            <!-- Avatar -->
                            <div style="position:relative;cursor:pointer;" onclick="document.getElementById('avatar-upload').click()">
                                <div id="my-avatar-display" style="width:52px;height:52px;border-radius:50%;background:#334155;display:flex;align-items:center;justify-content:center;font-size:1.3rem;color:#fff;font-weight:800;overflow:hidden;border:2px solid #3498db;"></div>
                                <div style="position:absolute;bottom:-2px;right:-2px;background:#3498db;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;">
                                    <i class="bi bi-camera-fill" style="font-size:0.55rem;color:#fff;"></i>
                                </div>
                                <input type="file" id="avatar-upload" accept="image/*" style="display:none;" onchange="handleAvatarUpload(event)">
                            </div>
                            <div class="flex-grow-1">
                                <div class="input-group input-group-sm mb-1">
                                    <span class="input-group-text bg-secondary text-white fw-bold" style="font-size:0.75rem;">Ad:</span>
                                    <input type="text" id="leaderboard-name" class="form-control fw-bold" placeholder="Adını Gir" onchange="saveUserName()">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- BİLDİRİM AYARI (WEB PUSH + NTFY) -->
                <div class="card border-0 shadow-sm mb-3">
                    <div class="card-body py-2">
                        <div class="d-flex align-items-center justify-content-between mb-2">
                            <span class="fw-bold small"><i class="bi bi-bell-fill text-danger"></i> Bildirimler</span>
                            <button class="btn btn-sm btn-danger" onclick="requestNotificationPermission()">
                                <i class="bi bi-bell"></i> Bildirimleri Aç
                            </button>
                        </div>
                        <div id="notif-status" class="mb-2">
                            <span class="badge bg-secondary" id="notif-status-badge">Kontrol ediliyor...</span>
                        </div>
                        <small class="text-muted" style="font-size:0.7rem;">
                            Biri seni geçtiğinde telefon/bilgisayar bildirimi alırsın.<br>
                            📱 PWA olarak kuruluysa arka planda da çalışır!
                        </small>

                        <!-- Eski NTFY sistemi (opsiyonel, aşağıda gizli) -->
                        <div class="mt-2 border-top pt-2">
                            <div class="d-flex align-items-center justify-content-between">
                                <span class="small text-muted"><i class="bi bi-broadcast"></i> ntfy (Alternatif)</span>
                                <div class="form-check form-switch mb-0">
                                    <input class="form-check-input" type="checkbox" id="notif-toggle" onchange="toggleNotifSetup()">
                                </div>
                            </div>
                            <div id="notif-setup" style="display:none;">
                                <div class="alert alert-info py-2 px-2 small mb-2 mt-2" style="font-size:0.72rem;">
                                    <strong>1.</strong> <a href="https://play.google.com/store/apps/details?id=io.heckel.ntfy" target="_blank" class="fw-bold">ntfy</a> yükle → <strong>"+"</strong> bas → kanal yapıştır
                                </div>
                                <div class="input-group input-group-sm mb-1">
                                    <span class="input-group-text bg-danger text-white fw-bold" style="font-size:0.7rem;">📢</span>
                                    <input type="text" id="notif-channel" class="form-control fw-bold" readonly style="font-size:0.85rem;">
                                    <button class="btn btn-outline-secondary btn-sm" onclick="copyNotifChannel()" title="Kopyala"><i class="bi bi-clipboard"></i></button>
                                </div>
                                <button class="btn btn-sm btn-outline-primary w-100 mt-1" onclick="testNotification()">
                                    <i class="bi bi-send-fill"></i> Test
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bugünün Skoru + Level -->
                <div class="card bg-white border-0 shadow-sm mb-3">
                    <div class="card-body text-center py-2">
                        <div class="row">
                            <div class="col-6 border-end">
                                <h6 class="text-muted text-uppercase small fw-bold mb-1">Bugünün Puanı</h6>
                                <h1 class="display-5 fw-bold text-primary mb-0" id="my-daily-score">0</h1>
                                <small class="text-muted">Sıfırlanma: 00:00</small>
                            </div>
                            <div class="col-6">
                                <h6 class="text-muted text-uppercase small fw-bold mb-1">Level</h6>
                                <h1 class="display-5 fw-bold mb-0" id="my-level-display" style="color:#2563eb;">0</h1>
                                <small class="fw-bold" id="my-level-title" style="letter-spacing:1px;">---</small>
                            </div>
                        </div>
                        <div class="mt-2 px-2">
                            <div class="d-flex justify-content-between" style="font-size:0.65rem;">
                                <span class="text-muted" id="my-total-score-label">Toplam: 0 P</span>
                                <span class="text-muted" id="my-next-level-label">Sonraki: 0 P kaldı</span>
                            </div>
                            <div class="progress" style="height:8px;border-radius:4px;">
                                <div class="progress-bar" id="my-level-progress" role="progressbar" style="width:0%;background:linear-gradient(90deg,#2563eb,#7c3aed);border-radius:4px;"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Geçilme Uyarısı -->
                <div id="overtake-alert" class="alert alert-danger d-none mb-3 p-2" style="font-size:0.85rem;">
                    <i class="bi bi-exclamation-triangle-fill"></i> <strong id="overtake-name">---</strong> seni geçti!
                </div>

                <h6 class="fw-bold border-bottom pb-2">🏆 En Iyiler (Bugun)</h6>
                <ul class="list-group list-group-flush" id="leaderboard-list">
                    <!-- JS ile dolacak -->
                </ul>
            </div>
        </div>
    </div>
</div>
    
<!-- Konfeti Efekti İçin Kütüphane -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
<script>
    
/* ================= ONLINE LEADERBOARD & PUAN SİSTEMİ (V2 - MOGGER) ================= */

// ============ PWA & WEB BİLDİRİM SİSTEMİ ============
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./sw.js').then(async (reg) => {
        console.log('SW kayıt oldu');
        if ('periodicSync' in reg) {
            try {
                await reg.periodicSync.register('check-leaderboard', { minInterval: 2 * 60 * 1000 });
            } catch (e) { console.log('Periodic sync desteklenmiyor'); }
        }
    }).catch(err => console.log('SW hata:', err));

    navigator.serviceWorker.addEventListener('message', (event) => {
        if (event.data.type === 'LEADERBOARD_UPDATE') {
            handleLeaderboardUpdate(event.data.players);
        }
    });
}

let notificationPermission = ('Notification' in window) ? Notification.permission : 'denied';

function requestNotificationPermission() {
    if (!('Notification' in window)) { alert('Bu tarayıcı bildirimleri desteklemiyor.'); return; }
    Notification.requestPermission().then(perm => {
        notificationPermission = perm;
        if (perm === 'granted') {
            alert('✅ Bildirimler açıldı! Biri seni geçince bildirim alacaksın.');
            localStorage.setItem('yds_web_notif', 'true');
            updateNotifStatusBadge();
        } else {
            alert('❌ Bildirim izni reddedildi. Ayarlardan açabilirsin.');
        }
    });
}

function sendLocalNotification(title, body) {
    if (notificationPermission !== 'granted') return;
    if (navigator.serviceWorker && navigator.serviceWorker.controller) {
        navigator.serviceWorker.ready.then(reg => {
            reg.showNotification(title, {
                body: body, icon: './icon-192.png', badge: './icon-192.png',
                vibrate: [200, 100, 200], tag: 'leaderboard-alert', renotify: true
            });
        });
    } else {
        try { new Notification(title, { body: body, icon: './icon-192.png' }); } catch(e) {}
    }
}

function handleLeaderboardUpdate(players) {
    if (!players || players.length === 0) return;
    const leader = players[0].name;
    if (previousLeader === currentUser && leader !== currentUser && leader !== "") {
        sendLocalNotification('🚨 Liderliği Kaybettin!', `${leader} seni günlük puanda geçti! Hadi geri al! 💪`);
        checkOvertakeAlert(leader);
    }
    previousLeader = leader;
    localStorage.setItem('yds_prev_leader', leader);
}

function updateNotifStatusBadge() {
    const badge = document.getElementById('notif-status-badge');
    if (!badge) return;
    if (!('Notification' in window)) {
        badge.className = 'badge bg-secondary'; badge.textContent = 'Desteklenmiyor';
    } else if (Notification.permission === 'granted') {
        badge.className = 'badge bg-success'; badge.textContent = '✅ Aktif';
    } else if (Notification.permission === 'denied') {
        badge.className = 'badge bg-danger'; badge.textContent = '❌ Kapalı (Tarayıcı ayarlarından aç)';
    } else {
        badge.className = 'badge bg-warning text-dark'; badge.textContent = '⚠️ İzin verilmedi';
    }
}

// ============ CROSS-TAB SYNC (Hatırlatıcı ↔ Index Anlık Senkronizasyon) ============
// Başka sekme localStorage değiştirince → bu sekmedeki in-memory değişkenleri güncelle
window.addEventListener('storage', function(e) {
    if (e.key === 'yds_daily_score_v2' && e.newValue) {
        try {
            const fresh = JSON.parse(e.newValue);
            const todayStr = new Date().toLocaleDateString("tr-TR");
            if (fresh.date === todayStr) {
                dailyScoreData = fresh;
                myLocalScore = fresh.score;
            }
        } catch(ex) {}
    }
    if (e.key === 'yds_total_score' && e.newValue) {
        try {
            const fresh = JSON.parse(e.newValue);
            totalScoreData = fresh;
            myTotalScore = fresh.total || 0;
            myLevel = getLevelFromTotalPoints(myTotalScore);
        } catch(ex) {}
    }
});

// Sekme tekrar görünür olunca → localStorage'dan taze veriyi oku
document.addEventListener('visibilitychange', function() {
    if (!document.hidden) {
        refreshFromLocalStorage();
    }
});

// Sayfa odaklanınca da güncelle (mobilde daha güvenilir)
window.addEventListener('focus', function() {
    refreshFromLocalStorage();
});

function refreshFromLocalStorage() {
    const todayStr = new Date().toLocaleDateString("tr-TR");
    try {
        const freshDaily = JSON.parse(localStorage.getItem('yds_daily_score_v2'));
        if (freshDaily && freshDaily.date === todayStr) {
            dailyScoreData = freshDaily;
            myLocalScore = freshDaily.score;
        }
    } catch(e) {}
    try {
        const freshTotal = JSON.parse(localStorage.getItem('yds_total_score'));
        if (freshTotal) {
            myTotalScore = freshTotal.total || 0;
            myLevel = getLevelFromTotalPoints(myTotalScore);
        }
    } catch(e) {}
    updateBottomLevelBar();
}
// ============ SYNC SONU ============

// --- PANTRY API ---
const PANTRY_ID = "41e0725c-beab-4cea-9de2-ed320c7b115a"; 
const BUCKET_NAME = "YdsLiderlikTablosu";
const MOGGER_BUCKET = "YdsMoggerTablosu"; // Haftalık yerine genel (yıllık) mogger tablosu

// --- YEREL DEĞİŞKENLER ---
let currentUser = localStorage.getItem('yds_username') || "İsimsiz Komutan";
let myAvatar = localStorage.getItem('yds_avatar') || null;
let notifEnabled = localStorage.getItem('yds_notif_enabled') === 'true';
let previousLeader = localStorage.getItem('yds_prev_leader') || "";

// NTFY Kanalını Sabitle (Sadece ilk girişte 1 kez oluşturulur ve ASLA değişmez)
let myNotifChannel = localStorage.getItem('yds_notif_channel');
if (!myNotifChannel) {
    const randomHash = Math.random().toString(36).substring(2, 8) + Date.now().toString(36).substring(4, 8);
    myNotifChannel = `yds-lider-${randomHash}`;
    localStorage.setItem('yds_notif_channel', myNotifChannel);
}

// 1. GÜNLÜK SKORU YERELDEN YÜKLE
const todayStr = new Date().toLocaleDateString("tr-TR");
let dailyScoreData = JSON.parse(localStorage.getItem('yds_daily_score_v2')) || { date: todayStr, score: 0 };

// Gün değiştiyse -> Yalnızca yerel skoru sıfırla (Bulut devri syncScoreToCloud'da güvenle yapılır)
if (dailyScoreData.date !== todayStr) {
    dailyScoreData = { date: todayStr, score: 0 };
    localStorage.setItem('yds_daily_score_v2', JSON.stringify(dailyScoreData));
    previousLeader = "";
    localStorage.setItem('yds_prev_leader', "");
}
let myLocalScore = dailyScoreData.score;

// 2. AVATAR SİSTEMİ (YÜKSEK KALİTE)
function handleAvatarUpload(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    const reader = new FileReader();
    reader.onload = function(e) {
        const img = new Image();
        img.onload = function() {
            const canvas = document.createElement('canvas');
            canvas.width = 256; 
            canvas.height = 256;
            
            const ctx = canvas.getContext('2d');
            ctx.imageSmoothingEnabled = true;
            ctx.imageSmoothingQuality = "high";

            const size = Math.min(img.width, img.height);
            const sx = (img.width - size) / 2;
            const sy = (img.height - size) / 2;
            
            ctx.drawImage(img, sx, sy, size, size, 0, 0, 256, 256);
            myAvatar = canvas.toDataURL('image/jpeg', 0.9);
            
            localStorage.setItem('yds_avatar', myAvatar);
            updateMyAvatarDisplay();
            syncScoreToCloud(0); 
            
            alert("Profil fotoğrafı yüksek kalitede kaydedildi!");
        };
        img.src = e.target.result;
    };
    reader.readAsDataURL(file);
}

function getAvatarHTML(name, avatarData, size) {
    size = size || 40;
    if (avatarData) {
        return `<img src="${avatarData}" style="width:${size}px;height:${size}px;border-radius:50%;object-fit:cover;">`;
    }
    const initial = (name || "?").charAt(0).toUpperCase();
    const colors =['#e74c3c','#3498db','#2ecc71','#f39c12','#9b59b6','#1abc9c','#e67e22','#e91e63'];
    const colorIdx = name ? name.charCodeAt(0) % colors.length : 0;
    return `<div style="width:${size}px;height:${size}px;border-radius:50%;background:${colors[colorIdx]};display:flex;align-items:center;justify-content:center;font-weight:900;color:#fff;font-size:${size*0.45}px;">${initial}</div>`;
}

function updateMyAvatarDisplay() {
    const el = document.getElementById('my-avatar-display');
    if (el) el.innerHTML = getAvatarHTML(currentUser, myAvatar, 52);
}

// 3. NTFY BİLDİRİM SİSTEMİ
function toggleNotifSetup() {
    const toggle = document.getElementById('notif-toggle');
    const setup = document.getElementById('notif-setup');
    notifEnabled = toggle.checked;
    localStorage.setItem('yds_notif_enabled', notifEnabled);
    setup.style.display = notifEnabled ? '' : 'none';
    
    document.getElementById('notif-channel').value = myNotifChannel;
    syncScoreToCloud(0); // Kanalı buluta kaydet
}

function copyNotifChannel() {
    const ch = document.getElementById('notif-channel').value;
    navigator.clipboard.writeText(ch).then(() => {
        alert("Kanal kopyalandı! ntfy uygulamasında yapıştır.");
    }).catch(() => {
        const input = document.getElementById('notif-channel');
        input.select();
        document.execCommand('copy');
        alert("Kanal kopyalandı!");
    });
}

async function testNotification() {
    if (!myNotifChannel) {
        alert("Bildirim kanalı bulunamadı!");
        return;
    }
    try {
        await fetch('https://ntfy.sh/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                topic: myNotifChannel,
                title: "🏆 YDS Liderlik Test",
                message: "Test bildirimi! Biri seni geçtiğinde böyle bir bildirim alacaksın. 💪",
                tags: ["trophy"],
                priority: 3
            })
        });
        alert("Test bildirimi gönderildi! Telefonunu veya uygulamanı kontrol et.");
    } catch(e) {
        alert("Bildirim gönderilemedi. İnternet bağlantını kontrol et.\n" + e.message);
    }
}

async function sendDailyOvertakeNotification(overtakenChannel, myName, myScore) {
    if (!overtakenChannel) return;
    try {
        await fetch('https://ntfy.sh/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                topic: overtakenChannel,
                title: "🚨 Günlük Skorda Geçildin!",
                message: `${myName}, bugün ${myScore} puanla seni geride bıraktı! 😤 Hemen soru çöz ve tahtını geri al! 💪`,
                tags: ["rotating_light", "dart"],
                priority: 4
            })
        });
    } catch(e) {}
}

async function sendTotalOvertakeNotification(overtakenChannel, myName, myTP, myLevel) {
    if (!overtakenChannel) return;
    try {
        await fetch('https://ntfy.sh/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                topic: overtakenChannel,
                title: "🏆 Genel Sıralamada Geçildin!",
                message: `${myName}; Lv.${myLevel} (${myTP.toLocaleString('tr-TR')} TP) seviyesine ulaşarak seni FRAMEMOOGLADI! 😤`,
                tags: ["trophy", "chart_with_upwards_trend"],
                priority: 4
            })
        });
    } catch(e) {}
}

// 4. KULLANICI ADINI KAYDETME (Kanal Artık Sabit Kaldığı İçin Değişmez)
function saveUserName() {
    const inputName = document.getElementById('leaderboard-name').value.trim();
    if (inputName && inputName.length > 2) {
        currentUser = inputName;
        localStorage.setItem('yds_username', currentUser);
        updateMyAvatarDisplay();
        syncScoreToCloud(0);
        alert("Komutan adı kaydedildi: " + currentUser);
    } else {
        alert("Lütfen en az 3 harfli bir isim gir.");
    }
}

// === LEVEL SİSTEMİ ===
const LEVEL_TITLES = {
    1: "Faggot", 10: "Gooner", 20: "Sedanter", 30: "Grinder",
    40: "Alpha", 50: "Sigma", 60: "Gigachad", 70: "Goat",
    80: "TerraChad", 90: "TRUECHAD", 100: "TOPG"
};

function getLevelTitle(level) {
    if (level >= 100) return LEVEL_TITLES[100];
    if (level >= 90) return LEVEL_TITLES[90];
    if (level >= 80) return LEVEL_TITLES[80];
    if (level >= 70) return LEVEL_TITLES[70];
    if (level >= 60) return LEVEL_TITLES[60];
    if (level >= 50) return LEVEL_TITLES[50];
    if (level >= 40) return LEVEL_TITLES[40];
    if (level >= 30) return LEVEL_TITLES[30];
    if (level >= 20) return LEVEL_TITLES[20];
    if (level >= 10) return LEVEL_TITLES[10];
    return LEVEL_TITLES[1];
}

function getLevelTitleColor(level) {
    if (level >= 100) return "#ff0000";
    if (level >= 90) return "#ff4500";
    if (level >= 80) return "#ff6347";
    if (level >= 70) return "#ffd700";
    if (level >= 60) return "#9b59b6";
    if (level >= 50) return "#3498db";
    if (level >= 40) return "#2ecc71";
    if (level >= 30) return "#e67e22";
    if (level >= 20) return "#1abc9c";
    if (level >= 10) return "#95a5a6";
    return "#7f8c8d";
}

// Toplam puan -> Level hesapla (cumulative: 500 * L^1.8)
function getCumulativePointsForLevel(level) {
    if (level <= 0) return 0;
    return Math.floor(500 * Math.pow(level, 1.8));
}

function getLevelFromTotalPoints(totalPoints) {
    let lvl = 0;
    for (let i = 1; i <= 100; i++) {
        if (totalPoints >= getCumulativePointsForLevel(i)) {
            lvl = i;
        } else {
            break;
        }
    }
    return lvl;
}

// TOPLAM PUAN YÜKLEME
let totalScoreData = JSON.parse(localStorage.getItem('yds_total_score')) || { total: 0 };
let myTotalScore = totalScoreData.total || 0;
let myLevel = getLevelFromTotalPoints(myTotalScore);

// 5. PUAN EKLEME
function addScorePoints(amount) {
    if (dailyScoreData.date !== new Date().toLocaleDateString("tr-TR")) {
        dailyScoreData = { date: new Date().toLocaleDateString("tr-TR"), score: 0 };
    }
    dailyScoreData.score += amount;
    myLocalScore = dailyScoreData.score;
    localStorage.setItem('yds_daily_score_v2', JSON.stringify(dailyScoreData));

    // TOPLAM PUAN (asla sıfırlanmaz)
    const oldLevel = myLevel;
    myTotalScore += amount;
    totalScoreData.total = myTotalScore;
    localStorage.setItem('yds_total_score', JSON.stringify(totalScoreData));
    myLevel = getLevelFromTotalPoints(myTotalScore);

    // LEVEL ATLADI MI?
    if (myLevel > oldLevel) {
        showLevelUpNotification(myLevel);
    }

    showScoreToast(`+${amount} PUAN!`);
    syncScoreToCloud(amount);
    updateBottomLevelBar();
}

// 6. BULUT SENKRONİZASYON VE DETAYLI GEÇİLME KONTROLÜ
async function syncScoreToCloud(pointsToAdd) {
    const url = `https://getpantry.cloud/apiv1/pantry/${PANTRY_ID}/basket/${BUCKET_NAME}`;
    const todayStr = new Date().toLocaleDateString("tr-TR");
    
    try {
        let data = { date: todayStr, players:[] };
        try {
            let resp = await fetch(url, { method: "GET", headers: { "Content-Type": "application/json" } });
            if (resp.ok) {
                let json = await resp.json();
                if (json.date && json.date !== todayStr) {
                    // BUG ÇÖZÜMÜ: Eğer buluttaki veri dününse ve biz bugün ilk bağlanan kişiysek,
                    // veriyi ezmeden önce MOGGER tablosuna 1.yi kaydediyoruz!
                    await processCloudRollover(json);
                } else {
                    data = json;
                }
            }
        } catch(e) {}

        if (!data.players) data.players =[];

        let myOldDaily = 0;
        let myOldTotal = 0;
        let myIndexBefore = data.players.findIndex(p => p.name === currentUser);

        if (myIndexBefore > -1) {
            myOldDaily = data.players[myIndexBefore].score || 0;
            myOldTotal = data.players[myIndexBefore].totalScore || 0;
        }

        let dailyAheadBefore = data.players.filter(p => p.score > myOldDaily).map(p => p.name);
        let tpAheadBefore = data.players.filter(p => (p.totalScore || 0) > myOldTotal).map(p => p.name);
        let sortedBefore = [...data.players].sort((a,b) => b.score - a.score);
        let oldLeader = sortedBefore.length > 0 ? sortedBefore[0].name : "";

        let idx = data.players.findIndex(p => p.name === currentUser);
        const playerObj = { 
            name: currentUser, 
            score: myLocalScore, 
            totalScore: myTotalScore,
            level: myLevel,
            avatar: myAvatar || "", 
            ntfyChannel: (notifEnabled && myNotifChannel) ? myNotifChannel : "",
            stats: typeof calculateMyStats === "function" ? calculateMyStats() : {}
        };

        if (idx > -1) { data.players[idx] = playerObj; } 
        else { data.players.push(playerObj); }

        let dailyAheadAfter = data.players.filter(p => p.score > myLocalScore).map(p => p.name);
        let tpAheadAfter = data.players.filter(p => (p.totalScore || 0) > myTotalScore).map(p => p.name);

        if (pointsToAdd > 0) {
            let overtookDaily = dailyAheadBefore.filter(name => !dailyAheadAfter.includes(name));
            let overtookTP = tpAheadBefore.filter(name => !tpAheadAfter.includes(name));

            overtookDaily.forEach(overtakenName => {
                let p = data.players.find(x => x.name === overtakenName);
                if (p && p.ntfyChannel && p.name !== currentUser) sendDailyOvertakeNotification(p.ntfyChannel, currentUser, myLocalScore);
            });

            overtookTP.forEach(overtakenName => {
                let p = data.players.find(x => x.name === overtakenName);
                if (p && p.ntfyChannel && p.name !== currentUser) sendTotalOvertakeNotification(p.ntfyChannel, currentUser, myTotalScore, myLevel);
            });
        }

        let sortedAfter = [...data.players].sort((a,b) => b.score - a.score);
        let newLeader = sortedAfter[0]?.name || "";

        if (oldLeader === currentUser && newLeader !== currentUser && newLeader !== "") {
            checkOvertakeAlert(newLeader);
        }

        previousLeader = newLeader;
        localStorage.setItem('yds_prev_leader', newLeader);

        await fetch(url, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(data) });

    } catch (error) {
        console.error("Online skor hatası:", error);
    }
}

// 7. GEÇİLME KONTROLÜ
function checkOvertakeAlert(newLeaderName) {
    showOvertakeToast(newLeaderName);
    sendLocalNotification('🚨 Liderliği Kaybettin!', `${newLeaderName} seni geçti! Hadi geri al tahtını! 💪`);
    const alertEl = document.getElementById('overtake-alert');
    if (!alertEl) return;
    alertEl.classList.remove('d-none');
    document.getElementById('overtake-name').textContent = newLeaderName;
}

function showOvertakeToast(name) {
    const existing = document.querySelector('.overtake-toast');
    if (existing) existing.remove();
    const div = document.createElement('div');
    div.className = 'overtake-toast';
    div.style.cssText = 'position:fixed;top:20px;left:50%;transform:translateX(-50%);z-index:99999;background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff;padding:12px 24px;border-radius:12px;font-weight:800;font-size:1rem;box-shadow:0 8px 32px rgba(0,0,0,0.4);animation:slideDown 0.5s;text-align:center;max-width:90vw;';
    div.innerHTML = `<i class="bi bi-exclamation-triangle-fill"></i> ${name} seni geçti! 😤<br><small style="font-weight:400;">Liderlik tahtını geri al!</small>`;
    document.body.appendChild(div);
    setTimeout(() => { if (div.parentNode) div.remove(); }, 6000);
}

// Sayfa açılışında ve arka planda liderliği (sadece ekran uyarısı için) kontrol et
async function checkLeadershipOnLoad() {
    const url = `https://getpantry.cloud/apiv1/pantry/${PANTRY_ID}/basket/${BUCKET_NAME}`;
    const todayStr = new Date().toLocaleDateString("tr-TR");
    try {
        let resp = await fetch(url, { method: "GET", headers: { "Content-Type": "application/json" } });
        if (!resp.ok) return;
        let data = await resp.json();
        if (!data.players || data.date !== todayStr) return;
        
        data.players.sort((a,b) => b.score - a.score);
        const leader = data.players[0]?.name || "";
        
        // Sadece HTML (Ekranda açıkken düşen) alert için kontrol: 
        // Eğer önceki lider bendim ama artık değilsem → geçildim!
        if (previousLeader === currentUser && leader !== currentUser && leader !== "") {
            checkOvertakeAlert(leader);
        }
        
        previousLeader = leader;
        localStorage.setItem('yds_prev_leader', leader);
    } catch(e) {}
}
// Sayfa yüklendiğinde kontrol et
setTimeout(checkLeadershipOnLoad, 3000);
// Her 2 dakikada bir kontrol et
setInterval(checkLeadershipOnLoad, 120000);


// 8. GÜN SONU DEVRİ VE MOGGER SİSTEMİ
async function processCloudRollover(dailyData) {
    const moggerUrl = `https://getpantry.cloud/apiv1/pantry/${PANTRY_ID}/basket/${MOGGER_BUCKET}`;
    const yearKey = new Date().getFullYear().toString();

    if (!dailyData || !dailyData.players || dailyData.players.length === 0) return;

    // 0 Puan alanları ele, geçerli lideri bul
    const validPlayers = dailyData.players.filter(p => p.score > 0).sort((a,b) => b.score - a.score);
    if (validPlayers.length === 0) return;

    const winner = validPlayers[0];

    try {
        let moggerData = { year: yearKey, winners:[] };
        let wr = await fetch(moggerUrl, { method: "GET", headers: { "Content-Type": "application/json" } });
        if (wr.ok) {
            let wj = await wr.json();
            if (wj.year === yearKey) moggerData = wj;
        }

        if (!moggerData.winners) moggerData.winners =[];

        // Bu günün birincisi zaten yazıldıysa mükerrer yazma!
        const lastRecordedDate = moggerData.lastRecordedDate || "";
        if (lastRecordedDate === dailyData.date) return; 

        // Gün birincisine +1 galibiyet yaz
        let wIdx = moggerData.winners.findIndex(w => w.name === winner.name);
        if (wIdx > -1) {
            moggerData.winners[wIdx].wins++;
            moggerData.winners[wIdx].avatar = winner.avatar || moggerData.winners[wIdx].avatar || "";
        } else {
            moggerData.winners.push({ name: winner.name, wins: 1, avatar: winner.avatar || "" });
        }
        
        moggerData.lastRecordedDate = dailyData.date; 

        await fetch(moggerUrl, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(moggerData) });
    } catch(e) {
        console.error("Bulut gün sonu devri hatası:", e);
    }
}

async function loadYearlyMogger() {
    const moggerUrl = `https://getpantry.cloud/apiv1/pantry/${PANTRY_ID}/basket/${MOGGER_BUCKET}`;
    const yearKey = new Date().getFullYear().toString();
    try {
        let resp = await fetch(moggerUrl, { method: "GET", headers: { "Content-Type": "application/json" } });
        if (!resp.ok) return null;
        let data = await resp.json();
        if (data.year !== yearKey) return null;
        return data;
    } catch(e) { return null; }
}

// 9. LEADERBOARD AÇMA (MEGA UPDATE)
async function openLeaderboard() {
    refreshFromLocalStorage();

    const modal = new bootstrap.Modal(document.getElementById('leaderboardModal'));
    modal.show();

    document.getElementById('leaderboard-name').value = currentUser;
    document.getElementById('my-daily-score').innerText = myLocalScore;
    updateMyAvatarDisplay();
    
    // ... Level display kısımları aynı kalacak ...
    document.getElementById('my-level-display').innerText = myLevel;
    const titleEl = document.getElementById('my-level-title');
    const titleText = getLevelTitle(Math.max(myLevel, 1));
    const titleColor = getLevelTitleColor(Math.max(myLevel, 1));
    titleEl.innerText = titleText;
    titleEl.style.color = titleColor;
    document.getElementById('my-total-score-label').innerText = `Toplam: ${myTotalScore.toLocaleString('tr-TR')} P`;
    
    if (myLevel < 100) {
        const nextLvlPts = getCumulativePointsForLevel(myLevel + 1);
        const currLvlPts = getCumulativePointsForLevel(myLevel);
        const remaining = nextLvlPts - myTotalScore;
        const progressPct = Math.min(100, Math.max(0, ((myTotalScore - currLvlPts) / (nextLvlPts - currLvlPts)) * 100));
        document.getElementById('my-next-level-label').innerText = `Lv.${myLevel+1}: ${remaining.toLocaleString('tr-TR')} P kaldı`;
        document.getElementById('my-level-progress').style.width = progressPct + '%';
    } else {
        document.getElementById('my-next-level-label').innerText = 'MAX LEVEL! 🏆';
        document.getElementById('my-level-progress').style.width = '100%';
    }
    
    const notifToggle = document.getElementById('notif-toggle');
    const notifSetup = document.getElementById('notif-setup');
    const notifChannelInput = document.getElementById('notif-channel');
    notifToggle.checked = notifEnabled;
    notifSetup.style.display = notifEnabled ? '' : 'none';
    notifChannelInput.value = myNotifChannel;
    updateNotifStatusBadge();

    const list = document.getElementById('leaderboard-list');
    list.innerHTML = `<div class="text-center p-4"><div class="spinner-border text-warning"></div><p class="mt-2">Yükleniyor...</p></div>`;

    // HAFTALIK DEĞİL YILLIK MOGGER'I YÜKLE
    const yearlyData = await loadYearlyMogger();

    const url = `https://getpantry.cloud/apiv1/pantry/${PANTRY_ID}/basket/${BUCKET_NAME}`;
    const todayStr = new Date().toLocaleDateString("tr-TR");

    try {
        let response = await fetch(url);
        if (!response.ok) {
            list.innerHTML = `<li class="list-group-item text-center">Henüz kayıtlı skor yok. İlk sen ol!</li>`;
            renderYearlySection(yearlyData, null);
            syncScoreToCloud(0);
            return;
        }

        let data = await response.json();
        
        // EĞER LİDERLİK TABLOSUNU AÇTIĞINDA SAAT 00:00'I GEÇMİŞSE:
        if (data.date && data.date !== todayStr) {
            await processCloudRollover(data); // Eski günün MOGGER'ını güvenle yazar
            data = { date: todayStr, players:[] }; // Listeyi bugün için sıfırlar
        }

        if (!data.players || data.players.length === 0) {
            list.innerHTML = `<li class="list-group-item text-center">Bugün henüz kimse puan almadı.</li>`;
            renderYearlySection(yearlyData, null);
            return;
        }

        data.players.sort((a, b) => b.score - a.score);
        
        const todayLeader = data.players.length > 0 && data.players[0].score > 0 ? data.players[0] : null;
        renderYearlySection(yearlyData, todayLeader);

        list.innerHTML = "";

        data.players.forEach((p, index) => {
            // ... (Liste doldurma kodlarınız aynı şekilde kalabilir)
            const isMe = p.name === currentUser;
            let rankIcon = `<span class="badge bg-secondary">#${index+1}</span>`;
            if (index === 0) rankIcon = "👑";
            if (index === 1) rankIcon = "🥈";
            if (index === 2) rankIcon = "🥉";

            const bgClass = isMe ? "bg-warning bg-opacity-25 border-warning" : "";
            const isDark = document.body.getAttribute('data-theme') === 'dark';
            const textClass = isDark ? "text-white" : "text-dark";
            const avatarHtml = getAvatarHTML(p.name, p.avatar, 36);

            const pLevel = p.level || 0;
            const pTitle = getLevelTitle(Math.max(pLevel, 1));
            const pTitleColor = getLevelTitleColor(Math.max(pLevel, 1));

            list.innerHTML += `
            <li class="list-group-item d-flex justify-content-between align-items-center mb-1 rounded ${bgClass} ${textClass}" style="border-bottom:1px solid #ccc;">
                <div class="d-flex align-items-center gap-2">
                    <span class="fw-bold fs-5" style="min-width:28px;text-align:center;">${rankIcon}</span>
                    ${avatarHtml}
                    <div>
                        <div class="d-flex align-items-center gap-1 flex-wrap">
                            <span class="badge" style="background:${pTitleColor};font-size:0.55rem;letter-spacing:0.5px;">${pTitle}</span>
                            <span class="fw-bold text-uppercase" style="font-size:0.9rem;">${p.name}</span>
                            ${isMe ? '<span class="badge bg-danger ms-1" style="font-size:0.55rem;">SEN</span>' : ''}
                        </div>
                        <small style="font-size:0.65rem;color:#64748b;">Lv.${pLevel}${p.totalScore ? ' • ' + p.totalScore.toLocaleString('tr-TR') + ' TP' : ''}</small>
                    </div>
                </div>
                <span class="badge bg-primary rounded-pill p-2 fs-6" style="min-width:55px;">${p.score} P</span>
            </li>`;
        });

        if (data.players.length > 0 && data.players[0].name !== currentUser) {
            const myIdx = data.players.findIndex(p => p.name === currentUser);
            if (myIdx > 0 && previousLeader === currentUser) {
                checkOvertakeAlert(data.players[0].name);
            }
        }

    } catch (error) {
        list.innerHTML = `<div class="text-center text-danger">Veri alınamadı.<br><small>${error.message}</small></div>`;
    }
}

// 10. YILLIK MOGGER RENDER (GÜNCELLEME)
function renderYearlySection(yearlyData, todayLeader) {
    const banner = document.getElementById('mogger-banner');
    const section = document.getElementById('yearly-wins-section');
    const winsList = document.getElementById('yearly-wins-list');

    const hasYearlyData = yearlyData && yearlyData.winners && yearlyData.winners.length > 0;

    if (hasYearlyData) {
        yearlyData.winners.sort((a,b) => b.wins - a.wins);
        const mogger = yearlyData.winners[0];

        banner.style.display = '';
        document.getElementById('mogger-avatar').innerHTML = getAvatarHTML(mogger.name, mogger.avatar, 64);
        document.getElementById('mogger-name').textContent = mogger.name;
        document.getElementById('mogger-wins').textContent = `${mogger.wins} gün birinci 🔥`;

        section.style.display = '';
        winsList.innerHTML = '';
        yearlyData.winners.forEach(w => {
            const isMe = w.name === currentUser;
            winsList.innerHTML += `
            <div class="d-flex align-items-center gap-1 px-2 py-1 rounded ${isMe ? 'bg-warning bg-opacity-25' : 'bg-light'}" style="font-size:0.8rem;">
                ${getAvatarHTML(w.name, w.avatar, 24)}
                <span class="fw-bold">${w.name}</span>
                <span class="badge bg-info">${w.wins} gün</span>
            </div>`;
        });
    } else if (todayLeader) {
        banner.style.display = '';
        document.getElementById('mogger-avatar').innerHTML = getAvatarHTML(todayLeader.name, todayLeader.avatar, 64);
        document.getElementById('mogger-name').textContent = todayLeader.name;
        document.getElementById('mogger-wins').textContent = `Bugünün lideri 👑 (${todayLeader.score} P)`;

        section.style.display = 'none';
        winsList.innerHTML = '';
    } else {
        banner.style.display = 'none';
        section.style.display = 'none';
    }
}

// Arka plan kontrolü fonksiyonu (Son Olarak Değiştirin)
async function checkLeadershipOnLoad() {
    const url = `https://getpantry.cloud/apiv1/pantry/${PANTRY_ID}/basket/${BUCKET_NAME}`;
    const todayStr = new Date().toLocaleDateString("tr-TR");
    try {
        let resp = await fetch(url, { method: "GET", headers: { "Content-Type": "application/json" } });
        if (!resp.ok) return;
        let data = await resp.json();
        
        // Cihaz gece 00:00'dan sonra açık kalmışsa devir işlemi yapsın
        if (data.date && data.date !== todayStr) {
            await processCloudRollover(data);
            return;
        }

        if (!data.players) return;
        
        data.players.sort((a,b) => b.score - a.score);
        const leader = data.players[0]?.name || "";
        
        if (previousLeader === currentUser && leader !== currentUser && leader !== "") {
            checkOvertakeAlert(leader);
        }
        
        previousLeader = leader;
        localStorage.setItem('yds_prev_leader', leader);
    } catch(e) {}
}

// 10. HAFTALIK MOGGER RENDER
function renderWeeklySection(weeklyData, todayLeader) {
    const banner = document.getElementById('mogger-banner');
    const section = document.getElementById('weekly-wins-section');
    const winsList = document.getElementById('weekly-wins-list');

    const hasWeeklyData = weeklyData && weeklyData.winners && weeklyData.winners.length > 0;

    if (hasWeeklyData) {
        // Haftalık veri var → en çok gün kazanan = MOGGER
        weeklyData.winners.sort((a,b) => b.wins - a.wins);
        const mogger = weeklyData.winners[0];

        banner.style.display = '';
        document.getElementById('mogger-avatar').innerHTML = getAvatarHTML(mogger.name, mogger.avatar, 64);
        document.getElementById('mogger-name').textContent = mogger.name;
        document.getElementById('mogger-wins').textContent = `${mogger.wins} gün birinci 🔥`;

        // Herkesin haftalık gün sayısı
        section.style.display = '';
        winsList.innerHTML = '';
        weeklyData.winners.forEach(w => {
            const isMe = w.name === currentUser;
            winsList.innerHTML += `
            <div class="d-flex align-items-center gap-1 px-2 py-1 rounded ${isMe ? 'bg-warning bg-opacity-25' : 'bg-light'}" style="font-size:0.8rem;">
                ${getAvatarHTML(w.name, w.avatar, 24)}
                <span class="fw-bold">${w.name}</span>
                <span class="badge bg-info">${w.wins} gün</span>
            </div>`;
        });
    } else if (todayLeader) {
        // Haftalık veri yok ama bugünün lideri var → günlük lider olarak göster
        banner.style.display = '';
        document.getElementById('mogger-avatar').innerHTML = getAvatarHTML(todayLeader.name, todayLeader.avatar, 64);
        document.getElementById('mogger-name').textContent = todayLeader.name;
        document.getElementById('mogger-wins').textContent = `Bugünün lideri 👑 (${todayLeader.score} P)`;

        section.style.display = 'none';
        winsList.innerHTML = '';
    } else {
        banner.style.display = 'none';
        section.style.display = 'none';
    }
}

// 11. TOAST BİLDİRİMİ
function showScoreToast(msg) {
    const existing = document.querySelector('.score-toast');
    if (existing) existing.remove();
    const div = document.createElement('div');
    div.className = 'score-toast';
    div.innerHTML = `<i class="bi bi-lightning-fill"></i> ${msg}`;
    document.body.appendChild(div);
    setTimeout(() => div.remove(), 2500);
}

// LEVEL UP BİLDİRİMİ
function showLevelUpNotification(newLevel) {
    const title = getLevelTitle(newLevel);
    const color = getLevelTitleColor(newLevel);
    const nextLvlPts = newLevel < 100 ? getCumulativePointsForLevel(newLevel + 1) : null;
    const nextInfo = nextLvlPts ? `<br><small style="font-weight:400;font-size:0.75rem;">Sonraki seviye: ${(nextLvlPts - myTotalScore).toLocaleString('tr-TR')} puan kaldı</small>` : `<br><small style="font-weight:400;font-size:0.75rem;">MAKSIMUM SEVİYE! 🏆</small>`;

    const existing = document.querySelector('.levelup-toast');
    if (existing) existing.remove();
    const div = document.createElement('div');
    div.className = 'levelup-toast';
    div.style.cssText = `position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:99999;background:linear-gradient(135deg,#0f172a,#1e293b);color:#fff;padding:28px 40px;border-radius:16px;font-weight:800;font-size:1.2rem;box-shadow:0 12px 60px rgba(0,0,0,0.6);text-align:center;border:3px solid ${color};animation:levelPop 0.6s cubic-bezier(0.175,0.885,0.32,1.275);max-width:90vw;`;
    div.innerHTML = `
        <div style="font-size:2.5rem;margin-bottom:8px;">🎉🔥🎉</div>
        <div style="color:${color};font-size:1.6rem;text-transform:uppercase;letter-spacing:2px;">LEVEL UP!</div>
        <div style="font-size:2rem;margin:8px 0;">Level ${newLevel}</div>
        <div style="color:${color};font-size:1.3rem;text-transform:uppercase;letter-spacing:3px;text-shadow:0 0 10px ${color};">${title}</div>
        <div style="font-size:0.85rem;color:#94a3b8;margin-top:8px;">Toplam: ${myTotalScore.toLocaleString('tr-TR')} puan${nextInfo}</div>
    `;
    document.body.appendChild(div);

    // Konfeti
    if (typeof confetti === 'function') {
        confetti({ particleCount: 120, spread: 80, origin: { y: 0.5 } });
    }

    setTimeout(() => { if (div.parentNode) div.remove(); }, 5000);
}

// 7. CEVAP KONTROL (PUANLAMA İÇERİR)
window.checkAnswer = function(qId, selectedOpt) {
    // Soruyu bul
    let q = allQuestions.find(i => i.id === qId) || generatedQuestions.find(i => i.id === qId);
    if(!q) return;

    const container = document.getElementById(`opts-${qId}`);
    const feedbackDiv = document.getElementById(`feedback-${qId}`);
    const tipDiv = document.getElementById(`tip-${qId}`);
    
    // Şıkları kilitle
    const rows = container.querySelectorAll('.option-row');
    rows.forEach(row => {
        row.classList.add('disabled-opts'); 
        const btnText = row.querySelector('.btn-circle').innerText;
        if (btnText === q.correctAnswer) row.classList.add('opt-correct');
        else if (btnText === selectedOpt && selectedOpt !== q.correctAnswer) row.classList.add('opt-wrong');
    });

    const isCorrect = (selectedOpt === q.correctAnswer);

    if (isCorrect) {
        feedbackDiv.innerHTML = `<div class="mt-2 text-success fw-bold"><i class="bi bi-check-circle"></i> Doğru!</div>`;
        if(!q.aiExplanation && tipDiv) tipDiv.style.display = 'none';
        
        // --- PUANLAMA ---
        if (!q.isAi) { 
            let points = 0;
            // Eğer daha önce doğru yapılmadıysa
            if (progressData[qId] !== 'correct') {
                if (currentSectionKey === 'mistakes') points = 50; 
                else points = 100;
                
                addScorePoints(points); // Puan ver ve kaydet
            }
        }
        // -----------------

        if (wrongBank.includes(qId)) {
            wrongBank = wrongBank.filter(id => id !== qId);
            localStorage.setItem('yds_mistakes', JSON.stringify(wrongBank));
            const badge = document.querySelector('#menu-mistakes .badge');
            if(badge) badge.innerText = wrongBank.length;
        }
        progressData[qId] = 'correct';

        if(typeof confetti === "function") confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });

    } else {
        feedbackDiv.innerHTML = `<div class="mt-2 text-danger fw-bold"><i class="bi bi-x-circle"></i> Yanlış. Cevap: ${q.correctAnswer}</div>`;
        if(tipDiv && (!q.isExam || (q.isExam && q.aiExplanation))) tipDiv.style.display = 'block';

        if (!wrongBank.includes(qId)) {
            wrongBank.push(qId);
            localStorage.setItem('yds_mistakes', JSON.stringify(wrongBank));
            const badge = document.querySelector('#menu-mistakes .badge');
            if(badge) badge.innerText = wrongBank.length;
        }
        progressData[qId] = 'wrong';
        progressData[qId + '_selected'] = selectedOpt;
    }

    localStorage.setItem('yds_progress', JSON.stringify(progressData));
    if(typeof trackDailyProgress === "function") trackDailyProgress(qId);
};
    
/* ================= YDS MEGA KELİME HAVUZU (GÜNCELLENMİŞ - 1200+ KELİME) ================= */
    const ydsVocabDB = [
        // --- A GRUBU ---
        { en: "Abandon", tr: "Terk etmek, vazgeçmek" },
        { en: "Abolition", tr: "Yürürlükten kaldırma, iptal" },
        { en: "Abrupt", tr: "Ani, beklenmedik" },
        { en: "Absence", tr: "Yokluk, bulunmama" },
        { en: "Abstention", tr: "Çekimser kalma, sakınma" },
        { en: "Abundant", tr: "Bol, bereketli" },
        { en: "Abundantly", tr: "Bolca, fazlasıyla" },
        { en: "Accelerate", tr: "Hızlandırmak" },
        { en: "Acceleration", tr: "Hızlanma, ivme" },
        { en: "Accessible", tr: "Erişilebilir, ulaşılabilir" },
        { en: "Accompany", tr: "Eşlik etmek" },
        { en: "Accomplished", tr: "Başarılı, yetenekli, tamamlanmış" },
        { en: "Accomplishment", tr: "Başarı, kazanım" },
        { en: "Account for", tr: "Oluşturmak, açıklamak, hesaba katmak" },
        { en: "Accumulate", tr: "Birikmek, toplamak" },
        { en: "Accuracy", tr: "Doğruluk, kesinlik" },
        { en: "Accurately", tr: "Tam/doğru bir şekilde" },
        { en: "Achieve", tr: "Başarmak, elde etmek" },
        { en: "Acknowledge", tr: "Kabul etmek, tanımak, onaylamak" },
        { en: "Acquire", tr: "Edinmek, kazanmak (bilgi/mülk)" },
        { en: "Acquisition", tr: "Edinim, kazanım" },
        { en: "Adapt", tr: "Uyum sağlamak" },
        { en: "Adaptable", tr: "Uyarlanabilir, esnek" },
        { en: "Addiction", tr: "Bağımlılık" },
        { en: "Additional", tr: "Ek, ilave" },
        { en: "Adequate", tr: "Yeterli" },
        { en: "Adequately", tr: "Yeterli bir şekilde" },
        { en: "Adherence", tr: "Bağlılık, riayet (kurala)" },
        { en: "Adjustment", tr: "Ayarlama, düzeltme" },
        { en: "Administer", tr: "Yönetmek, idare etmek, uygulamak" },
        { en: "Admire", tr: "Hayran olmak" },
        { en: "Admirably", tr: "Hayranlık uyandıracak şekilde" },
        { en: "Admit", tr: "Kabul etmek, itiraf etmek, içeri almak" },
        { en: "Adopt", tr: "Benimsemek, evlat edinmek" },
        { en: "Adoption", tr: "Evlat edinme, benimseme" },
        { en: "Advancement", tr: "İlerleme, gelişme" },
        { en: "Advent", tr: "Geliş, ortaya çıkış (icat vb.)" },
        { en: "Adverse", tr: "Olumsuz, kötü, ters" },
        { en: "Adversely", tr: "Olumsuz bir şekilde" },
        { en: "Adversity", tr: "Zorluk, sıkıntı, bela" },
        { en: "Advocate", tr: "Savunmak, desteklemek" },
        { en: "Affluent", tr: "Zengin, varlıklı" },
        { en: "Aggravate", tr: "Giderek kötüleşmek, sinirlendirmek" },
        { en: "Alienate", tr: "Yabancılaştırmak, uzaklaştırmak" },
        { en: "Align with", tr: "Uyum sağlamak, hizalanmak" },
        { en: "Allegedly", tr: "İddia edildiğine göre" },
        { en: "Alleviate", tr: "Hafifletmek, dindirmek" },
        { en: "Alleviation", tr: "Hafifletme, yatıştırma" },
        { en: "Allocate", tr: "Ayırmak, tahsis etmek" },
        { en: "Allocation", tr: "Tahsisat, paylaştırma" },
        { en: "Alter", tr: "Değiştirmek" },
        { en: "Alteration", tr: "Değişiklik, tadilat" },
        { en: "Alternatively", tr: "Alternatif olarak" },
        { en: "Ambiguous", tr: "Belirsiz, muğlak" },
        { en: "Ambiguously", tr: "Belirsiz bir şekilde" },
        { en: "Amend", tr: "Değişiklik yapmak (yasa vb.)" },
        { en: "Amount to", tr: "Tutmak (miktar), anlamına gelmek" },
        { en: "Ample", tr: "Bol, çok" },
        { en: "Annually", tr: "Yıllık olarak" },
        { en: "Anticipate", tr: "Ummak, beklemek, öngörmek" },
        { en: "Appalling", tr: "Korkunç, dehşet verici" },
        { en: "Apparent", tr: "Açık, bariz" },
        { en: "Appear", tr: "Görünmek, ortaya çıkmak" },
        { en: "Application", tr: "Uygulama, başvuru" },
        { en: "Appreciate", tr: "Takdir etmek, değeri artmak" },
        { en: "Appreciation", tr: "Takdir, değer bilme" },
        { en: "Approach", tr: "Yaklaşım, ele alış" },
        { en: "Appropriate", tr: "Uygun, yerinde" },
        { en: "Appropriately", tr: "Uygun bir şekilde" },
        { en: "Approve", tr: "Onaylamak" },
        { en: "Approximate", tr: "Yaklaşık" },
        { en: "Approximately", tr: "Yaklaşık olarak" },
        { en: "Arbitrary", tr: "Keyfi, rastgele" },
        { en: "Arbitrarily", tr: "Keyfi olarak, rastgele" },
        { en: "Ardently", tr: "Ateşli bir şekilde, gayretle" },
        { en: "Arguably", tr: "Muhtemelen, tartışılabilir şekilde" },
        { en: "Arise", tr: "Ortaya çıkmak" },
        { en: "Artificial", tr: "Yapay, suni" },
        { en: "Aspiration", tr: "Özlem, büyük amaç, heves" },
        { en: "Assert", tr: "İleri sürmek, iddia etmek" },
        { en: "Assertion", tr: "İddia, sav" },
        { en: "Assess", tr: "Değerlendirmek" },
        { en: "Assist", tr: "Yardım etmek" },
        { en: "Associate", tr: "İlişkilendirmek" },
        { en: "Association", tr: "İlişki, dernek, çağrışım" },
        { en: "Assume", tr: "Varsaymak, üstlenmek" },
        { en: "Assumption", tr: "Varsayım" },
        { en: "Assurance", tr: "Güvence, teminat" },
        { en: "Assure", tr: "Güvence vermek" },
        { en: "Astonishing", tr: "Şaşırtıcı" },
        { en: "Attach", tr: "Eklemek, iliştirmek" },
        { en: "Attain", tr: "Elde etmek, ulaşmak" },
        { en: "Attempt", tr: "Girişimde bulunmak, teşebbüs" },
        { en: "Attribute", tr: "Atfetmek, bağlamak" },
        { en: "Availability", tr: "Mevcut olma, kullanılabilirlik" },
        { en: "Available", tr: "Mevcut, müsait" },
        { en: "Avert", tr: "Önlemek, kaçınmak" },
        { en: "Avoid", tr: "Kaçınmak, sakınmak" },
        { en: "Awareness", tr: "Farkındalık" },

        // --- B GRUBU ---
        { en: "Ban", tr: "Yasaklamak" },
        { en: "Bargain for", tr: "Ummak, beklemek, pazarlık etmek" },
        { en: "Barely", tr: "Hemen hemen hiç, zar zor" },
        { en: "Barren", tr: "Çorak, verimsiz" },
        { en: "Barrier", tr: "Engel" },
        { en: "Beneficial", tr: "Faydalı" },
        { en: "Bias", tr: "Önyargı" },
        { en: "Blame", tr: "Suçlamak" },
        { en: "Boost", tr: "Artırmak, yükseltmek" },
        { en: "Break down", tr: "Bozulmak, parçalamak, çökmek" },
        { en: "Break in", tr: "Sözünü kesmek, zorla girmek" },
        { en: "Break into", tr: "Zorla girmek, aniden başlamak" },
        { en: "Breakthrough", tr: "Büyük buluş, atılım" },
        { en: "Briefly", tr: "Kısaca" },
        { en: "Bring about", tr: "Sebep olmak, yol açmak" },
        { en: "Bring back", tr: "Geri getirmek, hatırlatmak" },
        { en: "Bring down", tr: "Devirmek, azaltmak, indirmek" },
        { en: "Bring in", tr: "Kazandırmak, getirmek" },
        { en: "Bring out", tr: "Ortaya çık, yayımlamak" },
        { en: "Bring up", tr: "Büyütmek (çocuk), gündeme getirmek" },
        { en: "Broad", tr: "Geniş" },

        // --- C GRUBU ---
        { en: "Call for", tr: "Gerektirmek, çağrıda bulunmak" },
        { en: "Call off", tr: "İptal etmek" },
        { en: "Capability", tr: "Kabiliyet, yetenek" },
        { en: "Capture", tr: "Yakalamak, ele geçirmek" },
        { en: "Carry out", tr: "Uygulamak, yerine getirmek" },
        { en: "Catch up", tr: "Yetişmek, yakalamak" },
        { en: "Cautious", tr: "Temkinli, dikkatli" },
        { en: "Cautiously", tr: "Dikkatli bir şekilde" },
        { en: "Cease", tr: "Durdurmak, sona erdirmek" },
        { en: "Celebrate", tr: "Kutlamak" },
        { en: "Challenge", tr: "Zorluk, meydan okuma" },
        { en: "Challenging", tr: "Zorlu, güç" },
        { en: "Circulate", tr: "Dolaşmak (kan, haber)" },
        { en: "Cite", tr: "Alıntı yapmak, bahsetmek" },
        { en: "Clarify", tr: "Açıklığa kavuşturmak" },
        { en: "Clarity", tr: "Açıklık, netlik" },
        { en: "Classification", tr: "Sınıflandırma" },
        { en: "Coincide", tr: "Denk gelmek, çakışmak" },
        { en: "Coincidentally", tr: "Tesadüfen" },
        { en: "Collaborate", tr: "İşbirliği yapmak" },
        { en: "Collapse", tr: "Çökmek" },
        { en: "Collide", tr: "Çarpışmak" },
        { en: "Collision", tr: "Çarpışma" },
        { en: "Commence", tr: "Başlamak" },
        { en: "Commit", tr: "İşlemek (suç), adamak" },
        { en: "Committed", tr: "Bağlı, sadık" },
        { en: "Commodity", tr: "Ticari mal, hammadde" },
        { en: "Compel", tr: "Zorlamak" },
        { en: "Compelling", tr: "Zorlayıcı, ikna edici, saygı uyandıran" },
        { en: "Compensate", tr: "Telafi etmek" },
        { en: "Compensation", tr: "Telafi, tazminat" },
        { en: "Compete", tr: "Yarışmak, rekabet etmek" },
        { en: "Competence", tr: "Yetkinlik, yeterlilik" },
        { en: "Competitive", tr: "Rekabetçi" },
        { en: "Compile", tr: "Derlemek, bir araya getirmek" },
        { en: "Complain", tr: "Şikayet etmek" },
        { en: "Complaint", tr: "Şikayet" },
        { en: "Complete", tr: "Tamamlamak" },
        { en: "Completely", tr: "Tamamen" },
        { en: "Complex", tr: "Karmaşık" },
        { en: "Complexity", tr: "Karmaşıklık" },
        { en: "Complicating", tr: "Karmaşıklaştıran" },
        { en: "Compliment", tr: "İltifat" },
        { en: "Comply", tr: "Uymak (kurala)" },
        { en: "Compose", tr: "Oluşturmak, bestelemek" },
        { en: "Comprehend", tr: "Kavramak, anlamak" },
        { en: "Comprehensive", tr: "Kapsamlı" },
        { en: "Comprise", tr: "Oluşmak, içermek" },
        { en: "Compulsion", tr: "Zorlama, dürtü" },
        { en: "Compulsorily", tr: "Zorunlu olarak" },
        { en: "Compulsory", tr: "Zorunlu" },
        { en: "Concede", tr: "Kabullenmek (isteksizce)" },
        { en: "Conceive", tr: "Tasarlamak, hamile kalmak" },
        { en: "Concentrate", tr: "Odaklanmak" },
        { en: "Conclude", tr: "Sonuçlandırmak" },
        { en: "Conclusion", tr: "Sonuç" },
        { en: "Conclusively", tr: "Kesin olarak" },
        { en: "Condition", tr: "Durum, koşul" },
        { en: "Conduct", tr: "Yürütmek (deney, anket), iletmek" },
        { en: "Confess", tr: "İtiraf etmek" },
        { en: "Confidential", tr: "Gizli, mahrem" },
        { en: "Confine", tr: "Sınırlamak, hapsetmek" },
        { en: "Confirm", tr: "Onaylamak" },
        { en: "Conflict", tr: "Çatışma" },
        { en: "Conform", tr: "Uymak (kurallara)" },
        { en: "Confront", tr: "Yüzleşmek" },
        { en: "Confuse", tr: "Kafası karışmak" },
        { en: "Congest", tr: "Tıkamak (trafik)" },
        { en: "Consecutive", tr: "Ardışık, peş peşe" },
        { en: "Consecutively", tr: "Ardışık olarak" },
        { en: "Consequence", tr: "Sonuç, netice" },
        { en: "Conserve", tr: "Korumak, muhafaza etmek" },
        { en: "Considerable", tr: "Önemli, kayda değer" },
        { en: "Considerably", tr: "Önemli ölçüde" },
        { en: "Consist", tr: "Oluşmak" },
        { en: "Consistency", tr: "Tutarlılık" },
        { en: "Consistent", tr: "Tutarlı, istikrarlı" },
        { en: "Consolidate", tr: "Sağlamlaştırmak, birleştirmek" },
        { en: "Conspire", tr: "Komplo kurmak" },
        { en: "Constant", tr: "Sürekli, sabit" },
        { en: "Constitute", tr: "Oluşturmak, teşkil etmek" },
        { en: "Constrain", tr: "Kısıtlamak, zorlamak" },
        { en: "Constraint", tr: "Kısıtlama, baskı" },
        { en: "Construct", tr: "İnşa etmek" },
        { en: "Constructive", tr: "Yapıcı" },
        { en: "Consult", tr: "Danışmak" },
        { en: "Consume", tr: "Tüketmek" },
        { en: "Contact", tr: "İletişim kurmak" },
        { en: "Contain", tr: "İçermek" },
        { en: "Contaminate", tr: "Kirletmek (mikrop/radyasyon)" },
        { en: "Contemporary", tr: "Çağdaş, modern" },
        { en: "Contend", tr: "İddia etmek, uğraşmak" },
        { en: "Content", tr: "İçerik / Memnun" },
        { en: "Contentious", tr: "Tartışmalı" },
        { en: "Contest", tr: "Yarışma" },
        { en: "Context", tr: "Bağlam" },
        { en: "Contract", tr: "Sözleşme / Hastalık kapmak" },
        { en: "Contradict", tr: "Çelişmek" },
        { en: "Contradiction", tr: "Çelişki" },
        { en: "Contribute", tr: "Katkıda bulunmak" },
        { en: "Controversy", tr: "Tartışma, ihtilaf" },
        { en: "Convenient", tr: "Uygun, elverişli, pratik" },
        { en: "Conventionally", tr: "Geleneksel olarak" },
        { en: "Convert", tr: "Dönüştürmek" },
        { en: "Convertible", tr: "Dönüştürülebilir" },
        { en: "Convey", tr: "İletmek, taşımak" },
        { en: "Convince", tr: "İkna etmek" },
        { en: "Convincingly", tr: "İkna edici bir şekilde" },
        { en: "Cooperate", tr: "İşbirliği yapmak" },
        { en: "Cope with", tr: "Başa çıkmak" },
        { en: "Correspond", tr: "Denk gelmek, yazışmak" },
        { en: "Corruption", tr: "Yolsuzluk, çürüme" },
        { en: "Counter", tr: "Karşı koymak, aksini iddia etmek" },
        { en: "Counteract", tr: "Etkisini azaltmak, karşı gelmek" },
        { en: "Create", tr: "Yaratmak" },
        { en: "Credible", tr: "İnandırıcı, güvenilir" },
        { en: "Credit with", tr: "İle tanınmak, atfetmek" },
        { en: "Crisis", tr: "Kriz" },
        { en: "Critical", tr: "Eleştirel / Kritik" },
        { en: "Criticize", tr: "Eleştirmek" },
        { en: "Crucial", tr: "Hayati, çok önemli" },
        { en: "Culminate", tr: "Zirveye ulaşmak, sonuçlanmak" },
        { en: "Cultivate", tr: "Ekip biçmek, geliştirmek" },
        { en: "Cure", tr: "Tedavi etmek" },
        { en: "Curiosity", tr: "Merak" },
        { en: "Current", tr: "Mevcut, şu anki" },
        { en: "Curtail", tr: "Kısmak, azaltmak" },
        { en: "Cut down on", tr: "Azaltmak (tüketimi vb.)" },
        { en: "Cut off", tr: "Kesmek (elektrik, ilişki vb.)" },

        // --- D GRUBU ---
        { en: "Damage", tr: "Hasar vermek" },
        { en: "Damaging", tr: "Zarar verici" },
        { en: "Dampening", tr: "Azaltan, nemlendiren" },
        { en: "Dangerously", tr: "Tehlikeli bir şekilde" },
        { en: "Deal with", tr: "Ele almak, ilgilenmek" },
        { en: "Debatable", tr: "Tartışılabilir" },
        { en: "Debate", tr: "Tartışmak" },
        { en: "Decade", tr: "On yıl" },
        { en: "Decay", tr: "Çürümek" },
        { en: "Deceive", tr: "Aldatmak, kandırmak" },
        { en: "Decent", tr: "Terbiyeli, dürüst, makul" },
        { en: "Decently", tr: "Terbiyeli bir şekilde, uygunca" },
        { en: "Deception", tr: "Aldatma, hile" },
        { en: "Decide", tr: "Karar vermek" },
        { en: "Decisive", tr: "Belirleyici, kararlı" },
        { en: "Decisively", tr: "Kararlı bir şekilde" },
        { en: "Declare", tr: "İlan etmek" },
        { en: "Decline", tr: "Azalmak / Reddetmek" },
        { en: "Dedicate", tr: "Adamak" },
        { en: "Dedication", tr: "Adama, bağlılık" },
        { en: "Deduce", tr: "Çıkarım yapmak" },
        { en: "Deduction", tr: "Çıkarım, kesinti" },
        { en: "Deepen", tr: "Derinleştirmek" },
        { en: "Defeat", tr: "Yenmek, mağlup etmek" },
        { en: "Defect", tr: "Kusur, hata" },
        { en: "Defend", tr: "Savunmak" },
        { en: "Defer", tr: "Ertelemek" },
        { en: "Deficiency", tr: "Eksiklik, yetersizlik" },
        { en: "Deficient", tr: "Eksik, yetersiz" },
        { en: "Define", tr: "Tanımlamak" },
        { en: "Deformity", tr: "Şekil bozukluğu" },
        { en: "Defy", tr: "Meydan okumak, karşı gelmek" },
        { en: "Delay", tr: "Geciktirmek" },
        { en: "Deliberately", tr: "Kasten, bilerek" },
        { en: "Delicacy", tr: "Narinlik, incelik, lezzet" },
        { en: "Delicate", tr: "Narin, hassas" },
        { en: "Demand", tr: "Talep etmek" },
        { en: "Demolish", tr: "Yıkmak" },
        { en: "Demonstrate", tr: "Göstermek, kanıtlamak" },
        { en: "Deniably", tr: "İnkar edilebilir şekilde" },
        { en: "Deny", tr: "İnkar etmek" },
        { en: "Depend on", tr: "Bağlı olmak, güvenmek" },
        { en: "Dependent", tr: "Bağımlı" },
        { en: "Depict", tr: "Tasvir etmek, betimlemek" },
        { en: "Deplete", tr: "Tüketmek, bitirmek" },
        { en: "Depletion", tr: "Tükenme, azalma" },
        { en: "Deprive", tr: "Mahrum etmek" },
        { en: "Derive", tr: "Türetmek, kaynaklanmak" },
        { en: "Descend", tr: "Alçalmak, inmek, soyundan gelmek" },
        { en: "Describe", tr: "Tanımlamak" },
        { en: "Deserve", tr: "Hak etmek" },
        { en: "Design", tr: "Tasarlamak" },
        { en: "Designation", tr: "Atama, belirleme" },
        { en: "Desire", tr: "Arzulamak" },
        { en: "Despair", tr: "Umutsuzluk" },
        { en: "Desperate", tr: "Umutsuz, çaresiz" },
        { en: "Desperately", tr: "Çaresizce, umutsuzca" },
        { en: "Despite", tr: "-e rağmen" },
        { en: "Destiny", tr: "Kader" },
        { en: "Destroy", tr: "Yok etmek" },
        { en: "Destruction", tr: "Yıkım" },
        { en: "Detail", tr: "Detay" },
        { en: "Detect", tr: "Tespit etmek" },
        { en: "Detection", tr: "Tespit, bulma" },
        { en: "Deter", tr: "Caydırmak" },
        { en: "Deteriorate", tr: "Kötüleşmek, bozulmak" },
        { en: "Deterioration", tr: "Bozulma, kötüleşme" },
        { en: "Determine", tr: "Belirlemek, saptamak" },
        { en: "Deterrent", tr: "Caydırıcı" },
        { en: "Devastate", tr: "Harap etmek, mahvetmek" },
        { en: "Devastatingly", tr: "Yıkıcı bir şekilde" },
        { en: "Develop", tr: "Geliştirmek" },
        { en: "Development", tr: "Gelişme" },
        { en: "Deviancy", tr: "Sapma, normalden ayrılma" },
        { en: "Deviate", tr: "Sapmak, ayrılmak" },
        { en: "Device", tr: "Cihaz" },
        { en: "Devise", tr: "Tasarlamak, icat etmek" },
        { en: "Devote", tr: "Adamak" },
        { en: "Diagnose", tr: "Teşhis etmek" },
        { en: "Differ", tr: "Farklılık göstermek" },
        { en: "Different", tr: "Farklı" },
        { en: "Differentiate", tr: "Ayırt etmek" },
        { en: "Difficult", tr: "Zor" },
        { en: "Diffuse", tr: "Yaymak, dağıtmak" },
        { en: "Dig", tr: "Kazmak" },
        { en: "Digest", tr: "Sindirmek" },
        { en: "Dilemma", tr: "İkilem" },
        { en: "Diligent", tr: "Gayretli, çalışkan" },
        { en: "Dim", tr: "Loş, sönük" },
        { en: "Dimension", tr: "Boyut" },
        { en: "Diminish", tr: "Azalmak" },
        { en: "Direct", tr: "Yönlendirmek / Doğrudan" },
        { en: "Disappoint", tr: "Hayal kırıklığına uğratmak" },
        { en: "Disaster", tr: "Felaket" },
        { en: "Disastrous", tr: "Felaket getiren" },
        { en: "Discard", tr: "Atmak, elden çıkarmak" },
        { en: "Discern", tr: "Fark etmek, seçmek" },
        { en: "Discharge", tr: "Taburcu etmek, boşaltmak" },
        { en: "Discipline", tr: "Disiplin / Bilim dalı" },
        { en: "Disclose", tr: "Açığa vurmak, ifşa etmek" },
        { en: "Discover", tr: "Keşfetmek" },
        { en: "Discrepancy", tr: "Tutarsızlık, farklılık" },
        { en: "Discriminate", tr: "Ayrımcılık yapmak, ayırt etmek" },
        { en: "Discrimination", tr: "Ayrımcılık" },
        { en: "Discuss", tr: "Tartışmak" },
        { en: "Disease", tr: "Hastalık" },
        { en: "Disgust", tr: "İğrenmek" },
        { en: "Dismiss", tr: "Kovmak, reddetmek, kafadan atmak" },
        { en: "Disorder", tr: "Bozukluk, rahatsızlık" },
        { en: "Dispel", tr: "Gidermek, kovmak (korku vb.)" },
        { en: "Dispensable", tr: "Vazgeçilebilir, zorunlu olmayan" },
        { en: "Display", tr: "Sergilemek" },
        { en: "Disposal", tr: "İmha, atma, kullanım" },
        { en: "Dispose", tr: "Elden çıkarmak" },
        { en: "Dispute", tr: "Anlaşmazlık, tartışma" },
        { en: "Disregard", tr: "Göz ardı etmek" },
        { en: "Disrupt", tr: "Bozmak, aksatmak" },
        { en: "Disruptive", tr: "Bozucu, yıkıcı" },
        { en: "Dissolve", tr: "Çözünmek, feshetmek" },
        { en: "Distance", tr: "Mesafe" },
        { en: "Distant", tr: "Uzak" },
        { en: "Distinct", tr: "Belirgin, farklı" },
        { en: "Distinction", tr: "Ayrım, fark" },
        { en: "Distinctive", tr: "Kendine özgü, ayırt edici" },
        { en: "Distinguish", tr: "Ayırt etmek" },
        { en: "Distort", tr: "Çarpıtmak, bozmak" },
        { en: "Distract", tr: "Dikkatini dağıtmak" },
        { en: "Distress", tr: "Sıkıntı, üzüntü" },
        { en: "Distribute", tr: "Dağıtmak" },
        { en: "Distribution", tr: "Dağılım" },
        { en: "District", tr: "İlçe, bölge" },
        { en: "Disturb", tr: "Rahatsız etmek" },
        { en: "Diverse", tr: "Çeşitli" },
        { en: "Diversify", tr: "Çeşitlendirmek" },
        { en: "Diversity", tr: "Çeşitlilik" },
        { en: "Divert", tr: "Yönünü değiştirmek, saptırmak" },
        { en: "Divide", tr: "Bölmek" },
        { en: "Divine", tr: "İlahi" },
        { en: "Division", tr: "Bölüm" },
        { en: "Divisively", tr: "Bölücü bir şekilde" },
        { en: "Divorce", tr: "Boşanmak" },
        { en: "Do away with", tr: "Yürürlükten kaldırmak, yok etmek" },
        { en: "Domestic", tr: "Yerli, evcil" },
        { en: "Dominate", tr: "Hükmetmek, baskın çıkmak" },
        { en: "Donate", tr: "Bağışlamak" },
        { en: "Doubtful", tr: "Şüpheli" },
        { en: "Draft", tr: "Taslak" },
        { en: "Drastic", tr: "Köklü, şiddetli" },
        { en: "Drastically", tr: "Şiddetle, önemli ölçüde" },
        { en: "Draw up", tr: "Düzenlemek, hazırlamak" },
        { en: "Drawback", tr: "Dezavantaj, eksiklik" },
        { en: "Drought", tr: "Kuraklık" },
        { en: "Duration", tr: "Süre" },
        { en: "Dwell", tr: "İkamet etmek" },
        { en: "Dwindle", tr: "Giderek azalmak" },

        // --- E GRUBU ---
        { en: "Eager", tr: "Hevesli, istekli" },
        { en: "Earn", tr: "Kazanmak (para/itibar)" },
        { en: "Earthquake", tr: "Deprem" },
        { en: "Ease", tr: "Kolaylaştırmak" },
        { en: "Eccentrically", tr: "Tuhaf/alışılmadık bir şekilde" },
        { en: "Effect", tr: "Etki" },
        { en: "Effective", tr: "Etkili" },
        { en: "Efficacy", tr: "Yarar, etkililik" },
        { en: "Efficient", tr: "Verimli" },
        { en: "Efficiently", tr: "Verimli bir şekilde" },
        { en: "Effort", tr: "Çaba" },
        { en: "Elaborate", tr: "Ayrıntılı / Detaylandırmak" },
        { en: "Elaborately", tr: "Ayrıntılı bir şekilde" },
        { en: "Elect", tr: "Seçmek" },
        { en: "Elegant", tr: "Zarif" },
        { en: "Element", tr: "Unsur" },
        { en: "Elevate", tr: "Yükseltmek" },
        { en: "Eligible", tr: "Uygun, nitelikli" },
        { en: "Eligibly", tr: "Seçilebilir/uygun şekilde" },
        { en: "Eliminate", tr: "Elemek, ortadan kaldırmak" },
        { en: "Elimination", tr: "Eleme, yok etme" },
        { en: "Embark on", tr: "Başlamak, girişmek" },
        { en: "Embarrass", tr: "Utandırmak" },
        { en: "Embed", tr: "Gömmek, yerleştirmek" },
        { en: "Embrace", tr: "Kucaklamak, benimsemek" },
        { en: "Emerge", tr: "Ortaya çıkmak" },
        { en: "Emergency", tr: "Acil durum" },
        { en: "Emigrate", tr: "Göç etmek" },
        { en: "Emit", tr: "Yaymak (gaz, ışık)" },
        { en: "Emotion", tr: "Duygu" },
        { en: "Emphasis", tr: "Vurgu" },
        { en: "Emphasize", tr: "Vurgulamak" },
        { en: "Empire", tr: "İmparatorluk" },
        { en: "Employ", tr: "İşe almak / Kullanmak" },
        { en: "Empower", tr: "Yetki vermek, güçlendirmek" },
        { en: "Empty", tr: "Boş" },
        { en: "Enable", tr: "Olanak sağlamak" },
        { en: "Enact", tr: "Yürürlüğe koymak (yasa)" },
        { en: "Encompass", tr: "Kapsamak, çevrelemek" },
        { en: "Encounter", tr: "Karşılaşmak" },
        { en: "Encourage", tr: "Teşvik etmek" },
        { en: "End up with", tr: "İle sonuçlanmak, kendini ...da bulmak" },
        { en: "Endanger", tr: "Tehlikeye atmak" },
        { en: "Endeavor", tr: "Çabalamak" },
        { en: "Endorse", tr: "Onaylamak, desteklemek" },
        { en: "Endure", tr: "Dayanmak, katlanmak" },
        { en: "Enemy", tr: "Düşman" },
        { en: "Energy", tr: "Enerji" },
        { en: "Enforce", tr: "Uygulamak, zorlamak" },
        { en: "Enforcement", tr: "Uygulama, zorlama" },
        { en: "Engage", tr: "Meşgul olmak, nişanlanmak" },
        { en: "Enhance", tr: "Geliştirmek, artırmak" },
        { en: "Enjoy", tr: "Keyif almak" },
        { en: "Enlarge", tr: "Genişletmek" },
        { en: "Enlighten", tr: "Aydınlatmak" },
        { en: "Enormous", tr: "Kocaman, muazzam" },
        { en: "Enough", tr: "Yeterli" },
        { en: "Enrich", tr: "Zenginleştirmek" },
        { en: "Enrichment", tr: "Zenginleştirme" },
        { en: "Enroll", tr: "Kaydolmak" },
        { en: "Ensure", tr: "Garantiye almak, sağlamak" },
        { en: "Entail", tr: "Gerektirmek, kapsamak" },
        { en: "Entanglement", tr: "Karışıklık, dolaşıklık" },
        { en: "Enter", tr: "Girmek" },
        { en: "Enterprise", tr: "Girişim" },
        { en: "Entertain", tr: "Eğlendirmek" },
        { en: "Enthusiasm", tr: "Heves" },
        { en: "Entire", tr: "Tüm, bütün" },
        { en: "Entitle", tr: "Yetki vermek, hak kazandırmak" },
        { en: "Entitlement", tr: "Hak, yetki" },
        { en: "Entity", tr: "Varlık" },
        { en: "Entrance", tr: "Giriş" },
        { en: "Entrepreneur", tr: "Girişimci" },
        { en: "Environment", tr: "Çevre" },
        { en: "Envy", tr: "Kıskanmak" },
        { en: "Epidemic", tr: "Salgın" },
        { en: "Equal", tr: "Eşit" },
        { en: "Equip", tr: "Donatmak" },
        { en: "Equipment", tr: "Ekipman" },
        { en: "Equivalent", tr: "Eşdeğer, denk" },
        { en: "Era", tr: "Çağ, dönem" },
        { en: "Eradicate", tr: "Kökünü kazımak, yok etmek" },
        { en: "Erect", tr: "Dikmek, inşa etmek" },
        { en: "Erode", tr: "Aşınmak" },
        { en: "Erroneous", tr: "Hatalı, yanlış" },
        { en: "Error", tr: "Hata" },
        { en: "Erupt", tr: "Patlamak (yanardağ)" },
        { en: "Escalate", tr: "Tırmanmak, yükselmek" },
        { en: "Escape", tr: "Kaçmak" },
        { en: "Especially", tr: "Özellikle" },
        { en: "Essential", tr: "Gerekli, temel" },
        { en: "Establish", tr: "Kurmak" },
        { en: "Estate", tr: "Mülk" },
        { en: "Esteem", tr: "Saygı" },
        { en: "Estimate", tr: "Tahmin etmek" },
        { en: "Estimation", tr: "Tahmin, kestirim" },
        { en: "Eternal", tr: "Sonsuz" },
        { en: "Ethical", tr: "Etik" },
        { en: "Evacuate", tr: "Tahliye etmek" },
        { en: "Evaluate", tr: "Değerlendirmek" },
        { en: "Evaporate", tr: "Buharlaşmak" },
        { en: "Evenly", tr: "Eşit bir şekilde" },
        { en: "Event", tr: "Olay" },
        { en: "Eventually", tr: "Sonunda, nihayetinde" },
        { en: "Evidence", tr: "Kanıt" },
        { en: "Evident", tr: "Belirgin, aşikar" },
        { en: "Evil", tr: "Kötü" },
        { en: "Evoke", tr: "Çağrıştırmak, anımsatmak" },
        { en: "Evolve", tr: "Evrimleşmek, gelişmek" },
        { en: "Exact", tr: "Tam, kesin" },
        { en: "Exactly", tr: "Tam olarak" },
        { en: "Exaggerate", tr: "Abartmak" },
        { en: "Examine", tr: "İncelemek" },
        { en: "Example", tr: "Örnek" },
        { en: "Excavate", tr: "Kazı yapmak" },
        { en: "Exceed", tr: "Aşmak, geçmek" },
        { en: "Excel", tr: "Üstün olmak" },
        { en: "Excellent", tr: "Mükemmel" },
        { en: "Except", tr: "Hariç" },
        { en: "Exception", tr: "İstisna" },
        { en: "Exceptional", tr: "Olağanüstü, istisnai" },
        { en: "Excess", tr: "Fazlalık" },
        { en: "Excessive", tr: "Aşırı, fazla" },
        { en: "Exchange", tr: "Takas etmek" },
        { en: "Excite", tr: "Heyecanlandırmak" },
        { en: "Exclude", tr: "Hariç tutmak, dışlamak" },
        { en: "Exclusive", tr: "Özel, ayrıcalıklı" },
        { en: "Exclusively", tr: "Sadece, özel olarak" },
        { en: "Excuse", tr: "Mazeret / Affetmek" },
        { en: "Execute", tr: "İdam etmek / Yürütmek" },
        { en: "Executive", tr: "Yönetici" },
        { en: "Exempt", tr: "Muaf" },
        { en: "Exercise", tr: "Egzersiz" },
        { en: "Exert", tr: "Çaba sarf etmek" },
        { en: "Exhaust", tr: "Tüketmek, yormak" },
        { en: "Exhaustion", tr: "Tükenme, yorgunluk" },
        { en: "Exhibit", tr: "Sergilemek" },
        { en: "Exhibition", tr: "Sergi" },
        { en: "Exile", tr: "Sürgün" },
        { en: "Exist", tr: "Var olmak" },
        { en: "Exit", tr: "Çıkış" },
        { en: "Expand", tr: "Genişlemek" },
        { en: "Expansion", tr: "Genişleme" },
        { en: "Expect", tr: "Beklemek" },
        { en: "Expectation", tr: "Beklenti" },
        { en: "Expedition", tr: "Sefer" },
        { en: "Expel", tr: "Kovmak, sınır dışı etmek" },
        { en: "Expenditure", tr: "Masraf, harcama" },
        { en: "Expense", tr: "Masraf" },
        { en: "Expensive", tr: "Pahalı" },
        { en: "Experience", tr: "Deneyim" },
        { en: "Experiment", tr: "Deney" },
        { en: "Expert", tr: "Uzman" },
        { en: "Expire", tr: "Süresi dolmak" },
        { en: "Explain", tr: "Açıklamak" },
        { en: "Explicable", tr: "Açıklanabilir" },
        { en: "Explicit", tr: "Açık, net" },
        { en: "Explicitly", tr: "Açıkça" },
        { en: "Explode", tr: "Patlamak" },
        { en: "Exploit", tr: "Sömürmek, yararlanmak" },
        { en: "Exploitation", tr: "Sömürü, faydalanma" },
        { en: "Explore", tr: "Keşfetmek" },
        { en: "Explosion", tr: "Patlama" },
        { en: "Exponentially", tr: "Katlanarak" },
        { en: "Export", tr: "İhraç etmek" },
        { en: "Expose", tr: "Maruz bırakmak" },
        { en: "Exposure", tr: "Maruz kalma" },
        { en: "Express", tr: "İfade etmek" },
        { en: "Extend", tr: "Uzatmak, genişletmek" },
        { en: "Extension", tr: "Uzatma, genişletme" },
        { en: "Extensively", tr: "Kapsamlıca" },
        { en: "Extent", tr: "Boyut, kapsam" },
        { en: "External", tr: "Harici" },
        { en: "Externally", tr: "Dışarıdan" },
        { en: "Extinct", tr: "Nesli tükenmiş" },
        { en: "Extinction", tr: "Nesli tükenme" },
        { en: "Extinguish", tr: "Söndürmek (yangın)" },
        { en: "Extra", tr: "Ekstra" },
        { en: "Extract", tr: "Çıkarmak, özünü almak" },
        { en: "Extraction", tr: "Çıkarma, özüt" },
        { en: "Extraordinary", tr: "Olağanüstü" },
        { en: "Extravagant", tr: "Savurgan" },
        { en: "Extreme", tr: "Aşırı" },

        // --- F GRUBU ---
        { en: "Fabricate", tr: "Uydurmak, üretmek" },
        { en: "Facilitate", tr: "Kolaylaştırmak" },
        { en: "Facility", tr: "Tesis, imkan" },
        { en: "Fact", tr: "Gerçek" },
        { en: "Factor", tr: "Faktör" },
        { en: "Factory", tr: "Fabrika" },
        { en: "Fade", tr: "Solmak" },
        { en: "Fail", tr: "Başarısız olmak" },
        { en: "Faint", tr: "Bayılmak / Soluk" },
        { en: "Fair", tr: "Adil / Fuar" },
        { en: "Faith", tr: "İnanç" },
        { en: "Fake", tr: "Sahte" },
        { en: "Fall", tr: "Düşmek" },
        { en: "Fallacy", tr: "Yanılgı, safsata" },
        { en: "False", tr: "Yanlış" },
        { en: "Fame", tr: "Şöhret" },
        { en: "Familiar", tr: "Tanıdık" },
        { en: "Famine", tr: "Kıtlık" },
        { en: "Famous", tr: "Ünlü" },
        { en: "Fan", tr: "Hayran / Vantilatör" },
        { en: "Fancy", tr: "Süslü / İstemek" },
        { en: "Far", tr: "Uzak" },
        { en: "Fare", tr: "Ücret (yol)" },
        { en: "Farm", tr: "Çiftlik" },
        { en: "Fascinate", tr: "Büyülemek" },
        { en: "Fashion", tr: "Moda" },
        { en: "Fast", tr: "Hızlı" },
        { en: "Fasten", tr: "Bağlamak" },
        { en: "Fat", tr: "Şişman" },
        { en: "Fatal", tr: "Ölümcül" },
        { en: "Fate", tr: "Kader" },
        { en: "Father", tr: "Baba" },
        { en: "Fatigue", tr: "Yorgunluk" },
        { en: "Fault", tr: "Hata" },
        { en: "Favor", tr: "İyilik" },
        { en: "Favorable", tr: "Olumlu" },
        { en: "Favourably", tr: "Olumlu bir şekilde" },
        { en: "Fear", tr: "Korku" },
        { en: "Feasible", tr: "Mümkün, yapılabilir" },
        { en: "Feast", tr: "Ziyafet" },
        { en: "Feat", tr: "Kahramanlık, beceri" },
        { en: "Feather", tr: "Tüy" },
        { en: "Feature", tr: "Özellik" },
        { en: "Federal", tr: "Federal" },
        { en: "Fee", tr: "Ücret" },
        { en: "Feed", tr: "Beslemek" },
        { en: "Feel", tr: "Hissetmek" },
        { en: "Fellow", tr: "Arkadaş" },
        { en: "Female", tr: "Dişi" },
        { en: "Fence", tr: "Çit" },
        { en: "Fertile", tr: "Verimli" },
        { en: "Fetch", tr: "Gidip getirmek" },
        { en: "Fever", tr: "Ateş" },
        { en: "Few", tr: "Az" },
        { en: "Field", tr: "Alan, saha" },
        { en: "Fierce", tr: "Şiddetli, vahşi" },
        { en: "Fight", tr: "Kavga etmek" },
        { en: "Figure", tr: "Rakam / Şekil" },
        { en: "Figure out", tr: "Çözmek, anlamak" },
        { en: "File", tr: "Dosya" },
        { en: "Fill", tr: "Doldurmak" },
        { en: "Fill out", tr: "Doldurmak (form vb.)" },
        { en: "Film", tr: "Film" },
        { en: "Final", tr: "Son" },
        { en: "Finance", tr: "Finans" },
        { en: "Find", tr: "Bulmak" },
        { en: "Fine", tr: "İyi / Para cezası" },
        { en: "Finger", tr: "Parmak" },
        { en: "Finish", tr: "Bitirmek" },
        { en: "Fire", tr: "Ateş / Kovmak" },
        { en: "Firm", tr: "Firma / Sıkı" },
        { en: "Firmly", tr: "Sıkıca, kesin olarak" },
        { en: "First", tr: "İlk" },
        { en: "Fiscal", tr: "Mali" },
        { en: "Fish", tr: "Balık" },
        { en: "Fit", tr: "Uymak" },
        { en: "Fix", tr: "Tamir etmek" },
        { en: "Flag", tr: "Bayrak" },
        { en: "Flame", tr: "Alev" },
        { en: "Flash", tr: "Parlama" },
        { en: "Flat", tr: "Düz / Daire" },
        { en: "Flatter", tr: "Yağ çekmek" },
        { en: "Flavor", tr: "Tat" },
        { en: "Flee", tr: "Kaçmak" },
        { en: "Flesh", tr: "Et (insan/hayvan)" },
        { en: "Flexible", tr: "Esnek" },
        { en: "Flight", tr: "Uçuş" },
        { en: "Float", tr: "Yüzmek (su üstünde)" },
        { en: "Flood", tr: "Sel" },
        { en: "Floor", tr: "Zemin / Kat" },
        { en: "Flour", tr: "Un" },
        { en: "Flow", tr: "Akmak" },
        { en: "Flower", tr: "Çiçek" },
        { en: "Fluctuate", tr: "Dalgalanmak (fiyat vb.)" },
        { en: "Fluctuation", tr: "Dalgalanma" },
        { en: "Fluent", tr: "Akıcı" },
        { en: "Fluid", tr: "Sıvı" },
        { en: "Fly", tr: "Uçmak" },
        { en: "Focus", tr: "Odaklanmak" },
        { en: "Fog", tr: "Sis" },
        { en: "Fold", tr: "Katlamak" },
        { en: "Follow", tr: "Takip etmek" },
        { en: "Fond", tr: "Düşkün" },
        { en: "Food", tr: "Yiyecek" },
        { en: "Fool", tr: "Aptal" },
        { en: "Foot", tr: "Ayak" },
        { en: "Forbid", tr: "Yasaklamak" },
        { en: "Force", tr: "Zorlamak / Güç" },
        { en: "Forecast", tr: "Tahmin etmek" },
        { en: "Foreign", tr: "Yabancı" },
        { en: "Forest", tr: "Orman" },
        { en: "Forever", tr: "Sonsuza dek" },
        { en: "Forget", tr: "Unutmak" },
        { en: "Forgive", tr: "Affetmek" },
        { en: "Fork", tr: "Çatal" },
        { en: "Form", tr: "Biçim / Oluşturmak" },
        { en: "Formal", tr: "Resmi" },
        { en: "Formally", tr: "Resmi olarak" },
        { en: "Former", tr: "Önceki" },
        { en: "Formidable", tr: "Ürkütücü, zorlu" },
        { en: "Formula", tr: "Formül" },
        { en: "Fortify", tr: "Güçlendirmek" },
        { en: "Fortunate", tr: "Şanslı" },
        { en: "Fortune", tr: "Servet / Şans" },
        { en: "Forward", tr: "İleri" },
        { en: "Foster", tr: "Teşvik etmek, büyütmek" },
        { en: "Found out", tr: "Öğrenmek, keşfetmek" },
        { en: "Foundation", tr: "Temel, vakıf" },
        { en: "Fragile", tr: "Kırılgan" },
        { en: "Fragment", tr: "Parça" },
        { en: "Fragmentation", tr: "Parçalanma" },
        { en: "Frame", tr: "Çerçeve" },
        { en: "Framework", tr: "Çerçeve, iskelet" },
        { en: "Frank", tr: "Açık sözlü" },
        { en: "Frankly", tr: "Dürüst olmak gerekirse" },
        { en: "Fraud", tr: "Dolandırıcılık" },
        { en: "Free", tr: "Özgür / Ücretsiz" },
        { en: "Freedom", tr: "Özgürlük" },
        { en: "Freeze", tr: "Donmak" },
        { en: "Frequent", tr: "Sık" },
        { en: "Fresh", tr: "Taze" },
        { en: "Friend", tr: "Arkadaş" },
        { en: "Frighten", tr: "Korkutmak" },
        { en: "Frog", tr: "Kurbağa" },
        { en: "Front", tr: "Ön" },
        { en: "Frontier", tr: "Sınır" },
        { en: "Fruit", tr: "Meyve" },
        { en: "Fruitful", tr: "Verimli" },
        { en: "Fruitfully", tr: "Verimli bir şekilde" },
        { en: "Frustrate", tr: "Hüsrana uğratmak" },
        { en: "Frustrating", tr: "Sinir bozucu, hüsran yaratan" },
        { en: "Fuel", tr: "Yakıt" },
        { en: "Fulfill", tr: "Yerine getirmek, gerçekleştirmek" },
        { en: "Fulfillment", tr: "Gerçekleştirme, tatmin" },
        { en: "Full", tr: "Dolu" },
        { en: "Fun", tr: "Eğlence" },
        { en: "Function", tr: "İşlev" },
        { en: "Fund", tr: "Fon" },
        { en: "Fundamental", tr: "Temel, esas" },
        { en: "Funeral", tr: "Cenaze" },
        { en: "Funny", tr: "Komik" },
        { en: "Fur", tr: "Kürk" },
        { en: "Furious", tr: "Öfkeli" },
        { en: "Furnish", tr: "Döşemek" },
        { en: "Furniture", tr: "Mobilya" },
        { en: "Further", tr: "Daha ileri" },
        { en: "Futile", tr: "Beyhude, boş" },
        { en: "Future", tr: "Gelecek" },

        // --- G GRUBU ---
        { en: "Gain", tr: "Kazanmak" },
        { en: "Gamble", tr: "Kumar oynamak" },
        { en: "Game", tr: "Oyun" },
        { en: "Gap", tr: "Boşluk" },
        { en: "Garage", tr: "Garaj" },
        { en: "Garbage", tr: "Çöp" },
        { en: "Garden", tr: "Bahçe" },
        { en: "Gas", tr: "Gaz" },
        { en: "Gate", tr: "Kapı" },
        { en: "Gather", tr: "Toplamak" },
        { en: "Gaze", tr: "Gözünü dikip bakmak" },
        { en: "Gear", tr: "Vites / Ekipman" },
        { en: "Gender", tr: "Cinsiyet" },
        { en: "Gene", tr: "Gen" },
        { en: "General", tr: "Genel" },
        { en: "Generate", tr: "Üretmek" },
        { en: "Generation", tr: "Nesil" },
        { en: "Generous", tr: "Cömert" },
        { en: "Genius", tr: "Dahi" },
        { en: "Gentle", tr: "Nazik" },
        { en: "Genuine", tr: "Gerçek, samimi" },
        { en: "Geography", tr: "Coğrafya" },
        { en: "Get", tr: "Almak" },
        { en: "Get along", tr: "Geçinmek, başarmak" },
        { en: "Get along with", tr: "Biriyle iyi geçinmek" },
        { en: "Get away from", tr: "Uzaklaşmak, kaçmak" },
        { en: "Get back to", tr: "Geri dönmek" },
        { en: "Get off", tr: "İnmek, kurtulmak" },
        { en: "Get on", tr: "Binmek, geçinmek, ilerlemek" },
        { en: "Get over", tr: "Atlatmak, iyileşmek" },
        { en: "Get through", tr: "Telefonla ulaşmak, tamamlamak" },
        { en: "Ghost", tr: "Hayalet" },
        { en: "Giant", tr: "Dev" },
        { en: "Gift", tr: "Hediye" },
        { en: "Girl", tr: "Kız" },
        { en: "Give", tr: "Vermek" },
        { en: "Give away", tr: "Ele vermek, bağışlamak" },
        { en: "Give in", tr: "Teslim olmak, boyun eğmek" },
        { en: "Give off", tr: "Yaymak (koku, ısı vb.)" },
        { en: "Give up", tr: "Bırakmak, vazgeçmek" },
        { en: "Glad", tr: "Memnun" },
        { en: "Glance", tr: "Göz atmak" },
        { en: "Glass", tr: "Cam / Bardak" },
        { en: "Global", tr: "Küresel" },
        { en: "Glory", tr: "Şan, şeref" },
        { en: "Glove", tr: "Eldiven" },
        { en: "Go", tr: "Gitmek" },
        { en: "Go through", tr: "Yaşamak (zorluk), incelemek" },
        { en: "Goal", tr: "Hedef" },
        { en: "Goat", tr: "Keçi" },
        { en: "God", tr: "Tanrı" },
        { en: "Gold", tr: "Altın" },
        { en: "Good", tr: "İyi" },
        { en: "Goods", tr: "Mallar" },
        { en: "Govern", tr: "Yönetmek" },
        { en: "Government", tr: "Hükümet" },
        { en: "Grab", tr: "Kapmak" },
        { en: "Grace", tr: "Zarafet" },
        { en: "Grade", tr: "Sınıf / Not" },
        { en: "Gradual", tr: "Kademeli" },
        { en: "Graduate", tr: "Mezun olmak" },
        { en: "Grain", tr: "Tahıl" },
        { en: "Grammar", tr: "Gramer" },
        { en: "Grand", tr: "Büyük, görkemli" },
        { en: "Grant", tr: "Vermek, bağışlamak" },
        { en: "Grape", tr: "Üzüm" },
        { en: "Grasp", tr: "Kavramak" },
        { en: "Grass", tr: "Çim" },
        { en: "Grateful", tr: "Minnettar" },
        { en: "Grave", tr: "Mezar / Ciddi" },
        { en: "Gravity", tr: "Yerçekimi" },
        { en: "Great", tr: "Harika" },
        { en: "Greed", tr: "Açgözlülük" },
        { en: "Green", tr: "Yeşil" },
        { en: "Greet", tr: "Selamlamak" },
        { en: "Grey", tr: "Gri" },
        { en: "Grief", tr: "Keder" },
        { en: "Grim", tr: "Karamsar, korkunç" },
        { en: "Grind", tr: "Öğütmek" },
        { en: "Grip", tr: "Sıkıca tutmak" },
        { en: "Ground", tr: "Yer" },
        { en: "Group", tr: "Grup" },
        { en: "Grow", tr: "Büyümek" },
        { en: "Guarantee", tr: "Garanti etmek" },
        { en: "Guard", tr: "Nöbetçi / Korumak" },
        { en: "Guess", tr: "Tahmin etmek" },
        { en: "Guest", tr: "Misafir" },
        { en: "Guide", tr: "Rehber" },
        { en: "Guilt", tr: "Suçluluk" },
        { en: "Gun", tr: "Silah" },
        { en: "Guy", tr: "Adam" },

        // --- H GRUBU ---
        { en: "Habit", tr: "Alışkanlık" },
        { en: "Habitat", tr: "Yaşam alanı" },
        { en: "Hair", tr: "Saç" },
        { en: "Half", tr: "Yarım" },
        { en: "Hall", tr: "Salon, hol" },
        { en: "Halt", tr: "Durdurmak" },
        { en: "Hammer", tr: "Çekiç" },
        { en: "Hamper", tr: "Engellemek" },
        { en: "Hand", tr: "El" },
        { en: "Hand out", tr: "Dağıtmak" },
        { en: "Hand over", tr: "Teslim etmek, devretmek" },
        { en: "Handicap", tr: "Engel" },
        { en: "Handle", tr: "Ele almak, halletmek" },
        { en: "Handsome", tr: "Yakışıklı" },
        { en: "Hang", tr: "Asmak" },
        { en: "Happen", tr: "Olmak" },
        { en: "Happy", tr: "Mutlu" },
        { en: "Harass", tr: "Taciz etmek" },
        { en: "Harbor", tr: "Liman / Barındırmak" },
        { en: "Hard", tr: "Zor / Sert" },
        { en: "Hardly", tr: "Hemen hemen hiç" },
        { en: "Hardship", tr: "Zorluk" },
        { en: "Harm", tr: "Zarar" },
        { en: "Harmony", tr: "Uyum" },
        { en: "Harsh", tr: "Sert, kaba" },
        { en: "Harvest", tr: "Hasat" },
        { en: "Haste", tr: "Acele" },
        { en: "Hat", tr: "Şapka" },
        { en: "Hate", tr: "Nefret etmek" },
        { en: "Haul", tr: "Çekmek, taşımak" },
        { en: "Have", tr: "Sahip olmak" },
        { en: "Hazard", tr: "Tehlike" },
        { en: "Head", tr: "Baş" },
        { en: "Heal", tr: "İyileşmek" },
        { en: "Health", tr: "Sağlık" },
        { en: "Hear", tr: "Duymak" },
        { en: "Heart", tr: "Kalp" },
        { en: "Heat", tr: "Isı" },
        { en: "Heaven", tr: "Cennet" },
        { en: "Heavy", tr: "Ağır" },
        { en: "Hectic", tr: "Yoğun, telaşlı" },
        { en: "Heed", tr: "Aldırış etmek" },
        { en: "Heel", tr: "Topuk" },
        { en: "Height", tr: "Yükseklik" },
        { en: "Heir", tr: "Mirasçı" },
        { en: "Hell", tr: "Cehennem" },
        { en: "Help", tr: "Yardım etmek" },
        { en: "Hence", tr: "Bu yüzden" },
        { en: "Herald", tr: "Müjdelemek, habercisi olmak" },
        { en: "Here", tr: "Burada" },
        { en: "Hereditary", tr: "Kalıtsal" },
        { en: "Heritage", tr: "Miras" },
        { en: "Hero", tr: "Kahraman" },
        { en: "Hesitate", tr: "Tereddüt etmek" },
        { en: "Hide", tr: "Saklamak" },
        { en: "High", tr: "Yüksek" },
        { en: "Highlight", tr: "Vurgulamak, öne çıkarmak" },
        { en: "Highway", tr: "Otoyol" },
        { en: "Hill", tr: "Tepe" },
        { en: "Hinder", tr: "Engel olmak" },
        { en: "Hint", tr: "İpucu" },
        { en: "Hire", tr: "Kiralamak / İşe almak" },
        { en: "History", tr: "Tarih" },
        { en: "Hit", tr: "Vurmak" },
        { en: "Hobby", tr: "Hobi" },
        { en: "Hold", tr: "Tutmak" },
        { en: "Hole", tr: "Delik" },
        { en: "Holiday", tr: "Tatil" },
        { en: "Hollow", tr: "Oyuk, boş" },
        { en: "Holy", tr: "Kutsal" },
        { en: "Home", tr: "Ev" },
        { en: "Honest", tr: "Dürüst" },
        { en: "Honor", tr: "Onur" },
        { en: "Hook", tr: "Kanca" },
        { en: "Hope", tr: "Umut" },
        { en: "Horizon", tr: "Ufuk" },
        { en: "Horizontal", tr: "Yatay" },
        { en: "Horn", tr: "Boynuz / Korna" },
        { en: "Horror", tr: "Korku" },
        { en: "Horse", tr: "At" },
        { en: "Hospital", tr: "Hastane" },
        { en: "Host", tr: "Ev sahibi" },
        { en: "Hostile", tr: "Düşmanca" },
        { en: "Hot", tr: "Sıcak" },
        { en: "Hotel", tr: "Otel" },
        { en: "Hour", tr: "Saat" },
        { en: "House", tr: "Ev" },
        { en: "Household", tr: "Ev halkı" },
        { en: "Housing", tr: "Konut" },
        { en: "How", tr: "Nasıl" },
        { en: "However", tr: "Ancak" },
        { en: "Huge", tr: "Kocaman" },
        { en: "Human", tr: "İnsan" },
        { en: "Humble", tr: "Alçakgönüllü" },
        { en: "Humiliate", tr: "Aşağılamak" },
        { en: "Humor", tr: "Mizah" },
        { en: "Hungry", tr: "Aç" },
        { en: "Hunt", tr: "Avlamak" },
        { en: "Hurry", tr: "Acele etmek" },
        { en: "Hurt", tr: "İncitmek" },
        { en: "Husband", tr: "Eş (erkek)" },
        { en: "Hut", tr: "Kulübe" },

        // --- I GRUBU ---
        { en: "Ice", tr: "Buz" },
        { en: "Idea", tr: "Fikir" },
        { en: "Ideal", tr: "İdeal" },
        { en: "Identical", tr: "Tıpatıp aynı" },
        { en: "Identification", tr: "Kimlik saptama, tanımlama" },
        { en: "Identify", tr: "Tanımlamak, belirlemek" },
        { en: "Identity", tr: "Kimlik" },
        { en: "Idle", tr: "Boş, aylak" },
        { en: "Ignite", tr: "Ateşlemek" },
        { en: "Ignorance", tr: "Cehalet" },
        { en: "Ignore", tr: "Görmezden gelmek" },
        { en: "Ill", tr: "Hasta" },
        { en: "Illegal", tr: "Yasadışı" },
        { en: "Illusion", tr: "Yanılsama" },
        { en: "Illustrate", tr: "Resimlemek, örneklemek" },
        { en: "Image", tr: "Görüntü" },
        { en: "Imaginary", tr: "Hayali" },
        { en: "Imagine", tr: "Hayal etmek" },
        { en: "Imitate", tr: "Taklit etmek" },
        { en: "Immediate", tr: "Derhal" },
        { en: "Immigrant", tr: "Göçmen" },
        { en: "Immune", tr: "Bağışık" },
        { en: "Impact", tr: "Etki" },
        { en: "Impair", tr: "Bozmak, zarar vermek" },
        { en: "Impartial", tr: "Tarafsız" },
        { en: "Impatient", tr: "Sabırsız" },
        { en: "Imperative", tr: "Zorunlu, mecburi" },
        { en: "Impermissible", tr: "İzin verilemez" },
        { en: "Implement", tr: "Uygulamak" },
        { en: "Implication", tr: "İma, sonuç, çıkarım" },
        { en: "Implicit", tr: "İmalı, üstü kapalı" },
        { en: "Implicitly", tr: "İmalı olarak" },
        { en: "Imply", tr: "İma etmek" },
        { en: "Import", tr: "İthal etmek" },
        { en: "Importance", tr: "Önem" },
        { en: "Impose", tr: "Dayatmak" },
        { en: "Impossible", tr: "İmkansız" },
        { en: "Impress", tr: "Etkilemek" },
        { en: "Impressively", tr: "Etkileyici bir şekilde" },
        { en: "Imprison", tr: "Hapsetmek" },
        { en: "Improve", tr: "Geliştirmek" },
        { en: "Improvement", tr: "Gelişme, iyileşme" },
        { en: "Impulse", tr: "Dürtü" },
        { en: "Inability", tr: "Yetersizlik" },
        { en: "Inaccessible", tr: "Erişilemez" },
        { en: "Inaccurate", tr: "Hatalı" },
        { en: "Inadequate", tr: "Yetersiz" },
        { en: "Inadequately", tr: "Yetersiz bir şekilde" },
        { en: "Inaugurate", tr: "Açılış yapmak, göreve başlatmak" },
        { en: "Incapable", tr: "Yeteneksiz" },
        { en: "Incentive", tr: "Teşvik, dürtü" },
        { en: "Incessant", tr: "Aralıksız, sürekli" },
        { en: "Inch", tr: "İnç" },
        { en: "Incidence", tr: "Vaka, olay oranı" },
        { en: "Incident", tr: "Olay" },
        { en: "Incidentally", tr: "Tesadüfen, bu arada" },
        { en: "Inclination", tr: "Eğilim, meyil" },
        { en: "Inclined", tr: "Eğilimli" },
        { en: "Include", tr: "İçermek" },
        { en: "Inclusion", tr: "Dahil etme" },
        { en: "Income", tr: "Gelir" },
        { en: "Incomparably", tr: "Kıyaslanamaz şekilde" },
        { en: "Incompatible", tr: "Uyumsuz" },
        { en: "Inconclusive", tr: "Sonuçsuz" },
        { en: "Inconsistent", tr: "Tutarsız" },
        { en: "Inconvenient", tr: "Zahmetli, uygunsuz" },
        { en: "Incorporate", tr: "Dahil etmek, birleştirmek" },
        { en: "Increase", tr: "Artmak" },
        { en: "Incredible", tr: "İnanılmaz" },
        { en: "Indestructible", tr: "Yok edilemez" },
        { en: "Indicate", tr: "Göstermek, belirtmek" },
        { en: "Indicative", tr: "Göstergesi olan" },
        { en: "Indifferent", tr: "Kaygısız, umursamaz" },
        { en: "Indigenous", tr: "Yerli" },
        { en: "Indispensable", tr: "Vazgeçilmez" },
        { en: "Individual", tr: "Birey" },
        { en: "Induce", tr: "Neden olmak, tetiklemek" },
        { en: "Industrial", tr: "Endüstriyel" },
        { en: "Industrious", tr: "Çalışkan" },
        { en: "Industry", tr: "Sanayi" },
        { en: "Ineffectively", tr: "Etkisiz bir şekilde" },
        { en: "Inevitably", tr: "Kaçınılmaz olarak" },
        { en: "Inexplicable", tr: "Açıklanamaz" },
        { en: "Infant", tr: "Bebek" },
        { en: "Infect", tr: "Bulaşmak" },
        { en: "Infer", tr: "Çıkarım yapmak" },
        { en: "Inferior", tr: "Aşağı, kalitesiz" },
        { en: "Infinite", tr: "Sonsuz" },
        { en: "Inflation", tr: "Enflasyon" },
        { en: "Inflict", tr: "Acı vermek, uğratmak" },
        { en: "Influence", tr: "Etki / Etkilemek" },
        { en: "Inform", tr: "Bilgilendirmek" },
        { en: "Infrastructure", tr: "Altyapı" },
        { en: "Ingenious", tr: "Dahice" },
        { en: "Inhabit", tr: "İkamet etmek, yaşamak" },
        { en: "Inherent", tr: "Doğasında olan" },
        { en: "Inherit", tr: "Miras almak" },
        { en: "Inheritance", tr: "Miras, kalıtım" },
        { en: "Inhibit", tr: "Engellemek" },
        { en: "Initial", tr: "İlk" },
        { en: "Initially", tr: "Başlangıçta" },
        { en: "Initiate", tr: "Başlatmak" },
        { en: "Inject", tr: "Enjekte etmek" },
        { en: "Injure", tr: "Yaralamak" },
        { en: "Innately", tr: "Doğuştan" },
        { en: "Innocent", tr: "Masum" },
        { en: "Innovate", tr: "Yenilik yapmak" },
        { en: "Input", tr: "Girdi" },
        { en: "Inquire", tr: "Soruşturmak" },
        { en: "Inquiry", tr: "Soruşturma, sorgu" },
        { en: "Insane", tr: "Deli" },
        { en: "Insect", tr: "Böcek" },
        { en: "Inseparable", tr: "Ayrılmaz" },
        { en: "Insert", tr: "Yerleştirmek" },
        { en: "Insight", tr: "Kavrayış" },
        { en: "Insignificant", tr: "Önemsiz" },
        { en: "Insist", tr: "Israr etmek" },
        { en: "Inspect", tr: "Teftiş etmek" },
        { en: "Inspection", tr: "Teftiş, inceleme" },
        { en: "Inspire", tr: "İlham vermek" },
        { en: "Install", tr: "Kurmak" },
        { en: "Instance", tr: "Örnek" },
        { en: "Instant", tr: "Anlık" },
        { en: "Instantly", tr: "Anında" },
        { en: "Instantaneously", tr: "Anında, hemen" },
        { en: "Instead", tr: "Yerine" },
        { en: "Instinct", tr: "İçgüdü" },
        { en: "Institute", tr: "Enstitü / Kurmak" },
        { en: "Instruct", tr: "Talimat vermek" },
        { en: "Instrument", tr: "Enstrüman / Alet" },
        { en: "Insufficient", tr: "Yetersiz" },
        { en: "Insulate", tr: "Yalıtmak" },
        { en: "Insult", tr: "Hakaret etmek" },
        { en: "Insurance", tr: "Sigorta" },
        { en: "Intact", tr: "Dokunulmamış, sağlam" },
        { en: "Integrate", tr: "Bütünleştirmek" },
        { en: "Intelligence", tr: "Zeka" },
        { en: "Intend", tr: "Niyet etmek" },
        { en: "Intense", tr: "Yoğun" },
        { en: "Intentional", tr: "Kasıtlı" },
        { en: "Interact", tr: "Etkileşime girmek" },
        { en: "Interest", tr: "İlgi / Faiz" },
        { en: "Interfere", tr: "Müdahale etmek" },
        { en: "Interfere with", tr: "Müdahale etmek, bozmak" },
        { en: "Interior", tr: "İç" },
        { en: "Internal", tr: "Dahili" },
        { en: "International", tr: "Uluslararası" },
        { en: "Interpret", tr: "Yorumlamak" },
        { en: "Interpretation", tr: "Yorum, çeviri" },
        { en: "Interrupt", tr: "Sözünü kesmek" },
        { en: "Interval", tr: "Aralık" },
        { en: "Intervene", tr: "Araya girmek" },
        { en: "Intervention", tr: "Müdahale" },
        { en: "Interview", tr: "Röportaj" },
        { en: "Intimate", tr: "Samimi" },
        { en: "Intimidate", tr: "Gözdağı vermek" },
        { en: "Intricately", tr: "Karmaşık/incelikli bir şekilde" },
        { en: "Introduce", tr: "Tanıtmak" },
        { en: "Intuitive", tr: "Sezgisel" },
        { en: "Invade", tr: "İstila etmek" },
        { en: "Invasion", tr: "İstila" },
        { en: "Invariably", tr: "Değişmez şekilde, daima" },
        { en: "Invent", tr: "İcat etmek" },
        { en: "Invention", tr: "İcat" },
        { en: "Invest", tr: "Yatırım yapmak" },
        { en: "Investigate", tr: "Soruşturmak" },
        { en: "Invite", tr: "Davet etmek" },
        { en: "Invoke", tr: "Başvurmak (yasa vb.)" },
        { en: "Involve", tr: "İçermek, kapsamak" },
        { en: "Iron", tr: "Demir / Ütü" },
        { en: "Irrelevant", tr: "Alakasız" },
        { en: "Irresponsible", tr: "Sorumsuz" },
        { en: "Irreversible", tr: "Geri döndürülemez" },
        { en: "Irrigate", tr: "Sulamak" },
        { en: "Irritate", tr: "Rahatsız etmek, tahriş etmek" },
        { en: "Island", tr: "Ada" },
        { en: "Isolate", tr: "İzole etmek" },
        { en: "Isolation", tr: "İzolasyon, yalnızlık" },
        { en: "Issue", tr: "Konu / Yayınlamak" },
        { en: "Item", tr: "Öğe, parça" },

        // --- J GRUBU ---
        { en: "Jail", tr: "Hapis" },
        { en: "Jealous", tr: "Kıskanç" },
        { en: "Jeopardize", tr: "Tehlikeye atmak" },
        { en: "Jeopardy", tr: "Tehlike, risk" },
        { en: "Jerk", tr: "Sarsmak / Pislik (argo)" },
        { en: "Jewel", tr: "Mücevher" },
        { en: "Job", tr: "İş" },
        { en: "Join", tr: "Katılmak" },
        { en: "Joint", tr: "Eklem / Ortak" },
        { en: "Jointly", tr: "Ortaklaşa" },
        { en: "Joke", tr: "Şaka" },
        { en: "Journal", tr: "Dergi, günlük" },
        { en: "Journey", tr: "Yolculuk" },
        { en: "Joy", tr: "Neşe" },
        { en: "Judge", tr: "Yargıç / Yargılamak" },
        { en: "Judgment", tr: "Yargı" },
        { en: "Juice", tr: "Meyve suyu" },
        { en: "Jump", tr: "Zıplamak" },
        { en: "Junior", tr: "Kıdemsiz, küçük" },
        { en: "Jury", tr: "Jüri" },
        { en: "Just", tr: "Sadece / Adil" },
        { en: "Justice", tr: "Adalet" },
        { en: "Justification", tr: "Gerekçe" },
        { en: "Justify", tr: "Haklı çıkarmak" },

        // --- K GRUBU ---
        { en: "Keep away", tr: "Uzak tutmak" },
        { en: "Keep off", tr: "Uzak durmak" },
        { en: "Keep on", tr: "Devam etmek" },

        // --- L GRUBU ---
        { en: "Lay out", tr: "Düzenlemek, sermek" },
        { en: "Lead to", tr: "Yol açmak, sebep olmak" },
        { en: "Legitimate", tr: "Meşru, yasal" },
        { en: "Limiting", tr: "Sınırlayıcı" },
        { en: "Look into", tr: "İncelemek, araştırmak" },
        { en: "Look up", tr: "Sözlükten bakmak, hayran olmak" },
        { en: "Look up to", tr: "Hayran olmak, saygı duymak" },

        // --- M GRUBU ---
        { en: "Maintenance", tr: "Bakım, sürdürme" },
        { en: "Make out", tr: "Anlamak, seçebilmek, çözmek" },
        { en: "Make up", tr: "Oluşturmak, uydurmak" },
        { en: "Make up for", tr: "Telafi etmek" },
        { en: "Manifest", tr: "Göstermek, ortaya çıkmak" },
        { en: "Manipulation", tr: "Manipülasyon, yönlendirme" },
        { en: "Measure", tr: "Ölçmek / Önlem" },
        { en: "Mediocre", tr: "Vasat, sıradan" },
        { en: "Memorable", tr: "Unutulmaz" },
        { en: "Merely", tr: "Sadece, yalnızca" },
        { en: "Misleading", tr: "Yanıltıcı" },
        { en: "Mitigate", tr: "Hafifletmek, azaltmak" },
        { en: "Mutually", tr: "Karşılıklı olarak" },

        // --- N GRUBU ---
        { en: "Narrowly", tr: "Dar bir şekilde, kıl payı" },
        { en: "Necessity", tr: "Gereklilik" },
        { en: "Neglect", tr: "İhmal etmek" },
        { en: "Negligible", tr: "İhmal edilebilir, önemsiz" },
        { en: "Nomination", tr: "Aday gösterme" },
        { en: "Notably", tr: "Özellikle, bilhassa" },
        { en: "Notorious", tr: "Kötü şöhretli" },
        { en: "Notoriously", tr: "Kötü ünle, herkesçe bilinen şekilde" },

        // --- O GRUBU ---
        { en: "Objective", tr: "Hedef / Nesnel" },
        { en: "Objectively", tr: "Nesnel bir şekilde" },
        { en: "Obligation", tr: "Zorunluluk" },
        { en: "Obligatory", tr: "Zorunlu" },
        { en: "Observable", tr: "Gözlemlenebilir" },
        { en: "Obscurely", tr: "Belirsizce" },
        { en: "Observation", tr: "Gözlem" },
        { en: "Obsolete", tr: "Modası geçmiş, eskimiş" },
        { en: "Obstacle", tr: "Engel" },
        { en: "Obstruction", tr: "Engel, tıkanıklık" },
        { en: "Occupy", tr: "İşgal etmek, meşgul etmek" },
        { en: "Oddity", tr: "Tuhaflık" },
        { en: "Offensive", tr: "Saldırgan, kırıcı" },
        { en: "Offensively", tr: "Saldırgan bir şekilde" },
        { en: "Outdated", tr: "Çağdışı, eski" },
        { en: "Outcome", tr: "Sonuç" },
        { en: "Overcome", tr: "Üstesinden gelmek" },
        { en: "Overlook", tr: "Gözden kaçırmak, tepeden bakmak" },
        { en: "Overt", tr: "Açık, belirgin" },
        { en: "Overtake", tr: "Sollamak, yetişip geçmek" },

        // --- P GRUBU ---
        { en: "Partially", tr: "Kısmen" },
        { en: "Pass down", tr: "Nesilden nesile aktarmak" },
        { en: "Pass for", tr: "... olarak geçinmek, sanılmak" },
        { en: "Pass over", tr: "Es geçmek, görmezden gelmek" },
        { en: "Peculiar", tr: "Tuhaf, kendine özgü" },
        { en: "Penetrate", tr: "Nüfuz etmek, içine girmek" },
        { en: "Permission", tr: "İzin" },
        { en: "Permanent", tr: "Kalıcı" },
        { en: "Perpetuate", tr: "Sürdürmek, ebedileştirmek" },
        { en: "Persistence", tr: "Süreklilik, inat" },
        { en: "Persistently", tr: "Israrla, sürekli" },
        { en: "Persuade", tr: "Ikna etmek" },
        { en: "Pervasive", tr: "Yaygın, her yere sinen" },
        { en: "Pin down", tr: "Kıstırmak, kesinleştirmek" },
        { en: "Precaution", tr: "Önlem" },
        { en: "Precede", tr: "Önce gelmek" },
        { en: "Preciously", tr: "Değerli bir şekilde" },
        { en: "Predict", tr: "Tahmin etmek" },
        { en: "Predictable", tr: "Öngörülebilir" },
        { en: "Prediction", tr: "Tahmin" },
        { en: "Prejudice", tr: "Önyargı" },
        { en: "Pretended", tr: "Sahte, yapmacık" },
        { en: "Pretend", tr: "Gibi yapmak" },
        { en: "Prevalence", tr: "Yaygınlık" },
        { en: "Prevalent", tr: "Yaygın" },
        { en: "Prevail over", tr: "Üstün gelmek, hakim olmak" },
        { en: "Prevent", tr: "Önlemek" },
        { en: "Prevention", tr: "Önleme" },
        { en: "Primarily", tr: "Öncelikle, esasen" },
        { en: "Priority", tr: "Öncelik" },
        { en: "Privately", tr: "Özel olarak" },
        { en: "Productively", tr: "Üretken bir şekilde" },
        { en: "Profoundly", tr: "Derinden, son derece" },
        { en: "Progress", tr: "İlerlemek, gelişmek" },
        { en: "Progression", tr: "İlerleme" },
        { en: "Prohibit", tr: "Yasaklamak" },
        { en: "Prolonged", tr: "Uzamış, uzun süreli" },
        { en: "Promise", tr: "Söz vermek / Umut vaat etmek" },
        { en: "Promote", tr: "Desteklemek, terfi ettirmek" },
        { en: "Prompt", tr: "Çabuk, tez / Tetiklemek" },
        { en: "Promptly", tr: "Derhal, hemen" },
        { en: "Properly", tr: "Uygun bir şekilde" },
        { en: "Proposal", tr: "Teklif, öneri" },
        { en: "Prospect", tr: "Olasılık, beklenti" },
        { en: "Protect", tr: "Korumak" },
        { en: "Protection", tr: "Koruma" },
        { en: "Provable", tr: "Kanıtlanabilir" },
        { en: "Provide", tr: "Sağlamak" },
        { en: "Provoke", tr: "Kışkırtmak, tetiklemek" },
        { en: "Pull down", tr: "Yıkmak, aşağı çekmek" },
        { en: "Pull through", tr: "İyileşmek, badireyi atlatmak" },
        { en: "Pull up", tr: "Durmak (araç), yukarı çekmek" },
        { en: "Purely", tr: "Sadece, safça" },
        { en: "Purpose", tr: "Amaç" },
        { en: "Pursuit", tr: "Takip, uğraş" },
        { en: "Put aside", tr: "Kenara koymak, biriktirmek" },
        { en: "Put away", tr: "Yerine koymak, kaldırmak" },
        { en: "Put back", tr: "Geri koymak, ertelemek" },
        { en: "Put forward", tr: "İleri sürmek, önermek" },
        { en: "Put off", tr: "Ertelemek" },
        { en: "Put on", tr: "Giymek, kilo almak" },

        // --- Q GRUBU ---
        { en: "Qualify", tr: "Hak kazanmak, nitelendirmek" },
        { en: "Questionable", tr: "Şüpheli, tartışmalı" },
        { en: "Questionably", tr: "Şüpheli bir şekilde" },

        // --- R GRUBU ---
        { en: "Ramification", tr: "Sonuç, etki, dallanıp budaklanma" },
        { en: "Ranged against", tr: "Karşısına dizilmek, karşı çıkmak" },
        { en: "Reactive", tr: "Tepkisel" },
        { en: "Reasonable", tr: "Makul, mantıklı" },
        { en: "Receive", tr: "Almak" },
        { en: "Recession", tr: "Durgunluk (ekonomik)" },
        { en: "Recklessly", tr: "Pervasızca" },
        { en: "Recognition", tr: "Tanınma, kabul" },
        { en: "Reduction", tr: "Azalma" },
        { en: "Redundant", tr: "Gereksiz, fazla" },
        { en: "Reference", tr: "Referans, atıf" },
        { en: "Refinement", tr: "Arıtma, iyileştirme" },
        { en: "Reflect on", tr: "Düşünmek, yansıtmak" },
        { en: "Reflectively", tr: "Düşünceli bir şekilde" },
        { en: "Refrain from", tr: "Sakınmak, kaçınmak" },
        { en: "Refutable", tr: "Çürütülebilir" },
        { en: "Regulation", tr: "Düzenleme, yönetmelik" },
        { en: "Reject", tr: "Reddetmek" },
        { en: "Rejection", tr: "Reddetme" },
        { en: "Relevant", tr: "İlgili, alakalı" },
        { en: "Relieve", tr: "Rahatlatmak, hafifletmek" },
        { en: "Relieved", tr: "Rahatlamış" },
        { en: "Reluctantly", tr: "İsteksizce" },
        { en: "Rely on", tr: "Güvenmek, bel bağlamak" },
        { en: "Remnant", tr: "Kalıntı" },
        { en: "Removal", tr: "Kaldırma, sökme" },
        { en: "Remove", tr: "Kaldırmak, çıkarmak" },
        { en: "Require", tr: "Gerektirmek" },
        { en: "Requirement", tr: "Gereksinim" },
        { en: "Resemblance", tr: "Benzerlik" },
        { en: "Resistance", tr: "Direnç" },
        { en: "Resolution", tr: "Kararlılık, çözüm" },
        { en: "Respectively", tr: "Sırasıyla" },
        { en: "Respond", tr: "Yanıt vermek" },
        { en: "Responsibility", tr: "Sorumluluk" },
        { en: "Rest on", tr: "Dayanmak, bağlı olmak" },
        { en: "Restraining", tr: "Kısıtlayıcı" },
        { en: "Restrict", tr: "Kısıtlamak" },
        { en: "Restriction", tr: "Kısıtlama" },
        { en: "Restrictive", tr: "Kısıtlayıcı" },
        { en: "Result in", tr: "İle sonuçlanmak" },
        { en: "Retain", tr: "Muhafaza etmek, tutmak" },
        { en: "Reveal", tr: "Ortaya çıkarmak" },
        { en: "Reverse", tr: "Tersine çevirmek" },
        { en: "Reversible", tr: "Geri alınabilir, tersine çevrilebilir" },
        { en: "Roughly", tr: "Kabaca, yaklaşık olarak" },
        { en: "Run into", tr: "Karşılaşmak, çarpmak" },
        { en: "Run out of", tr: "Tüketmek, bitirmek" },
        { en: "Rush into", tr: "Acele etmek" },

        // --- S GRUBU ---
        { en: "Sacrifice", tr: "Feda etmek" },
        { en: "Scarcity", tr: "Kıtlık" },
        { en: "Scarcely", tr: "Neredeyse hiç" },
        { en: "Scatter", tr: "Dağıtmak, saçmak" },
        { en: "Seek out", tr: "Aramak, bulmaya çalışmak" },
        { en: "Segregation", tr: "Ayrım, tecrit" },
        { en: "Separately", tr: "Ayrı olarak" },
        { en: "Severe", tr: "Ciddi, sert" },
        { en: "Severely", tr: "Şiddetle, ciddi şekilde" },
        { en: "Severity", tr: "Şiddet, ciddiyet" },
        { en: "Shift", tr: "Değişim, kayma" },
        { en: "Show off", tr: "Hava atmak, sergilemek" },
        { en: "Significance", tr: "Önem" },
        { en: "Significant", tr: "Önemli" },
        { en: "Significantly", tr: "Önemli ölçüde" },
        { en: "Slightly", tr: "Hafifçe, azıcık" },
        { en: "Sovereignty", tr: "Egemenlik" },
        { en: "Speculation", tr: "Spekülasyon, tahminde bulunma" },
        { en: "Speculative", tr: "Spekülatif, kurgusal" },
        { en: "Speed up", tr: "Hızlandırmak" },
        { en: "Stand for", tr: "Temsil etmek, anlamına gelmek" },
        { en: "Stem from", tr: "-den kaynaklanmak" },
        { en: "Stretch", tr: "Uzanmak, germek" },
        { en: "Strictly", tr: "Katı bir şekilde" },
        { en: "Strive", tr: "Çabalamak" },
        { en: "Submission", tr: "Teslimiyet, sunma" },
        { en: "Subtle", tr: "İnce, hemen göze çarpmayan" },
        { en: "Subtly", tr: "İnce bir şekilde, sinsice" },
        { en: "Substitute", tr: "Yerine geçmek / Yedek" },
        { en: "Substitution", tr: "Yerine koyma" },
        { en: "Succession", tr: "Ardışıklık, silsile" },
        { en: "Sufficiently", tr: "Yeterince" },
        { en: "Superficial", tr: "Yüzeysel" },
        { en: "Superficially", tr: "Yüzeysel olarak" },
        { en: "Superfluous", tr: "Gereksiz, fazlalık" },
        { en: "Supervision", tr: "Denetim, gözetim" },
        { en: "Surpass", tr: "Aşmak, geçmek" },
        { en: "Surrender", tr: "Teslim olmak" },
        { en: "Suspect", tr: "Şüphelenmek" },
        { en: "Suspend", tr: "Askıya almak" },
        { en: "Suspension", tr: "Askıya alma" },
        { en: "Suspiciously", tr: "Şüpheyle" },
        { en: "Sustain", tr: "Sürdürmek" },
        { en: "Sustainable", tr: "Sürdürülebilir" },
        { en: "Swift", tr: "Hızlı, süratli" },
        { en: "Switch off", tr: "Kapatmak" },
        { en: "Sympathetic", tr: "Canayakın, anlayışlı" },

        // --- T GRUBU ---
        { en: "Tackle", tr: "Ele almak, çözmeye çalışmak" },
        { en: "Take apart", tr: "Parçalarına ayırmak" },
        { en: "Take after", tr: "Benzemek (çekmek)" },
        { en: "Take on", tr: "Üstlenmek, halini almak" },
        { en: "Take out", tr: "Çıkarmak" },
        { en: "Take over", tr: "Devralmak" },
        { en: "Take up", tr: "Başlamak (hobi), yer kaplamak" },
        { en: "Tediously", tr: "Bıktırıcı/sıkıcı bir şekilde" },
        { en: "Temptation", tr: "Kışkırtma, cezbedicilik" },
        { en: "Tendency", tr: "Eğilim" },
        { en: "Termination", tr: "Sonlandırma" },
        { en: "Thoroughly", tr: "İyice, tamamen" },
        { en: "Threat", tr: "Tehdit" },
        { en: "Threaten", tr: "Tehdit etmek" },
        { en: "Thrust on", tr: "Zorla kabul ettirmek, dayatmak" },
        { en: "Tightly", tr: "Sıkıca" },
        { en: "Transmit", tr: "İletmek" },
        { en: "Transmission", tr: "İletim" },
        { en: "Turn down", tr: "Reddetmek, kısmak" },
        { en: "Turn over", tr: "Devretmek, çevirmek" },

        // --- U GRUBU ---
        { en: "Ultimately", tr: "Sonuçta, nihayetinde" },
        { en: "Unattainable", tr: "Ulaşılamaz" },
        { en: "Unavailable", tr: "Mevcut olmayan" },
        { en: "Unbearably", tr: "Dayanılmaz bir şekilde" },
        { en: "Undeniable", tr: "İnkar edilemez" },
        { en: "Undeniably", tr: "İnkar edilemez şekilde" },
        { en: "Undergo", tr: "Maruz kalmak, geçirmek" },
        { en: "Undermine", tr: "Baltalamak, zayıflatmak" },
        { en: "Unearth", tr: "Gün yüzüne çıkarmak" },
        { en: "Unequally", tr: "Eşitsizce" },
        { en: "Unevenly", tr: "Eşitsiz bir şekilde" },
        { en: "Unfeasible", tr: "Uygulanamaz" },
        { en: "Uniformity", tr: "Yeknesaklık, tekdüzelik" },
        { en: "Unintelligible", tr: "Anlaşılmaz" },
        { en: "Unique", tr: "Eşsiz" },
        { en: "Unprecedented", tr: "Eşi görülmemiş" },
        { en: "Unremarkable", tr: "Sıradan, dikkat çekmeyen" },
        { en: "Unresolved", tr: "Çözülmemiş" },
        { en: "Unsophisticated", tr: "Basit, karmaşık olmayan" },
        { en: "Unsustainable", tr: "Sürdürülemez" },
        { en: "Urgency", tr: "Aciliyet" },
        { en: "Urgent", tr: "Acil" },
        { en: "Urgently", tr: "Acilen" },
        { en: "Utilisation", tr: "Kullanım, faydalanma" },

        // --- V GRUBU ---
        { en: "Validate", tr: "Doğrulamak, geçerli kılmak" },
        { en: "Variety", tr: "Çeşitlilik" },
        { en: "Viable", tr: "Uygulanabilir, yaşayabilir" },
        { en: "Vigorous", tr: "Güçlü, dinç" },
        { en: "Violate", tr: "İhlal etmek" },
        { en: "Violation", tr: "İhlal" },
        { en: "Virtual", tr: "Sanal" },
        { en: "Virtually", tr: "Neredeyse, sanal olarak" },
        { en: "Visibility", tr: "Görünürlük" },
        { en: "Visible", tr: "Görünür" },
        { en: "Vividly", tr: "Canlı bir şekilde" },
        { en: "Vulnerability", tr: "Savunmasızlık, hassasiyet" },
        { en: "Vulnerable", tr: "Savunmasız, kırılgan" },

        // --- W GRUBU ---
        { en: "Wander", tr: "Dolaşmak, gezinmek" },
        { en: "Ward off", tr: "Savuşturmak, engellemek" },
        { en: "Warrant", tr: "Garanti etmek, gerektirmek" },
        { en: "Weaken", tr: "Zayıflatmak" },
        { en: "Widely", tr: "Geniş çapta" },
        { en: "Withdrawal", tr: "Geri çekilme" },
        { en: "Work out", tr: "Çözmek, antrenman yapmak" },
        { en: "Worthwhile", tr: "Değer, zahmete değer" },

        // --- Y GRUBU ---
        { en: "Yield", tr: "Ürün vermek / Teslim olmak" }
    ];

    /* ================= GRAMER SORULARI (RAW TEXT) ================= */
    const rawQuestionsText = `
Section: Prepositions & Collocations (1—70)
1) She insisted ___ paying for the damage, even though it wasn't her fault.
   A) at
   B) to
   C) for
   D) with
   E) on
TIP: Kalıp → insist on + V-ing / noun.

2) The committee approved ___ the proposal after minor revisions.
   A) with
   B) for
   C) to
   D) on
   E) of
TIP: Kalıp → approve of + noun/V-ing.

3) His success largely depends ___ how well he manages time.
   A) to
   B) for
   C) upon
   D) in
   E) with
TIP: Kalıp → depend on/upon + noun/clause.

4) The new policy applies ___ all temporary employees as well as full-time staff.
   A) with
   B) on
   C) for
   D) in
   E) to
TIP: apply to (uygulanmak) â†” apply for (başvurmak).

5) I'm not accustomed ___ driving in heavy traffic every day.
   A) on
   B) to
   C) at
   D) with
   E) for
TIP: be accustomed to + V-ing / noun.

6) The scientist is best known ___ her work on renewable energy.
   A) with
   B) about
   C) to
   D) at
   E) for
TIP: be known/famous for + noun/V-ing.

7) They blamed the accident ___ human error rather than mechanical failure.
   A) with
   B) for
   C) at
   D) to
   E) on
TIP: blame X on Y (suçu Y'ye atmak).

8) He was charged ___ fraud and faced a lengthy trial.
   A) about
   B) to
   C) for
   D) of
   E) with
TIP: En doğal kalıp/bağlantıyı ara → doğru seçenek 'of'.

9) This textbook is intended ___ students preparing for academic exams.
   A) at
   B) for
   C) to
   D) with
   E) about
TIP: intended for + hedef kitle; intended to + V (amaç).

10) She apologized ___ not informing us earlier.
   A) with
   B) for
   C) at
   D) to
   E) about
TIP: apologize for + V-ing/noun; apologize to + kişi.

11) The city is famous ___ its historic architecture.
   A) with
   B) of
   C) for
   D) to
   E) at
TIP: En doğal kalıp/bağlantıyı ara → doğru seçenek 'for'.

12) Please refrain ___ using your phone during the briefing.
   A) with
   B) of
   C) from
   D) at
   E) to
TIP: refrain from + V-ing.

13) He is capable ___ solving complex problems under pressure.
   A) for
   B) with
   C) at
   D) of
   E) to
TIP: capable of + V-ing/noun.

14) The company specializes ___ medical devices.
   A) in
   B) on
   C) for
   D) to
   E) at
TIP: specialize in + alan.

15) We strongly object ___ being treated unfairly.
   A) at
   B) for
   C) to
   D) with
   E) about
TIP: object to + V-ing/noun.

16) This medication may result ___ severe drowsiness.
   A) with
   B) in
   C) for
   D) at
   E) to
TIP: result in + sonuç; result from + sebep.

17) Her comments were not relevant ___ the topic under discussion.
   A) on
   B) with
   C) to
   D) for
   E) in
TIP: En doğal kalıp/bağlantıyı ara → doğru seçenek 'to'.

18) The project consists ___ three phases, each with its own deadline.
   A) of
   B) from
   C) to
   D) in
   E) for
TIP: consist of + parçalar.

19) He took pride ___ completing the task ahead of schedule.
   A) in
   B) on
   C) with
   D) for
   E) at
TIP: En doğal kalıp/bağlantıyı ara → doğru seçenek 'in'.

20) The manager is responsible ___ ensuring workplace safety.
   A) on
   B) to
   C) with
   D) for
   E) in
TIP: responsible for + iş/sonuç; responsible to + kişi.

21) They succeeded ___ reducing costs without lowering quality.
   A) on
   B) in
   C) at
   D) for
   E) to
TIP: succeed in + V-ing.

22) I'm looking forward ___ hearing from you soon.
   A) at
   B) in
   C) for
   D) to
   E) on
TIP: En doğal kalıp/bağlantıyı ara → doğru seçenek 'to'.

23) She is interested ___ pursuing a career in translation.
   A) at
   B) on
   C) to
   D) for
   E) in
TIP: be interested in + V-ing/noun.

24) He was relieved ___ learn that nobody had been injured.
   A) for
   B) with
   C) at
   D) to
   E) about
TIP: be relieved to + V.

25) We should take advantage ___ this opportunity while it lasts.
   A) on
   B) of
   C) for
   D) to
   E) with
TIP: take advantage of + fırsat.

26) The lecture focused ___ the social effects of urbanization.
   A) in
   B) on
   C) for
   D) to
   E) with
TIP: focus on + konu.

27) He is married ___ a lawyer who works abroad.
   A) for
   B) with
   C) in
   D) at
   E) to
TIP: be married to + kişi.

28) The doctor warned him ___ the risks of smoking.
   A) for
   B) about
   C) with
   D) at
   E) to
TIP: warn someone about + risk/problem.

29) Their decision was influenced ___ public opinion.
   A) with
   B) from
   C) by
   D) to
   E) at
TIP: Passive agent → influenced by + etken.

30) The department is short ___ staff this month.
   A) of
   B) on
   C) in
   D) for
   E) at
TIP: be short of + şey (time, money, staff).

31) She was absorbed ___ the novel and didn't hear the doorbell.
   A) at
   B) in
   C) for
   D) to
   E) on
TIP: be absorbed in + aktivite/iş.

32) The school provided students ___ free online resources.
   A) for
   B) at
   C) with
   D) about
   E) to
TIP: provide someone with + şey.

33) He congratulated her ___ winning the scholarship.
   A) for
   B) at
   C) to
   D) on
   E) with
TIP: congratulate someone on + başarı.

34) The police searched ___ the missing document for hours.
   A) to
   B) at
   C) for
   D) about
   E) with
TIP: search for + aranan şey.

35) I disagree ___ you on this issue.
   A) to
   B) with
   C) at
   D) for
   E) about
TIP: disagree with someone; disagree on/about (konu).

36) The child was punished ___ lying to his parents.
   A) for
   B) at
   C) with
   D) to
   E) about
TIP: punish someone for + V-ing/noun.

37) The museum is within walking distance ___ the hotel.
   A) to
   B) at
   C) of
   D) from
   E) on
TIP: within walking distance of + yer.

38) He has a strong influence ___ young readers.
   A) at
   B) for
   C) in
   D) to
   E) on
TIP: En doğal kalıp/bağlantıyı ara → doğru seçenek 'on'.

39) We have to comply ___ the regulations to avoid penalties.
   A) about
   B) for
   C) with
   D) to
   E) at
TIP: comply with + kural/regulation.

40) This device is prone ___ overheating if left in the sun.
   A) for
   B) to
   C) with
   D) on
   E) at
TIP: En doğal kalıp/bağlantıyı ara → doğru seçenek 'to'.

41) She prevented her friend ___ making a serious mistake.
   A) at
   B) to
   C) from
   D) with
   E) of
TIP: prevent someone from + V-ing.

42) The price increased ___ 10% in a single month.
   A) by
   B) with
   C) for
   D) at
   E) to
TIP: increase by + yüzde/ölçü; increase to + yeni seviye.

43) The price increased ___ $50 after the update.
   A) at
   B) with
   C) for
   D) to
   E) by
TIP: increase to + yeni rakam (son seviye).

44) He prefers tea ___ coffee in the morning.
   A) to
   B) over
   C) than
   D) with
   E) from
TIP: prefer A to B.

45) The conference was postponed ___ the strike.
   A) because of
   B) unless
   C) although
   D) so that
   E) whereas
TIP: because of + noun; because + clause.

46) She is aware ___ the fact that the deadline is tomorrow.
   A) at
   B) with
   C) of
   D) about
   E) to
TIP: be aware of + noun/clause.

47) The new evidence may lead ___ a different conclusion.
   A) to
   B) at
   C) with
   D) in
   E) for
TIP: lead to + sonuç.

48) The symptoms vary ___ one patient to another.
   A) to
   B) between
   C) from
   D) with
   E) among
TIP: vary from A to B.

49) He was accused ___ spreading false information.
   A) with
   B) for
   C) to
   D) of
   E) at
TIP: be accused of + V-ing/noun.

50) The solution is similar ___ the one we tried last year.
   A) with
   B) at
   C) for
   D) in
   E) to
TIP: similar to (not with).

51) I'm satisfied ___ the results so far.
   A) about
   B) with
   C) for
   D) to
   E) at
TIP: satisfied with + sonuç.

52) The town is famous not only ___ its beaches but also for its cuisine.
   A) about
   B) with
   C) at
   D) for
   E) to
TIP: En doğal kalıp/bağlantıyı ara → doğru seçenek 'for'.

53) We ran ___ sugar, so the cake wasn't ready.
   A) down
   B) into
   C) off
   D) out of
   E) over
TIP: run out of + isim (stok biter).

54) He apologized ___ me for the misunderstanding.
   A) at
   B) for
   C) about
   D) with
   E) to
TIP: apologize to + kişi; apologize for + sebep.

55) The professor is known ___ being strict but fair.
   A) at
   B) to
   C) about
   D) with
   E) for
TIP: be known/famous for + noun/V-ing.

56) They agreed ___ the plan after a long discussion.
   A) on
   B) for
   C) to
   D) at
   E) with
TIP: agree on + plan/karar; agree with + kişi.

57) She agreed ___ him that the method was risky.
   A) at
   B) with
   C) to
   D) for
   E) on
TIP: agree with + kişi; agree on + konu.

58) He insisted ___ a refund, even without a receipt.
   A) on
   B) to
   C) with
   D) at
   E) for
TIP: Kalıp → insist on + V-ing / noun.

59) The team is involved ___ several international projects.
   A) at
   B) on
   C) for
   D) to
   E) in
TIP: be involved in + faaliyet/proje.

60) This program is designed ___ help students build vocabulary.
   A) at
   B) about
   C) with
   D) to
   E) for
TIP: designed to + V (amaç).

61) The film is based ___ a true story.
   A) for
   B) in
   C) to
   D) at
   E) on
TIP: be based on + kaynak/temel.

62) He is dependent ___ his parents for financial support.
   A) at
   B) for
   C) with
   D) to
   E) on
TIP: be dependent on + kişi/şey.

63) We were shocked ___ the news.
   A) by
   B) to
   C) with
   D) at
   E) for
TIP: be shocked by + haber/olay.

64) She is devoted ___ her work and rarely takes a day off.
   A) with
   B) for
   C) on
   D) to
   E) at
TIP: devoted to + V-ing/noun.

65) The speaker referred ___ a recent study to support his claim.
   A) for
   B) on
   C) to
   D) at
   E) with
TIP: refer to + konu/şey.

66) ___ he had prepared carefully, he still felt nervous during the interview.
   A) Whereas
   B) So
   C) Although
   D) Unless
   E) Because
TIP: although/even though + clause → zıtlık (ama).

67) I'll call you ___ I get home.
   A) unless
   B) even though
   C) as soon as
   D) whereas
   E) despite
TIP: as soon as = ... olur olmaz.

68) We couldn't enter the building ___ we didn't have permission.
   A) whereas
   B) because
   C) despite
   D) unless
   E) in case
TIP: because + clause; because of + noun.

69) He worked overtime, ___ he was exhausted by the end of the week.
   A) whereas
   B) unless
   C) so
   D) since
   E) despite
TIP: so = sonuç; so that = amaç.

70) Take a jacket ___ it gets colder later.
   A) in case
   B) despite
   C) unless
   D) whereas
   E) so that
TIP: in case = olur da ... diye (ihtimale karşı).

Section: Conjunctions & Linkers (71—130)
71) She spoke quietly ___ nobody would overhear the conversation.
   A) because
   B) unless
   C) despite
   D) whereas
   E) so that
TIP: so that + clause → amaç (… diye).

72) I won't sign the contract ___ the terms are clarified.
   A) unless
   B) since
   C) until
   D) despite
   E) whereas
TIP: until + zaman → ... olana kadar.

73) He is sociable, ___ his brother prefers to stay alone.
   A) whereas
   B) since
   C) so that
   D) unless
   E) because
TIP: whereas = karşılaştırmalı zıtlık.

74) ___ the heavy traffic, we arrived on time.
   A) Whereas
   B) Despite
   C) Since
   D) Unless
   E) Because
TIP: despite/in spite of + noun/V-ing (not + clause).

75) He left early ___ avoid missing the last bus.
   A) to
   B) because
   C) unless
   D) whereas
   E) despite
TIP: Amaç: to + V.

76) Not only did she apologize, ___ she also offered a refund.
   A) so
   B) because
   C) whereas
   D) but
   E) unless
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'but'.

77) ___ you study regularly, you're unlikely to improve.
   A) So that
   B) Whereas
   C) Although
   D) Because
   E) Unless
TIP: unless = if not.

78) I'll lend you the book ___ you promise to return it tomorrow.
   A) unless
   B) provided that
   C) because
   D) despite
   E) whereas
TIP: provided that = şartıyla.

79) The more you practice, ___ you become.
   A) the more
   B) the best
   C) better
   D) the better
   E) best
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'the better'.

80) He didn't call; ___, I decided to check on him.
   A) unless
   B) because
   C) nevertheless
   D) since
   E) whereas
TIP: nevertheless = yine de.

81) ___ I respect her experience, I disagree with her conclusion.
   A) So
   B) While
   C) Because
   D) Since
   E) Unless
TIP: while = -iken / buna karşın (bağlama göre).

82) We stayed inside ___ it was raining heavily.
   A) because
   B) despite
   C) unless
   D) in case
   E) whereas
TIP: because + clause; because of + noun.

83) He promised to help; ___, he never showed up.
   A) since
   B) whereas
   C) however
   D) because
   E) unless
TIP: however = ancak/ama.

84) She saved money ___ she could travel abroad.
   A) unless
   B) so that
   C) whereas
   D) despite
   E) because
TIP: so that + clause → amaç (… diye).

85) ___ you hurry, you'll miss the beginning of the film.
   A) Unless
   B) Whereas
   C) Although
   D) Since
   E) Because
TIP: unless = if not.

86) He spoke slowly ___ everyone could follow his explanation.
   A) so that
   B) despite
   C) because
   D) unless
   E) whereas
TIP: so that + clause → amaç (… diye).

87) I'll wait here ___ you finish your call.
   A) until
   B) despite
   C) because
   D) whereas
   E) unless
TIP: until + zaman → ... olana kadar.

88) ___ being inexperienced, she performed extremely well.
   A) Since
   B) Whereas
   C) Despite
   D) Unless
   E) Because
TIP: despite/in spite of + noun/V-ing (not + clause).

89) He acted ___ he had never met us before.
   A) whereas
   B) because
   C) as if
   D) so that
   E) unless
TIP: as if = sanki (genelde past form).

90) The experiment failed, ___ careful planning.
   A) despite
   B) so that
   C) unless
   D) because
   E) since
TIP: despite/in spite of + noun/V-ing (not + clause).

91) I'll take notes ___ I forget the details.
   A) whereas
   B) because
   C) despite
   D) unless
   E) in case
TIP: in case = olur da ... diye (ihtimale karşı).

92) He didn't just complain; ___, he demanded compensation.
   A) in fact
   B) since
   C) unless
   D) because
   E) whereas
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'in fact'.

93) ___ the weather improves, the match will be cancelled.
   A) Although
   B) Whereas
   C) Because
   D) Unless
   E) Since
TIP: unless = if not.

94) She didn't go out, ___ she was feeling unwell.
   A) whereas
   B) despite
   C) even though
   D) unless
   E) since
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'since'.

95) You can borrow my laptop ___ you handle it carefully.
   A) unless
   B) despite
   C) because
   D) as long as
   E) whereas
TIP: as long as = ... olduğu sürece.

96) ___ he is busy, he always finds time to read.
   A) Even though
   B) So that
   C) Whereas
   D) Unless
   E) Because
TIP: although/even though + clause → zıtlık (ama).

97) He missed the train; ___, he arrived late.
   A) therefore
   B) whereas
   C) unless
   D) in case
   E) despite
TIP: therefore = bu yüzden (resmi).

98) We went for a walk ___ the cold wind.
   A) in spite of
   B) unless
   C) since
   D) because
   E) whereas
TIP: despite/in spite of + noun/V-ing (not + clause).

99) He must be at work, ___ I saw his car outside.
   A) despite
   B) so that
   C) whereas
   D) unless
   E) because
TIP: because + clause; because of + noun.

100) You should back up your files ___ you lose them.
   A) because
   B) otherwise
   C) unless
   D) despite
   E) whereas
TIP: otherwise = yoksa/aksi halde.

101) She finished the task on time, ___ the tight schedule.
   A) since
   B) despite
   C) because
   D) whereas
   E) unless
TIP: despite/in spite of + noun/V-ing (not + clause).

102) ___ it may seem simple, the method requires practice.
   A) So
   B) Although
   C) Whereas
   D) Unless
   E) Because
TIP: although/even though + clause → zıtlık (ama).

103) Hardly had I sat down ___ the phone rang.
   A) while
   B) because
   C) unless
   D) when
   E) than
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'when'.

104) No sooner had he arrived ___ the meeting started.
   A) unless
   B) while
   C) than
   D) because
   E) when
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'than'.

105) He was tired; ___, he kept working.
   A) because
   B) whereas
   C) since
   D) nevertheless
   E) unless
TIP: nevertheless = yine de.

106) ___ you have any questions, feel free to ask.
   A) If
   B) Despite
   C) Although
   D) Unless
   E) Whereas
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'If'.

107) He didn't answer the email, ___ he had read it.
   A) unless
   B) so that
   C) because
   D) whereas
   E) even though
TIP: although/even though + clause → zıtlık (ama).

108) We can't start the presentation ___ everyone is seated.
   A) unless
   B) because
   C) whereas
   D) despite
   E) until
TIP: until + zaman → ... olana kadar.

109) She studies English every day; ___, her grammar is improving fast.
   A) unless
   B) as a result
   C) despite
   D) because
   E) whereas
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'as a result'.

110) ___ you take regular breaks, you may lose concentration.
   A) Although
   B) Because
   C) Unless
   D) Since
   E) Whereas
TIP: unless = if not.

111) He didn't mention the problem, ___ he expected us to notice it.
   A) since
   B) unless
   C) yet
   D) because
   E) whereas
TIP: yet = ama yine de.

112) You may leave early ___ you finish your work first.
   A) because
   B) whereas
   C) unless
   D) despite
   E) provided that
TIP: provided that = şartıyla.

113) She kept training, ___ she was injured.
   A) whereas
   B) unless
   C) even though
   D) because
   E) since
TIP: although/even though + clause → zıtlık (ama).

114) He spoke in a low voice ___ wake the baby.
   A) whereas
   B) because
   C) unless
   D) despite
   E) so as not to
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'so as not to'.

115) ___ the price is high, demand remains strong.
   A) Since
   B) Because
   C) Although
   D) Whereas
   E) Unless
TIP: although/even though + clause → zıtlık (ama).

116) He looked exhausted, ___ he refused to rest.
   A) unless
   B) since
   C) but
   D) whereas
   E) because
TIP: Bağlaç sorusu → ilişkiyi bul. Doğru: 'but'.

117) You should read the instructions, ___ you might make mistakes.
   A) despite
   B) because
   C) whereas
   D) otherwise
   E) unless
TIP: otherwise = yoksa/aksi halde.

118) She smiled, ___ she was actually disappointed.
   A) although
   B) whereas
   C) because
   D) unless
   E) since
TIP: although/even though + clause → zıtlık (ama).

119) ___ I was walking home, I ran into an old friend.
   A) Unless
   B) While
   C) Whereas
   D) Because
   E) Despite
TIP: while = -iken / buna karşın (bağlama göre).

120) He prefers to work alone ___ his colleagues like teamwork.
   A) despite
   B) unless
   C) because
   D) whereas
   E) since
TIP: whereas = karşılaştırmalı zıtlık.

121) I'll email you the file ___ I have finished editing it.
   A) despite
   B) once
   C) because
   D) whereas
   E) unless
TIP: once = ... olunca/olduktan sonra.

122) ___ the shortage, the factory continued production.
   A) Since
   B) Whereas
   C) Unless
   D) Despite
   E) Because
TIP: despite/in spite of + noun/V-ing (not + clause).

123) He didn't attend the meeting, ___ did he send an apology.
   A) so
   B) because
   C) but
   D) yet
   E) nor
TIP: nor → inversion: nor did he...

124) She can either call us now ___ send an email later.
   A) nor
   B) or
   C) and
   D) so
   E) but
TIP: either ... or ...

125) The man ___ wallet was stolen reported it to the police.
   A) whose
   B) whom
   C) where
   D) which
   E) who
TIP: whose = sahiplik (…'ın).

126) This is the book ___ I was telling you about.
   A) what
   B) that
   C) whose
   D) where
   E) whom
TIP: that = defining; only/first/superlative ile sık.

127) The town ___ we spent our holidays is on the coast.
   A) whom
   B) what
   C) which
   D) whose
   E) where
TIP: where = yer.

128) The reason ___ he resigned is still unclear.
   A) what
   B) which
   C) whose
   D) where
   E) why
TIP: reason why.

129) The scientist, ___ won the award, thanked her team.
   A) which
   B) where
   C) what
   D) whose
   E) who
TIP: who = kişi (özne).

130) I've found the file ___ you asked for.
   A) whom
   B) who
   C) that
   D) where
   E) whose
TIP: that = defining; only/first/superlative ile sık.

Section: Relative Clauses & Reduced Structures (131—190)
131) The institute launched a new data portal for researchers. The portal ___ most datasets are accessed was down for hours.
   A) through which
   B) where
   C) on which
   D) in which
   E) that
132) The board rejected the proposal without further discussion. This is the main reason ___ it was turned down.
   A) to which
   B) for which
   C) why
   D) on which
   E) that
133) A journalist asked unusually direct questions during the interview. The reporter ___ questions unsettled the minister later apologized.
   A) of which
   B) to whom
   C) for which
   D) that
   E) whose
134) The team signed a protocol before starting the trial. This was the protocol ___ all staff had to adhere.
   A) to which
   B) which
   C) on which
   D) that
   E) in which
135) An engineer led the investigation into the incident. The engineer ___ led the investigation resigned last week.
   A) to whom
   B) who
   C) by which
   D) with whom
   E) for whom
136) The reforms were introduced quietly last year. The framework ___ the reforms were embedded was approved unanimously.
   A) on which
   B) in which
   C) under which
   D) that
   E) which
137) The treaty was signed decades ago but still affects relations today. The year ___ it was signed is often cited.
   A) to which
   B) for which
   C) by which
   D) where
   E) when
138) The official refused to comment on the complaint. The person ___ the complaint was addressed remained anonymous.
   A) who
   B) with whom
   C) whose
   D) for whom
   E) to whom
139) A senior researcher joined the panel this morning. The scientist ___ earlier work shaped the project became our advisor.
   A) to which
   B) on which
   C) whose
   D) who
   E) for which
140) The report focuses on an issue most companies ignore. The topic ___ the report focuses has been widely debated.
   A) which
   B) on which
   C) to which
   D) that
   E) for which
141) The source of the statistics was questioned immediately. The archive ___ these figures were derived is unknown.
   A) from which
   B) which
   C) by which
   D) that
   E) on which
142) The committee described a verification process in detail. The mechanism ___ the data are validated remains controversial.
   A) through which
   B) with which
   C) that
   D) by which
   E) where
143) A ceremony will be held in a small village this weekend. The place ___ the ceremony will take place is remote.
   A) on which
   B) that
   C) where
   D) to which
   E) for which
144) The lab imported a new device for the experiment. The instrument ___ the samples were examined required calibration.
   A) by which
   B) in which
   C) which
   D) with which
   E) that
145) The company hired a consultant for the audit. The analyst ___ prepared the final report resigned unexpectedly.
   A) to whom
   B) with whom
   C) who
   D) which
   E) for whom
146) The contract states strict rules about refunds. The terms ___ the refund is issued are clearly stated.
   A) that
   B) on which
   C) which
   D) in which
   E) under which
147) A senator delivered a speech that shocked the audience. The politician ___ speech sparked controversy issued an apology.
   A) whose
   B) who
   C) to whom
   D) of whom
   E) for whom
148) The countries reached a formal agreement yesterday. The treaty ___ all parties had to adhere was signed at noon.
   A) that
   B) to which
   C) on which
   D) which
   E) in which
149) The company released a statement last night. The statement, ___ was later withdrawn, caused confusion.
   A) in which
   B) by which
   C) that
   D) to which
   E) which
150) The expedition lasted two weeks in harsh conditions. The period ___ researchers collected samples was exhausting.
   A) during which
   B) in which
   C) where
   D) at which
   E) who
151) The team discovered a hidden laboratory in the mountains. The facility ___ the vaccine was first tested is still guarded.
   A) on which
   B) that
   C) where
   D) to which
   E) for which
152) The board set a clear criterion for selection. The standard ___ candidates are evaluated is consistency.
   A) by which
   B) which
   C) on which
   D) that
   E) under which
153) Everyone questioned the sudden resignation. No one knows the reason ___ he left so abruptly.
   A) on which
   B) to which
   C) which
   D) with which
   E) why
154) The hospital upgraded its monitoring system. The device ___ the data were recorded was outdated.
   A) by which
   B) with which
   C) that
   D) in which
   E) which
155) The company introduced a strict access policy. A boundary ___ no further entry is permitted was installed.
   A) under which
   B) that
   C) at which
   D) beyond which
   E) who
156) A consultant visited the site during the investigation. The expert ___ inspected the premises wrote a detailed report.
   A) to whom
   B) with whom
   C) who
   D) which
   E) for whom
157) She received an international award last year. The achievement ___ she was honored was groundbreaking.
   A) for which
   B) that
   C) to which
   D) which
   E) with which
158) The team proposed a solution in the meeting. The approach ___ reduced costs immediately was adopted.
   A) in which
   B) to which
   C) who
   D) that
   E) by which
159) The article defines several technical terms precisely. The context ___ these terms are interpreted is highly specialized.
   A) through which
   B) that
   C) in which
   D) under which
   E) who
160) The platform was rebuilt after repeated failures. The system ___ the entire service depends is heavily encrypted.
   A) which
   B) to which
   C) that
   D) in which
   E) on which
161) A famous scientist received an honorary degree. The researcher ___ theory changed the field spoke briefly.
   A) to whom
   B) whose
   C) who
   D) of which
   E) which
162) The university renovated an old lab this summer. The lab ___ the tests were conducted has reopened.
   A) on which
   B) when
   C) where
   D) to which
   E) that
163) The ministry ignored the complaint for weeks. The official ___ the letter was addressed did not respond.
   A) who
   B) that
   C) with whom
   D) to whom
   E) which
164) The alarm rang unexpectedly during the exam. The moment ___ it rang, everyone froze.
   A) where
   B) to which
   C) when
   D) which
   E) for which
165) The argument relies on a single assumption. The principle ___ the entire argument rests is questionable.
   A) which
   B) where
   C) in which
   D) that
   E) on which
166) A novelist moved abroad after winning a prize. The author ___ latest book topped the charts lives in Berlin.
   A) of which
   B) whose
   C) who
   D) to whom
   E) which
167) Investors reacted sharply to the announcement. The policy was changed overnight, ___ surprised everyone.
   A) that
   B) in which
   C) which
   D) who
   E) for which
168) The contract lists strict rules for operation. The legal framework ___ the company operates is complex.
   A) that
   B) who
   C) on which
   D) under which
   E) which
169) The analyst worked overnight on the report. The expert ___ prepared the final version resigned.
   A) which
   B) to whom
   C) who
   D) with which
   E) when
170) The report mentioned a controversial claim. The proposal ___ the minister referred was not finalized.
   A) which
   B) where
   C) on which
   D) that
   E) to which
171) A technician discovered the error in minutes. The engineer ___ discovered it wrote an urgent memo.
   A) which
   B) who
   C) to whom
   D) whose
   E) with whom
172) The committee described a complaint procedure. The method ___ complaints are handled was published online.
   A) that
   B) under which
   C) when
   D) by which
   E) who
173) The journalist asked the panel uncomfortable questions. The reporter ___ questions upset the panel was removed.
   A) to whom
   B) which
   C) with which
   D) who
   E) whose
174) She received a grant for her latest study. The achievement ___ she was selected impressed the board.
   A) for which
   B) which
   C) that
   D) to which
   E) whose
175) The workshop took place in a newly built center. The hall ___ the event was held has better acoustics.
   A) on which
   B) when
   C) where
   D) to which
   E) that
176) The company hired a new director last month. The manager ___ decision changed everything resigned later.
   A) who
   B) to whom
   C) which
   D) whose
   E) with whom
177) The results shocked the entire research team. The experiment failed, ___ was completely unexpected.
   A) which
   B) that
   C) in which
   D) who
   E) for which
178) The term is used differently across disciplines. The context ___ it is used is highly technical.
   A) that
   B) to which
   C) in which
   D) which
   E) when
179) A student filed a complaint this morning. The child ___ backpack was stolen asked for help.
   A) of whom
   B) who
   C) to whom
   D) which
   E) whose
180) The service depends on a secure portal. The platform ___ the service depends is frequently updated.
   A) that
   B) which
   C) to which
   D) on which
   E) where
181) A researcher led the clinical trial for two years. The scientist ___ led it published the findings.
   A) who
   B) which
   C) with whom
   D) whose
   E) to whom
182) The document explains a detection technique. The method ___ errors are identified is not straightforward.
   A) that
   B) which
   C) through which
   D) when
   E) by which
183) The system failed without warning last night. Nobody could explain the reason ___ it crashed.
   A) why
   B) to which
   C) when
   D) on which
   E) which
184) The nations reached an agreement at noon. The treaty ___ all parties must adhere was signed immediately.
   A) that
   B) to which
   C) which
   D) on which
   E) when
185) The verdict was announced in the evening. The day ___ it was announced is still remembered.
   A) to which
   B) when
   C) where
   D) for which
   E) which
186) A student’s phone was stolen on campus. The student ___ phone was stolen reported it.
   A) to whom
   B) whose
   C) who
   D) of which
   E) which
187) The university created a secure reporting mechanism. The mechanism ___ students can report issues is encrypted.
   A) that
   B) when
   C) under which
   D) through which
   E) who
188) The exam will be held in a different hall this year. The room ___ the exam will take place is on the second floor.
   A) where
   B) to which
   C) which
   D) on which
   E) when
189) A technician fixed the server in ten minutes. The worker ___ fixed it left immediately.
   A) who
   B) which
   C) to whom
   D) whose
   E) with which
190) She won an award for her discovery. The discovery ___ she was recognized changed the field.
   A) that
   B) which
   C) to which
   D) for which
   E) when

Section: Tense, Passive, Modals, Conditionals (191—250)
191) By the time we arrived, the meeting ___ already ___.
   A) has / started
   B) have / started
   C) is / starting
   D) had / started
   E) was / starting
TIP: 'By the time' + past → Past Perfect (had + V3).

192) I ___ in this city since 2018.
   A) have lived
   B) live
   C) am living
   D) lived
   E) had lived
TIP: since/for → Present Perfect (have/has + V3).

193) When I called, she ___ dinner, so she couldn't talk.
   A) cooked
   B) is cooking
   C) had cooked
   D) has cooked
   E) was cooking
TIP: Geçmişte devam eden eylem → was/were + V-ing.

194) He ___ his keys, so he couldn't open the door.
   A) has lost
   B) had lost
   C) lost
   D) was losing
   E) loses
TIP: Önce gerçekleşen geçmiş eylem → Past Perfect.

195) This bridge ___ in 2010 and ___ since then.
   A) is built / was repaired
   B) was built / has been repaired
   C) was building / repairs
   D) had been built / repaired
   E) built / repaired
TIP: Past passive + Present perfect passive.

196) The report ___ tomorrow, so we must finish today.
   A) will submit
   B) will be submitted
   C) submits
   D) is submitting
   E) has submitted
TIP: Gelecek pasif: will be + V3.

197) The tickets must ___ before Friday.
   A) be bought
   B) to buy
   C) buying
   D) bought
   E) buy
TIP: Modal + passive → must be + V3.

198) He can't ___ the truth; he looks too calm.
   A) have told
   B) told
   C) be telling
   D) tells
   E) tell
TIP: Şu an çıkarımı: can't + be + V-ing.

199) She ___ be at home; the lights are off and her car is gone.
   A) may
   B) should
   C) must
   D) would
   E) can't
TIP: Güçlü olumsuz çıkarım: can't be.

200) You ___ leave early; the meeting ends at five.
   A) don't have to
   B) shouldn't
   C) can't
   D) might
   E) mustn't
TIP: Zorunluluk yok: don't have to.

201) If you heat ice, it ___.
   A) will melt
   B) would melt
   C) melted
   D) has melted
   E) melts
TIP: Zero conditional: If + Present, Present.

202) If I ___ enough money, I would buy a new laptop.
   A) had
   B) am having
   C) would have
   D) will have
   E) have
TIP: 2nd conditional: If + Past, would + V1.

203) If she ___ earlier, she wouldn't have missed the bus.
   A) has left
   B) leaves
   C) left
   D) would leave
   E) had left
TIP: 3rd conditional: If + had V3, would have V3.

204) I wish I ___ more patient in stressful situations.
   A) have been
   B) will be
   C) am
   D) were
   E) had been
TIP: wish (şimdi) → past form; be → were.

205) It's essential that he ___ on time.
   A) will be
   B) be
   C) has been
   D) was
   E) is
TIP: Subjunctive: essential that + base verb.

206) Not until he apologized ___ to speak to him again.
   A) agreed I
   B) I agreed
   C) did I agree
   D) I agree
   E) I had agreed
TIP: Negative inversion: Not until ... did + S + V1.

207) The new law ___ next month.
   A) introduced
   B) introduces
   C) will introduce
   D) will be introduced
   E) has introduced
TIP: Future passive.

208) She suggested ___ earlier to avoid traffic.
   A) left
   B) having left
   C) to leave
   D) leaving
   E) leave
TIP: suggest + V-ing.

209) He denied ___ the document.
   A) sign
   B) having sign
   C) signing
   D) signed
   E) to sign
TIP: deny + V-ing.

210) I'm used to ___ up early on weekdays.
   A) getting
   B) got
   C) have got
   D) to get
   E) get
TIP: be used to + V-ing/noun.

211) The car needs ___ immediately.
   A) repair
   B) repaired
   C) repairing
   D) to repair
   E) repairs
TIP: need + V-ing (= to be V3).

212) Had I known about the delay, I ___ earlier.
   A) had left
   B) leave
   C) would have left
   D) left
   E) would leave
TIP: Inversion: Had I known = If I had known.

213) It was the first time he ___ such a mistake.
   A) was making
   B) made
   C) makes
   D) has made
   E) had made
TIP: It was the first time + past → Past Perfect.

214) She acts as if she ___ everything.
   A) knows
   B) will know
   C) had known
   D) has known
   E) knew
TIP: as if + past form (gerçek dışı/mesafe).

215) He ___ for two hours when the phone finally rang.
   A) was waited
   B) waited
   C) had been waiting
   D) has waited
   E) had waited
TIP: Süre + geçmiş ana kadar → Past Perfect Continuous.

216) This room ___ cleaned every day.
   A) has
   B) has been
   C) is being
   D) is
   E) was
TIP: Routine passive: is/are + V3.

217) The emails ___ right now; please try again later.
   A) have sent
   B) were sent
   C) send
   D) are sent
   E) are being sent
TIP: Şu an pasif: am/is/are being + V3.

218) You ___ have told me; I already knew.
   A) could
   B) might
   C) needn't
   D) should
   E) must
TIP: needn't have V3 = gereksiz yaptın.

219) He ___ have missed the train; he arrived far too early.
   A) can't
   B) should
   C) might
   D) would
   E) must
TIP: can't have V3 = imkânsız.

220) She ___ be working; her computer is on.
   A) shouldn't
   B) can't
   C) would
   D) must
   E) need
TIP: must be + V-ing = güçlü çıkarım.

221) Unless you ___ now, you will miss the bus.
   A) leaving
   B) had left
   C) left
   D) to leave
   E) leave
TIP: 1st conditional: if/unless + Present.

222) I'd rather you ___ so much noise at night.
   A) hadn't made
   B) don't make
   C) didn't make
   D) haven't made
   E) won't make
TIP: would rather + past (başkası için).

223) He made me ___ the report again.
   A) to rewrite
   B) rewritten
   C) rewrote
   D) rewriting
   E) rewrite
TIP: make/let + object + bare infinitive.

224) She was made ___ the contract without reading it.
   A) to signing
   B) signing
   C) sign
   D) to sign
   E) signed
TIP: Passive: be made to + V.

225) By next year, they ___ the project.
   A) have finished
   B) finish
   C) finished
   D) will have finished
   E) will finish
TIP: By + future time → Future Perfect.

226) The letter ___ yesterday, but it still hasn't arrived.
   A) was sent
   B) had been sent
   C) is sent
   D) sent
   E) has been sent
TIP: yesterday → simple past passive.

227) He said he ___ the document the next day.
   A) has sent
   B) would send
   C) will send
   D) had sent
   E) sends
TIP: Reported speech: will → would.

228) If it ___ tomorrow, we'll cancel the picnic.
   A) has rained
   B) rained
   C) will rain
   D) would rain
   E) rains
TIP: 1st conditional: If + Present, will + V1.

229) If I were you, I ___ that offer.
   A) accepted
   B) had accepted
   C) will accept
   D) would accept
   E) accept
TIP: If I were you → would + V1.

230) You ___ wear a seatbelt; it's the law.
   A) might
   B) must
   C) would
   D) can
   E) needn't
TIP: Kural/zorunluluk: must.

231) Students ___ submit the assignment after the deadline.
   A) should
   B) mustn't
   C) may
   D) might
   E) don't have to
TIP: Yasak: mustn't.

232) He ___ speak English fluently when he was ten.
   A) could
   B) may
   C) would
   D) can
   E) must
TIP: Geçmiş yetenek: could.

233) The issue ___ resolved if both sides cooperate.
   A) had
   B) has
   C) will
   D) will be
   E) is
TIP: will be + V3 (pasif).

234) She ___ have called you, but her phone battery died.
   A) should
   B) needn't
   C) could
   D) must
   E) can't
TIP: could have V3 = yapabilirdi ama olmadı.

235) He said he ___ never seen such a place before.
   A) would have
   B) had
   C) will have
   D) is
   E) has
TIP: Reported speech + before → had + V3.

236) No sooner ___ the class started than the power went out.
   A) was
   B) had
   C) have
   D) has
   E) did
TIP: No sooner had + S + V3 than ...

237) It's time we ___ home.
   A) go
   B) went
   C) had gone
   D) will go
   E) have gone
TIP: It's time + past (gecikmişlik).

238) She would rather ___ at home than go out.
   A) stays
   B) stay
   C) staying
   D) stayed
   E) to stay
TIP: would rather + V1 (özne aynı).

239) The work ___ by Friday, otherwise we'll lose the client.
   A) must to finish
   B) must be finished
   C) must finishing
   D) must finished
   E) must finish
TIP: Modal + passive: must be + V3.

240) If he ___ harder, he would have passed.
   A) has studied
   B) studies
   C) was studying
   D) studied
   E) had studied
TIP: 3rd conditional if-clause: had + V3.

241) I wish I ___ him yesterday.
   A) saw
   B) see
   C) have seen
   D) will see
   E) had seen
TIP: wish (geçmiş pişmanlık) → had + V3.

242) They ___ the decision yet, so we should wait.
   A) haven't made
   B) didn't make
   C) don't make
   D) won't make
   E) hadn't made
TIP: yet + Present Perfect.

243) This is the first time I ___ such a challenging exam.
   A) took
   B) take
   C) have taken
   D) am taking
   E) had taken
TIP: This is the first time → Present Perfect.

244) The accident ___ by careless driving, according to witnesses.
   A) has caused
   B) had caused
   C) was caused
   D) is causing
   E) caused
TIP: Passive: was caused (agent implied).

245) When the boss entered, everyone ___ silent.
   A) became
   B) had become
   C) becomes
   D) has become
   E) was becoming
TIP: Tek olay dizisi → simple past.

246) If you ___ your password, click 'Forgot password'.
   A) forgot
   B) will forget
   C) forget
   D) have forgotten
   E) had forgotten
TIP: Talimat/genel durum: present tense.

247) I ___ to the gym lately because of my exams.
   A) wasn't going
   B) didn't go
   C) haven't been going
   D) don't go
   E) hadn't gone
TIP: lately + süre → Present Perfect Continuous.

248) It is believed that the painting ___ stolen years ago.
   A) was
   B) will be
   C) had been
   D) is
   E) has been
TIP: years ago → simple past passive.

249) The suspect ___ released if there isn't enough evidence.
   A) is
   B) will
   C) has been
   D) was
   E) will be
TIP: will be + V3 (released).

250) I ___ have helped you if you had asked me.
   A) would
   B) will
   C) can
   D) should
   E) must
TIP: Main clause: would have V3 (burada would).
`;

    const rawAnswersText = `
1:E  2:E  3:C  4:E  5:B  6:E  7:E  8:E  9:B  10:B
11:C  12:C  13:D  14:A  15:C  16:B  17:C  18:A  19:A  20:D
21:B  22:D  23:E  24:D  25:B  26:B  27:E  28:B  29:C  30:A
31:B  32:C  33:D  34:C  35:B  36:A  37:C  38:E  39:C  40:B
41:C  42:A  43:D  44:A  45:A  46:C  47:A  48:C  49:D  50:E
51:B  52:D  53:D  54:E  55:E  56:A  57:B  58:A  59:E  60:D
61:E  62:E  63:A  64:D  65:C  66:C  67:C  68:B  69:C  70:A
71:E  72:C  73:A  74:B  75:A  76:D  77:E  78:B  79:D  80:C
81:B  82:A  83:C  84:B  85:A  86:A  87:A  88:C  89:C  90:A
91:E  92:A  93:D  94:E  95:D  96:A  97:A  98:A  99:E  100:B
101:B  102:B  103:D  104:C  105:D  106:A  107:E  108:E  109:B  110:C
111:C  112:E  113:C  114:E  115:C  116:C  117:D  118:A  119:B  120:D
121:B  122:D  123:E  124:B  125:A  126:B  127:E  128:E  129:E  130:C
131:D  132:B  133:E  134:A  135:B  136:B  137:E  138:E  139:C  140:B
141:A  142:D  143:C  144:D  145:C  146:E  147:A  148:B  149:E  150:A
151:C  152:A  153:E  154:B  155:D  156:C  157:A  158:D  159:C  160:E
161:B  162:C  163:D  164:C  165:E  166:B  167:C  168:D  169:C  170:E
171:B  172:D  173:E  174:A  175:C  176:D  177:A  178:C  179:E  180:D
181:A  182:E  183:A  184:B  185:B  186:B  187:D  188:A  189:A  190:D
191:D  192:A  193:E  194:B  195:B  196:B  197:A  198:C  199:E  200:A
201:E  202:A  203:E  204:D  205:B  206:C  207:D  208:D  209:C  210:A
211:C  212:C  213:E  214:E  215:C  216:D  217:E  218:C  219:A  220:D
221:E  222:C  223:E  224:D  225:D  226:A  227:B  228:E  229:D  230:B
231:B  232:A  233:D  234:C  235:B  236:B  237:B  238:B  239:B  240:E
241:E  242:A  243:C  244:C  245:A  246:C  247:C  248:A  249:E  250:A
`;
    
// 1. PREPOSITIONS
    const rawExamPrepQ = `
    1. According to anthropologists, until about 100,000 years ago, humans were often hostile ---- strangers to avoid threats, but as they began to live more closely together, they welcomed strangers, which fostered cooperation ---- different communities. (2025 YDT)
    A) from / about
    B) upon / through
    C) at / over
    D) with / into
    E) towards / among
    2. It has only been in the last few years that scientists have been able to predict volcanic activity ---- high reliability and offer early warnings ---- those nearby. (2025 YDT)
    A) with / to
    B) on / for
    C) at / across
    D) from / about
    E) in / beyond
    3. Leonardo da Vinci was the impetus ---- the High Renaissance concern for the idealisation of nature, moving ---- a realistic portrayal of the human figure to an idealised form. (2025 TEMMUZ YDS)
    A) over / into
    B) behind / from
    C) through / between
    D) on / across
    E) with / about
    4. The form and scale of technology-mediated distance language teaching has expanded markedly over the past two decades ---- ongoing innovation providing access to increasingly rich language learning opportunities ---- dispersed populations of learners. (2025 TEMMUZ YDS)
    A) towards / between
    B) into / beyond
    C) with / for
    D) from / through
    E) across / by
    5. Currency convertibility is crucial for international trade because when a country imposes restrictions ---- the conversion of domestic currency for foreign exchange, it hinders transactions ---- domestic residents and foreign ones. (2025 TEMMUZ YÖKDİL SOSYAL)
    A) at / for
    B) against / about
    C) over / within
    D) on / between
    E) into / through
    6. The emphasis on understanding people in their socio-political contexts provides a framework ---- examining their cultural identity and many other variables that are fundamental ---- the psychological well-being of multicultural populations. (2025 TEMMUZ YÖKDİL SOSYAL)
    A) in / with
    B) for / to
    C) about / at
    D) on / beyond
    E) over / into
    7. Today, the Sun is ---- constant surveillance from space because the more we understand the Sun, the better we are able to predict when a potentially dangerous solar storm will be directed ---- the Earth. (2025 TEMMUZ YÖKDİL FEN)
    A) against / within
    B) at / around
    C) under / towards
    D) about / onto
    E) for / behind
    8. Therapeutic dyad is a medical term for the relationship ---- the therapist and the patient, and it is ---- the context of the therapeutic dyad that positive changes in the patient's outlook and behaviours can take place. (2025 TEMMUZ YÖKDİL SAĞLIK)
    A) in / for
    B) about / from
    C) between / within
    D) through / onto
    E) over / toward
    9. Recommended for patients for whom other weight loss options have failed, malabsorption refers to food passing directly ---- the digestive tract ---- the nutrients being absorbed by the body. (2025 TEMMUZ YÖKDİL SAĞLIK)
    A) over / from
    B) beyond / into
    C) through / without
    D) across / on
    E) at / for
    10. Ready meals labelled ---- phrases like 'finest' and 'best' are marketed as premium shortcuts ---- a balanced meal, but cooking equivalent dishes from scratch is still a nutritionally better option. (2025 MART YDS)
    A) about / over
    B) in / from
    C) for / on
    D) through / at
    E) with / to
    11. Primary goals of cultural conservation projects are to sustain cultural and ecological diversity ---- modernising communities and to mobilise government support ---- the preservation of regional heritage. (2025 MART YDS)
    A) across / at
    B) among / from
    C) on / about
    D) within / for
    E) towards / by
    12. Plants absorb carbon to create carbohydrate ---- photosynthesis, while other processes, such as the death of organisms, both ---- land and in the sea, return carbon to the ground. (2024 YDT)
    A) in / by
    B) with / from
    C) through / on
    D) by / to
    E) from / at
    13. In manynomadic societies, herd animals like cattle and sheep provide almost the entire basis ---- sustaining people; for instance, the animals are slaughtered for food, and clothing is woven ---- the fibres of their hair. (2024 YDT)
    A) with / over
    B) about / in
    C) at / through
    D) to / on
    E) for / from
    14. Behaviourist psychologists claim that language is learned ---- the mechanism of reinforcing the contingent association between stimulus and response — the same general-purpose mechanism invoked to explain other learning processes ---- humans. (2024 KASIM YDS)
    A) about / at
    B) with / on
    C) for / among
    D) through / in
    E) from / to
    15. Swiss physicist Jean-Daniel Colladon demonstrated that light could be trapped by total internal reflection inside a tube, allowing it to travel ---- a curved path, which is a core principle ---- modern-day optical fibres. (2024 KASIM YDS)
    A) across / through
    B) in / by
    C) along / behind
    D) from / towards
    E) over / with
    16. The anthropologist Bronislaw Malinowski forged a unique method ---- the discipline of anthropology ---- the definition of participant observation, which is widely used in other social sciences as well today. (2024 NİSAN YDS)
    A) for / with
    B) about / into
    C) at / towards
    D) along / over
    E) against / on
    17. Pidgin and creole languages are distributed mainly, though not exclusively, ---- the equatorial belt around the world, usually in places ---- direct or easy access to the oceans. (2024 NİSAN YDS)
    A) for / about
    B) in / with
    C) on / off
    D) across / over
    E) towards / from
    18. According to dietary data analysed by Public Health England, children in England consume an average of 11 grams of sugar at breakfast, largely ---- drinks, cereals, and spreads, which equates ---- eating three sugar cubes. (2023 YDT)
    A) about / in
    B) from / to
    C) along / for
    D) after / with
    E) at / around
    19. Lions kill fewer than 100 people each year and sharks kill only ten people per year, yet the World Health Organisation estimates that ---- 725,000 people are killed indirectly ---- mosquitoes and the diseases they transmit. (2023 YDT)
    A) upon / with
    B) around / by
    C) under / in
    D) from / at
    E) for / off
    20. Adolescents and adults ---- insecure patterns of attachment exhibit higher rates of affective disorders than securely attached peers, and this insecure attachment is also seen as a risk factor for poor relational quality ---- marriage. (2023 NİSAN YDS)
    A) for / at
    B) against / to
    C) under / on
    D) with / in
    E) about / through
    21. Foundations ---- linguistics in the ontological sense are established ---- identifying and describing the ultimate constituents or aspects of reality which linguistic theories seek to refer to and to characterise. (2023 NİSAN YDS)
    A) about / from
    B) for / through
    C) in / against
    D) at / by
    E) beyond / into
    22. ---- each scroll or connection ---- social media, users are reminded of the accomplishments of others which they themselves have not achieved, and this may lead to anxiety. (2023 EKİM YDS)
    A) Over / for
    B) Towards / about
    C) Onto / in
    D) With / through
    E) Off / at
    23. Aicardi syndrome, a rare genetic disorder that causes defects of the eyes and brain, is not associated with any particular sub-populations and appears ---- equal frequency in all races and ---- all geographies. (2023 EKİM YDS)
    A) by / along
    B) in / upon
    C) with / across
    D) from / towards
    E) about / to
    24. The Tokyo-Yokohama is the largest urban concentration area in the world, and 70 per cent of Japan's population live ---- the Pacific coast stretching ---- Tokyo and Kyushu. (2022 YDT)
    A) at / beyond
    B) under / through
    C) in / towards
    D) on / among
    E) along / between
    25. Organisms compete ---- existence and only survive to pass on their genes to the next generation if they are well-adapted ---- a particular environment. (2022 YDT)
    A) about / with
    B) for / in
    C) through / on
    D) of / to
    E) along / at
    26. The electricity produced by a generator travels ---- cables to a transformer, which changes electricity from low voltage to high voltage, and electricity can be transmitted ---- long distances using high voltage. (2022 NİSAN YDS)
    A) against / to
    B) along / over
    C) into / with
    D) for / at
    E) between / on
    27. Fashion dolls were miniature examples of the latest fashions and, ---- the late medieval period onwards, were a favourite way of disseminating the latest information ---- fabric, colour, cut, and decoration. (2022 NİSAN YDS)
    A) from / on
    B) with / in
    C) over / between
    D) about / to
    E) at / across
    28. Much research suggests that ---- its core, Alzheimer's disease may be a metabolic disorder, an irregularity in fuel use ---- the brain, a process that loses efficiency with age. (2021 YDT)
    A) in / from
    B) to / with
    C) on / for
    D) at / by
    E) under / against
    29. Food is portrayed in a judgemental way ---- the media, and some popular diets use expensive ingredients that are not kind ---- the environment. (2021 YDT)
    A) over / for
    B) as / across
    C) from / at
    D) on / to
    E) with / on
    30. Anorexia nervosa is a severe eating disorder, usually involving excessive weight loss ---- self-starvation, most often found ---- teenage girls. (2021 NİSAN YDS)
    A) at / with
    B) from / of
    C) for / between
    D) by / on
    E) through / among
    31. Recently, the genome of an archaic human female ---- a group called the Denisovans, who lived about 41,000 years ago, has been sequenced ---- a new method of DNA research. (2020 YDT)
    A) for / by
    B) from / with
    C) in / onto
    D) among / beyond
    E) towards / over
    32. Kefir is a fermented drink similar ---- yoghurt and is valued ---- its beneficial effects on microbes in our gut. (2020 YDT)
    A) in / as
    B) with / about
    C) around / of
    D) to / for
    E) from / by
    33. A compound called 'hyloins' that can be found in the frog's lymph and skin glands increases the frog's brightness ---- around 20 percent ---- a full moon. (2020 EYLÜL YDS)
    A) by / during
    B) in / under
    C) at / over
    D) to / along
    E) from / through
    34. The scientific study of the dynamic relationship ---- the celestial bodies of the solar system and the motion of human made objects ---- outer space, such as spacecraft and satellites, is called orbital mechanics. (2020 EYLÜL YDS)
    A) about / on
    B) between / at
    C) with / of
    D) among / in
    E) beyond / without
    35. ---- World War II, many of the factories that had been devoted to military production ---- the fighting were converted back to their original, civilian uses. (2019 YDT)
    A) At / with
    B) Following / during
    C) Along / over
    D) Through / within
    E) Across / for
    36. Any mental exercise helps cognition ---- building, lengthening, or strengthening the pathways that carry information ---- neurons. (2019 YDT)
    A) in / upon
    B) at / with
    C) off / from
    D) towards / beneath
    E) by / between
    37. The geographical spread of English is unique ---- the languages of the world, and it is an official language in about 50 countries, where it is used in addition to the indigenous first languages ---- a variety of public and personal functions. (2019 MART YDS)
    A) from / at
    B) to / on
    C) through / with
    D) among / for
    E) about / in
    38. Weather is defined as the state of the atmosphere ---- a given location and ---- a relatively short period of time. (2019 MART YDS)
    A) along / on
    B) towards / in
    C) at / over
    D) from / against
    E) for / about
    39. ---- the 17th century, committed Anglicans produced a steady flow of religious and devotional literature that aimed to inspire holiness ---- readers. (2019 EYLÜL YDS)
    A) By / about
    B) During / through
    C) Throughout / among
    D) From / against
    E) Across / over
    40. The word adolescence is Latin ---- origin, derived from the verb adolescere, which means 'to grow ---- adulthood'. (2019 EYLÜL YDS)
    A) through / on
    B) from / to
    C) at / beyond
    D) in / into
    E) with / over
    41. People in some countries are brainwashed ---- an early age to love junk food and fast food ---- advertising on television and many other mechanisms. (2019 ARALIK YDS)
    A) by / about
    B) from / through
    C) in / to
    D) on / for
    E) with / over
    42. The Common European Framework of Reference for Languages (CEFR) is intended to overcome the barriers to communication ---- professionals working in the field of modern languages arising ---- the different educational systems in Europe. (2019 ARALIK YDS)
    A) between / to
    B) through / into
    C) with / upon
    D) among / from
    E) about / against
    43. Research has shown that children ---- secure attachments to parents develop more positive relationships with teachers and friends ---- their family. (2018 YDT)
    A) with / beyond
    B) in / about
    C) of / towards
    D) under / over
    E) on / across
    44. Research involving animals is controversial, but when conducted ---- ethical guidelines, it yields significant benefits ---- humans. (2018 YDT)
    A) in / from
    B) over / to
    C) through / by
    D) within / for
    E) at / about
    45. Dramatists and scriptwriters could place their characters ---- the centre of a terrifying human conflict, and may allow us to watch these characters suffer the pains of avoiding a collision ---- the conflict. (2018 NİSAN YDS)
    A) on / for
    B) over / in
    C) at / with
    D) to / about
    E) by / from
    46. ---- the problems of obesity and disordered eating growing around the world, public health professionals have focused research efforts on identifying potential causes and treatments ---- these related problems. (2018 NİSAN YDS)
    A) About / in
    B) On / towards
    C) With / for
    D) Through / from
    E) Among / at
    47. Research ---- media has primarily examined the effects of media on children ---- a developmental perspective with a psychological focus on the correlation or causal variable between the media and children's behaviour. (2018 EYLÜL YDS)
    A) against / under
    B) on / from
    C) through / across
    D) in / beyond
    E) at / over
    48. Identifying the specific effects of beneficial microbes that thrive ---- the surface of our bodies and deep ---- our tissues, researchers are gaining a new view of how our bodies function. (2018 EYLÜL YDS)
    A) at / over
    B) in / along
    C) by / down
    D) on / within
    E) from / through
    49. The world's first complex societies arose in the Near East ---- the fertile area, known as Mesopotamia, ---- the Tigris and Euphrates rivers. (2018 ARALIK YDS)
    A) around / to
    B) within / between
    C) about / with
    D) for / along
    E) at / among
    50. ---- rapid advances in biotechnology, genetic manipulation of crops accelerated in the 1990s and is expected to have a significant impact ---- food production. (2018 ARALIK YDS)
    A) Through / to
    B) In / over
    C) With / on
    D) Within / from
    E) For / behind
    51. More than 80 percent of the dry land will be affected if temperatures continue to increase ---- the present rate, but ---- very different extents. (2017 NİSAN YDS)
    A) on / for
    B) at / to
    C) by / with
    D) in / about
    E) from / over
    52. Starting ---- 800 AD, many agricultural communities emerged ---- the Mississippi and in other fertile river valleys in North America. (2017 NİSAN YDS)
    A) for / by
    B) over / about
    C) on / with
    D) at / in
    E) around / along
    53. Early mastery of fire offered many benefits to humankind, including protection ---- wild animals, heat that enabled them to spread ---- cooler regions, and the ability to cook food. (2017 EYLÜL YDS)
    A) against / into
    B) from / by
    C) to / over
    D) for / along
    E) on / towards
    54. Anschluss, the political union of Germany and Austria, was specifically prohibited ---- the Versailles Treaty, but was carried out by Hitler in March 1938 ---- any resistance from the victors of the First World War. (2017 EYLÜL YDS)
    A) across / through
    B) under / without
    C) for / on
    D) from / behind
    E) to / about
    55. London is built ---- the River Thames and is ---- the centre of the UK road and rail networks. (2016 YDT)
    A) by / for
    B) to / about
    C) through / of
    D) from / within
    E) on / at
    56. Scientific evidence shows that the amount of activity ---- our brain when we dream is identical ---- the amount when we are awake. (2016 YDT)
    A) in / to
    B) on / for
    C) at / with
    D) across / of
    E) for / over
    57. In 1971, construction began on a vast hydroelectric project to dam the rivers that flow ---- James Bay and Hudson Bay, generating electricity ---- use in Canada and the US. (2016 MART YDS)
    A) through / in
    B) by / with
    C) along / about
    D) at / on
    E) into / for
    58. By the middle of the 19th century, the growing acceptance that microbes can kill us had once more focused people's attention ---- a world only visible ---- a microscope. (2016 MART YDS)
    A) on / through
    B) to / upon
    C) by / over
    D) against / in
    E) of / for
    59. Education plays an important role ---- improving people's health, and educated people are more likely to be informed consumers of health care, gathering information ---- diseases and potential treatments. (2016 EYLÜL YDS)
    A) to / upon
    B) in / on
    C) at / about
    D) with / from
    E) for / over
    60. Excluding minor skin cancers, breast cancer is the single most common type of cancer ---- women based ---- American Cancer Society data. (2016 EYLÜL YDS)
    A) in / from
    B) with / for
    C) among / upon
    D) within / about
    E) on / of
    61. The preference ---- increasingly bitter chocolate has its origins ---- the dramatic fall in cocoa prices in the years around 1985. (2015 YDT)
    A) at / to
    B) for / in
    C) with / about
    D) towards / over
    E) by / from
    62. Bird flu has some virologists worried because mortality may be high ---- the few who have been infected, mainly ---- direct contact with birds. (2015 YDT)
    A) by / on
    B) at / through
    C) for / about
    D) to / in
    E) among / from
    63. As a young officer, Mustafa Kemal Atatürk was critical ---- the government of the Ottoman Empire and became involved ---- the Committee of Union and Progress. (2015 NİSAN YDS)
    A) to / for
    B) of / with
    C) at / upon
    D) from / in
    E) toward / under
    64. The ultimate goal ---- medical profession is not to replace whole organs but to repair damaged organs ---- healthy cells. (2015 NİSAN YDS)
    A) of / over
    B) to / on
    C) for / with
    D) against / into
    E) behind / towards
    65. Governments, organizations and businesses are becoming increasingly concerned ---- social responsibility and ethical issues surrounding the problem ---- maintaining economic growth. (2015 EYLÜL YDS)
    A) with / of
    B) on / by
    C) into / from
    D) for / beyond
    E) at / behind
    66. Personality psychology focuses on the consistency in people's behaviour ---- time and the traits that differentiate one person ---- another. (2015 EYLÜL YDS)
    A) at / for
    B) over / from
    C) in / of
    D) within / by
    E) around / to
    `;
    const rawExamPrepA = `1-E 2-A 3-B 4-C 5-D 6-B 7-C 8-C 9-C 10-E 11-D 12-C 13-E 14-D 15-C 16-A 17-B 18-B 19-B 20-D 21-B 22-D 23-C 24-E
    25-B 26-B 27-A 28-D 29-D 30-E 31-B 32-D 33-A 34-B 35-B 36-E 37-D 38-C 39-C 40-D 41-B 42-D 43-A 44-D 45-C 46-C 47-B 48-D 49-B 50-C
    51-B 52-E 53-A 54-B 55-E 56-A 57-E 58-A 59-B 60-C 61-B 62-E 63-B 64-C 65-A 66-B`;

// --- 2. ÇIKMIŞ BAĞLAÇLAR (186 Soru) ---
const rawExamConjQ = `
1. Many Renaissance monarchs had dreams of ruling without interference from nobles and provincial assemblies; ----, no Renaissance king or queen ever achieved absolute power. (2025 YDT)
A) similarly
B) however
C) in addition
D) for example
E) consequently

2. ---- the reconstruction of ancient agricultural practices can be carried out straightforwardly based on plant and animal remains, the interpretation of prehistoric rituals is a much more difficult task. (2025 YDT)
A) Once
B) Because
C) Unless
D) While
E) As long as

3. In the closing years of the 20th century, few books for children enjoyed ---- much success, commentary, and controversy ---- the extraordinarily popular Harry Potter novels. (2025 YDT)
A) so / that
B) not only / but also
C) as / as
D) whether / or
E) neither / nor

4. Certain pieces of kitchenware have earned their place in our kitchens ---- their durability and ease of cleaning, but recent research suggests that plastic utensils can release harmful substances into our food. (2025 YDT)
A) such as
B) despite
C) thanks to
D) rather than
E) for the purpose of

5. Insects do not navigate by scanning their environment and reducing the image to trillions of pixels that they process with supercomputers; ----, their brains are composed of 'neural networks,' learning machines that slowly learn how to navigate in a hostile world by bumping into it. (2025 TEMMUZ YDS)
A) instead
B) likewise
C) for example
D) otherwise
E) in short

6. Mirror reading is a disability that causes the individual to perceive some letters and parts of words as the reverse of what they are ---- they are reading the mirror image of the printed letter or word. (2025 TEMMUZ YDS)
A) even though
B) as if
C) in case
D) unless
E) seeing that

7. Almost every parent spends time with their pre-school children, reading and counting to foster an understanding of language and numbers; ----, by the time children begin school formally, they are often competent speakers, understand letters, and can count. (2025 TEMMUZ YDS)
A) even so
B) as a result
C) however
D) rather
E) conversely

8. Although blue light most devices emit is thought to have an impact on our sleep/wake cycle, all light, ---- it comes from a lamp ---- a tablet, suppresses melatonin, the hormone that makes you feel sleepy. (2025 TEMMUZ YDS)
A) the more / the more
B) as / as
C) not only / but also
D) whether / or
E) so / that

9. Although effective print advertisements follow generally accepted conventions such as the use of large headlines and endings with a strong call to action, they can differ considerably ---- design features, including layout and colour scheme. (2025 TEMMUZ YDS)
A) in terms of
B) rather than
C) with the aim of
D) despite
E) regardless of

10. A major goal of social skills training is to teach people how to learn and interpret social signals in their interactions ---- they can act appropriately in the company of other people in different situations. (2025 TEMMUZ YÖKDİL SOSYAL)
A) as if
B) just as
C) while
D) so that
E) given that

11. ---- there are no substantial documents concerning crime and punishment in the Americas during the Middle Ages, much of what is known has been gathered from information provided by Spanish chroniclers of the colonial era. (2025 TEMMUZ YÖKDİL SOSYAL)
A) Once
B) Whether
C) As
D) Before
E) Until

12. ---- the causes of autism have not been thoroughly understood, almost 60 per cent of cases are believed to have a genetic component traced to multiple genes predisposing individuals to develop different aspects of autism. (2025 TEMMUZ YÖKDİL SOSYAL)
A) Although
B) Because
C) As long as
D) Provided that
E) Once

13. In language learning, error correction may cause distraction and demotivation in adults; ----, feedback on errors can help them expand their knowledge of language structures. (2025 TEMMUZ YÖKDİL SOSYAL)
A) in other words
B) for instance
C) therefore
D) furthermore
E) however

14. Children who lack television literacy are at a greater risk of being exposed to televised violence; ----, they should be carefully monitored by their parents to avoid the negative effects of television programmes. (2025 TEMMUZ YÖKDİL SOSYAL)
A) for example
B) otherwise
C) instead
D) similarly
E) as a result

15. In rural areas of Honduras, many locals give up their traditional lifestyles ---- well-paid jobs and educational opportunities in big cities. (2025 TEMMUZ YÖKDİL SOSYAL)
A) in pursuit of
B) regardless of
C) in addition to
D) in comparison to
E) despite

16. The International Phonetic Alphabet was developed in 1886 by language teachers in France ---- creating a consistent and universally understood system for transcribing the speech sounds of any language. (2025 TEMMUZ YÖKDİL SOSYAL)
A) with the goal of
B) in spite of
C) instead of
D) similar to
E) as well as

17. Archaeological evidence is ---- scarce for the era of foragers ---- our understanding of early human lifestyles has been largely shaped by conclusions based on the study of modern foraging societies. (2025 TEMMUZ YÖKDİL SOSYAL)
A) so / that
B) neither / nor
C) as / as
D) whether / or
E) the more / the more

18. Crop rotation is switching plant species within an environment ---- a resident insect population which is adapted to one of the crops cannot survive when a new one is planted into the field. (2025 TEMMUZ YÖKDİL FEN)
A) so that
B) just as
C) although
D) before
E) whether

19. Air conditioning is commonly thought of as a method of cooling interiors; ----, it also treats the factors of temperature, humidity, purity, and movement of air. (2025 TEMMUZ YÖKDİL FEN)
A) as a result
B) conversely
C) however
D) otherwise
E) for example

20. In 1869, the Russian chemist Dmitri Mendeleev proposed arranging the elements in groups according to their shared properties in a periodic table; ----, he changed a highly speculative branch of chemistry into a true, logical science. (2025 TEMMUZ YÖKDİL FEN)
A) otherwise
B) instead
C) as a result
D) still
E) in contrast

21. ---- puffer fishes have an impressive arsenal of defensive tactics, they may be threatened as a result of overfishing for resale to meet the demands of the tourist industry. (2025 TEMMUZ YÖKDİL FEN)
A) As
B) If
C) After
D) Even though
E) When

22. ---- smartphone applications that identify plants from photographs can be as very little as 4 per cent accurate, they can put people searching for food at risk and also lead to endangered plants being mislabelled. (2025 TEMMUZ YÖKDİL FEN)
A) Because
B) While
C) Until
D) As if
E) As soon as

23. Scientists have developed computer systems that use artificial intelligence to better analyse the images of seafloor ---- algorithms to improve search and navigation of a target area. (2025 TEMMUZ YÖKDİL FEN)
A) as well as
B) regardless of
C) in case of
D) despite
E) unlike

24. ---- the modern influence of human activities on atmospheric chemistry, the naturally occurring greenhouse gases had fairly stable atmospheric concentrations. (2025 TEMMUZ YÖKDİL FEN)
A) For the purpose of
B) Prior to
C) In relation to
D) Instead of
E) Thanks to

25. Being a prolific scientist, Albert Einstein ---- published his special theory of relativity ---- two other theories that became part of the fundamental understanding of matter in the universe in 1905. (2025 TEMMUZ YÖKDİL FEN)
A) whether / or
B) so / that
C) not only / but also
D) the more / the more
E) either / or

26. ---- lung cancer is globally the leading cause of death from cancer, health experts believe it is also the most preventable type due to smoking's role in its development. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) Even though
B) Since
C) If
D) As long as
E) Unless

27. Stuttering usually begins between the ages of two and five years; ----, there are instances when individuals begin to show stuttering-type behaviours in late childhood or as adults. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) however
B) in other words
C) similarly
D) for example
E) accordingly

28. ---- dieting alone leads to a loss of lean tissue, a combination of moderate exercise and dietary restriction conserves muscle mass. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) Until
B) Whether
C) While
D) Only when
E) Now that

29. Photoreceptors are specialised cells lining the innermost layer of the eye that convert light into electrical messages ---- the brain can perceive the environment. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) even if
B) because
C) so that
D) although
E) once

30. ---- there is no genetic testing available for Marshall-Smith syndrome, all individuals are diagnosed through a careful physical examination and study of their medical history. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) Before
B) Because
C) Once
D) Just as
E) Whether

31. ---- relying on a single treatment method, plague doctors employed a variety of methods to protect themselves and their patients from the contagion of the plague. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) By means of
B) Instead of
C) In terms of
D) As a result of
E) Due to

32. Global rates of obesity and related diseases have increased in the 21st century to epidemic proportions ---- the efforts of the health services, doctors and nutritionists. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) in line with
B) with respect to
C) because of
D) unlike
E) in spite of

33. ---- prescription medications ---- herbal products have the ability to fully restore cognitive functions lost to permanent brain damage caused by Alzheimer's disease or traumatic brain injury. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) As / as
B) Such / that
C) Whether / or
D) Neither / nor
E) The more / the more

34. The risk of breaking a hip is shown to be higher for vegetarian women than those who are regular meat eaters, ---- meat-free diets are possibly deficient in vitamins and minerals that help strengthen bones. (2025 MART YDS)
A) whereas
B) so
C) because
D) although
E) whether

35. The lie detector, or polygraph, is based on the idea that someone who is lying will give themselves away by, for example, increased sweating and raised heart rate; ----, in reality, few courts rely on polygraph results. (2025 MART YDS)
A) namely
B) however
C) likewise
D) moreover
E) consequently

36. ---- the vast deserts and steamy rainforests of Africa make this continent a tricky place to look for fossils, in recent years, many areas have been found to be rich in ancient life, and fascinating finds have become increasingly common. (2025 MART YDS)
A) Once
B) Even though
C) Provided that
D) As long as
E) As if

37. The prehistoric Mycenaeans built ---- huge stone walls around their citadels, some of them were 14m wide ---- later civilisations believed they were the work of giants. (2025 MART YDS)
A) not only / but also
B) as / as
C) such / that
D) whether / or
E) either / or

38. University libraries in Japan reconstructed their library systems in the 1980s ---- the regulations proposed by the Science Council, which aims to eliminate disparities among library catalogues. (2025 MART YDS)
A) in accordance with
B) irrespective of
C) with the exception of
D) as opposed to
E) for the purpose of

39. ---- scientists have learned more about the chemistry of the atmosphere, our understanding of air pollution has increased rapidly. (2024 YDT)
A) Unless
B) As
C) Although
D) Until
E) Whether

40. ---- Naples, a lively southern Italian city, is famous for its delicious tomatoes and outstanding mozzarella cheese, it is not surprising that it is also the undisputed 'home of the pizza'. (2024 YDT)
A) Even if
B) Given that
C) Only when
D) By the time
E) Whereas

41. Technology is an asset that creates ---- a deep sense of dependency ---- people feel as if they cannot function without it. (2024 YDT)
A) more / than
B) neither / nor
C) such / that
D) as / as
E) whether / or

42. According to the International Union for Conservation of Nature, more than 19,000 animal and plant species are at risk of becoming extinct, mainly ---- the actions of humans, such as illegal trade, hunting, and habitat destruction. (2024 YDT)
A) contrary to
B) with the exception of
C) due to
D) in pursuit of
E) as well as

43. ---- the name Igor Ivanovich Sikorsky is generally associated with the development of the helicopter as a practical flying machine, he is also notable as a great designer of flying boats. (2024 KASIM YDS)
A) As long as
B) Provided that
C) While
D) Unless
E) Once

44. ---- crop domestication and the increase and spread of people occurred in largely forested environments, ancient societies everywhere had a cumulatively severe impact on forests. (2024 KASIM YDS)
A) As if
B) Because
C) Although
D) Whereas
E) Whether

45. It is important for young readers to experience a range of different cultural understandings, ---- their perception of their own culture could remain narrow and impoverished. (2024 KASIM YDS)
A) instead
B) otherwise
C) thus
D) just as
E) if

46. During the early periods in northern China, wheat seems to have been treated as a crop of desperation ---- a culinary delight, and was grown in an attempt to tackle starvation. (2024 KASIM YDS)
A) on the basis of
B) by means of
C) with reference to
D) as a result of
E) rather than

47. ---- the Maori, Polynesian people of New Zealand, suffered many of the same losses as other native peoples when confronted by European settlers, they proved to be more powerful than many of their counterparts in other lands. (2024 NİSAN YDS)
A) If
B) Once
C) As though
D) Although
E) Just as

48. Recent research has shown that people who have more of a grateful mindset are usually not affected by anxiety and depression, ---- they are living with a serious health condition. (2024 NİSAN YDS)
A) because
B) even if
C) just as
D) as if
E) as long as

49. Extensive scientific literature shows that people who closely follow a Mediterranean diet are ---- less likely to develop heart-related issues, ---- have a reduced risk of cognitive impairment. (2024 NİSAN YDS)
A) neither / nor
B) not only / but also
C) as / as
D) no sooner / than
E) so / that

50. Although boys and girls are just as likely to engage in bullying, some differences have been identified ---- the types and frequency of bullying. (2024 NİSAN YDS)
A) instead of
B) as opposed to
C) with the aim of
D) in terms of
E) rather than

51. All living things on Earth need water ---- it is possible that there could be life elsewhere that uses different mechanisms and chemistry. (2023 YDT)
A) so
B) but
C) as
D) as though
E) if

52. Nigeria is potentially the richest nation in Africa, with huge reserves of oil and natural gas, ---- the money earned from these natural resources has not been used properly, and most Nigerians remain very poor. (2023 YDT)
A) in spite of
B) rather than
C) because
D) until
E) although

53. Without your spine, which is a line of bones running down the back of your body, you could ---- hold up your head and body, ---- make any kind of movement. (2023 YDT)
A) either / or
B) whether / or
C) not only / but also
D) neither / nor
E) the more / the more

54. Climate change is already harming around 700 species of mammals and birds ---- issues such as habitat loss and droughts. (2023 YDT)
A) on behalf of
B) in case of
C) because of
D) instead of
E) due to

55. Ancient Egypt has long been considered the domestic cat's cradle, but when researchers sequenced DNA from more than 200 ancient cats, they discovered that ---- Nile natives formed the most broadly distributed lineage, they were not the first. (2023 EKİM YDS)
A) if
B) because
C) while
D) once
E) just as

56. Many materials labelled as biodegradable or compostable typically will not break down ---- they are subjected to ideal industrial composting conditions, meaning high humidity, temperatures of up to 70°C, and a special cocktail of microbes. (2023 EKİM YDS)
A) given that
B) whether
C) unless
D) because
E) after

57. ---- recent droughts and urbanisation have challenged the traditional lifestyle of the Sahara Desert's Tuareg people, many still practice nomadism, with communities still moving locations over the vast spaces. (2023 EKİM YDS)
A) Although
B) In case
C) Because
D) As long as
E) Until

58. ---- its impact on civilisation, the transition of communities from hunter-gatherer to farmer has been described as the most important technological development ever to occur in human history. (2023 EKİM YDS)
A) Irrespective of
B) Similar to
C) Owing to
D) By means of
E) Contrary to

59. Sociology enables us to understand ---- society as a whole ---- our individual place within it because this is a matter of where we are located within social structures. (2023 EKİM YDS)
A) both / and
B) whether / or
C) neither / nor
D) such / that
E) the more / the less

60. ---- autism can be a gift to higher functioning individuals, improving their ability in subjects such as mathematics and software, it is hardly true to say that everyone with the condition is a genius. (2023 NİSAN YDS)
A) Because
B) Although
C) Once
D) If
E) Until

61. Some materials are common and not very special, such as ordinary rocks and soil ---- others such as diamonds, rubies, and other jewels are prized because they are rare and have beautiful colours. (2023 NİSAN YDS)
A) unless
B) once
C) as if
D) while
E) just as

62. It is a strange twist of fate that both the Ötzi, an ancient iceman, and Helmut Simon were found dead on the ice ---- Helmut Simon was the man who discovered the Ötzi's remains in 1991. (2023 NİSAN YDS)
A) until
B) given that
C) only when
D) unless
E) provided that

63. Air conditioning and heating systems today ---- change the temperature of a room, ---- remove dust, pollen, and other particles that may cause respiratory problems for humans. (2023 NİSAN YDS)
A) no sooner / than
B) as / as
C) whether / or
D) not only / but also
E) the more / the more

64. ---- the red haemoglobin in human blood, which has an iron atom in its molecule, lobsters and other large crustaceans have blue blood containing hemocyanin. (2023 NİSAN YDS)
A) Such as
B) Instead of
C) By means of
D) In conjunction with
E) As a result of

65. ---- vitamin C cannot prevent us from getting sick, a study conducted in 2017 showed that high doses of vitamin C can reduce the duration of a cold by 17 per cent. (2022 YDT)
A) Since
B) While
C) Until
D) As long as
E) If

66. ---- we often consider the word fluid to apply only to liquids, gases are also accepted as fluids in physics since they behave similarly in many situations. (2022 YDT)
A) Because
B) In order that
C) Although
D) By the time
E) Provided that

67. After a supernova, the inner remnant of the star continues to collapse, depending on its size it will form ---- a neutron star ---- a black hole, where the collapse has become unstoppable. (2022 YDT)
A) either / or
B) as / as
C) so / that
D) such / as
E) just as / so

68.Leaders from Athens, Mexico City, Paris and Madrid have recently announced that diesel vehicles will be banned in their cities from 2025 ---- pollution concerns. (2022 YDT)
A) in spite of
B) except for
C) due to
D) along with
E) by means of

69. In linguistics, the distinction between a word's sense and reference is a critical one, ---- it allows us to study the many cases where we happily use words, even though they do not naturally correspond to the way things are in the world. (2022 NİSAN YDS)
A) in order that
B) so that
C) because
D) if
E) once

70. ---- there is nothing wrong with wanting to look good, there are some troubling ethical issues associated with aesthetic plastic surgery. (2022 NİSAN YDS)
A) Given that
B) Although
C) In case
D) Unless
E) Provided that

71. ---- even kings and high statesmen have a daily life, when that concept is used in history, it refers to the lives of the ordinary people who became the protagonists of much historiography in the late 20th century. (2022 NİSAN YDS)
A) Whether
B) Seeing that
C) While
D) Unless
E) Until

72. Economic activity is the source of wealth for any country, so government control and regulation of the economy has a significant effect ---- on prosperity and growth ---- on political well-being. (2022 NİSAN YDS)
A) the more / the less
B) neither / nor
C) not only / but also
D) so / that
E) whether / or

73. Researchers believe positive musical tones activate the brain by encouraging the release of dopamine, helping spark new ideas more than quiet, ---- experts suggest we are better at problem-solving if we work in silence. (2021 YDT)
A) likewise
B) so
C) but
D) since
E) for example

74. ---- bacteria were discovered in the 17th century, infectious diseases were thought to be caused by sickly smells. (2021 YDT)
A) Once
B) Given that
C) Since
D) Until
E) Even if

75. Human hearing is not ---- sensitive ---- that of a bat or a dog, but human beings make a wide range of sounds. (2021 YDT)
A) both / and
B) neither / nor
C) as / as
D) whether / or
E) either / or

76. ---- being the second largest oil-producing state in the US after Alaska, Texas is rich in iron ore, magnesium, uranium and other minerals. (2021 YDT)
A) In terms of
B) As opposed to
C) As well as
D) In spite of
E) Rather than

77. ---- he was never regarded as a musical genius at a very young age like Mozart or Mendelssohn, Beethoven's talent was quite impressive. (2021 YDT)
A) As long as
B) Because
C) Even though
D) Once
E) Provided that

78. ----- attention is a process that is so widely distributed throughout the brain, different systems have been proposed to explain the varying types of attention. (2021 YÖKDİL SOSYAL)
A) Unless
B) Once
C) After
D) Because
E) As soon as

79. Many animals can communicate with each other and share information basically; ------, humans are the only creatures who can communicate using symbolic language. (2021 YÖKDİL SOSYAL)
A) that is
B) however
C) accordingly
D) likewise
E) as a result

80. Computers and the Internet have greatly increased the amount and range of information available to students ---- their benefits are often exaggerated in media reports. (2021 YÖKDİL SOSYAL)
A) until
B) even if
C) in order that
D) in case
E) unless

81. They are some of the oldest monuments in the world, ---- much about Egypt's pyramids remains a mystery. (2021 YÖKDİL SOSYAL)
A) but
B) otherwise
C) as
D) supposed that
E) once

82. ---- the rationalists, who thought that we were born with certain ideas about the world, 17th-century philosopher John Locke claimed that our minds were like a blank slate (tabula rasa) at birth, meaning we are not born with innate knowledge. (2021 YÖKDİL SOSYAL)
A) With the help of
B) On behalf of
C) In terms of
D) Unlike
E) Together with

83. ---- he was never regarded as a musical genius at a very young age like Mozart or Mendelssohn, Beethoven's talent was quite impressive. (2021 YDT)
A) As long as
B) Because
C) Even though
D) Once
E) Provided that

84. ---- disagreements over the definition, meaning and value of privacy, most philosophers defend the unique and fundamental value of privacy protection. (2021 YÖKDİL SOSYAL)
A) Such as
B) In spite of
C) By means of
D) Similar to
E) In the hope of

85. Much of the overall increase in population between now and 2050 is projected to occur ---- in high fertility countries ---- in countries with- large populations. (2021 YÖKDİL SOSYAL)
A) so / that
B) such / that
C) both / and
D) as / as
E) the more / the more

86. ---- social media has become widely integrated into everyday life, there is a growing interest in understanding its impact and the norms of online conduct. (2021 EKİM YDS)
A) Supposing that
B) Although
C) Now that
D) As much as
E) While

87. For many years, social researchers regarded gossip as unworthy of scientific investigation; ----, sociologists have recently begun to recognise gossip as an important feature of social life. (2021 EKİM YDS)
A) accordingly
B) in other words
C) however
D) as a result
E) for example

88. In diabetic patients, even though food intake may be increased, weight loss can occur ---- muscles and fat stores may shrink as they are not getting the necessary glucose. (2021 EKİM YDS)
A) because
B) given that
C) as long as
D) although
E) in case

89. ---- you are a long-time fan ---- casual follower of the series of Street Fighter, you are already well-aware that it is constantly updated with new characters, costumes, and story content. (2021 EKİM YDS)
A) Both / and
B) Neither / nor
C) Rather / than
D) Whether / or
E) Not only / but also

90. ---- many individual cases of malicious data leaks online that have caught the public eye, there has been very little research examining the scale of the problem. (2021 EKİM YDS)
A) Similar to
B) Due to
C) As a result of
D) In accordance with
E) Despite

91. ---- certain types of fungi have been used throughout history for a variety of beneficial purposes, others have been found to contain dangerous toxins that are poisonous to humans. (2021 NİSAN YDS)
A) Once
B) Although
C) Since
D) Provided that
E) Only when

92. ---- such an intimate connection existed between agricultural intensification and the appearance of cities, it is not surprising that the earliest evidence for cities comes from regions with ancient agricultural traditions. (2021 NİSAN YDS)
A) Because
B) As if
C) Before
D) Although
E) While

93. ---- children can be easy targets for exploitation and victimization, supervision is necessary component of any Internet safety. (2021 NİSAN YDS)
A) Even if
B) Although
C) Since
D) Before
E) Unless

94. The conventional view of dinosaur origins holds that they were endowed with ---- superior speed, agility, metabolism and intelligence ---- as soon as they debuted they quickly spread across the globe. (2021 NİSAN YDS)
A) either / or
B) both / and
C) the more / the more
D) whether / or
E) such / that

95. Books continue to be a major medium for communicating scholary works in the field of history, ---- many other social sciences, where journal articles are far more important. (2021 NİSAN YDS)
A) with the help of
B) in contrast to
C) due to
D) such as
E) on the basis of

96. Computers may be able to beat us in specific activities; ----, it will be a long time before we see a robot with human-like versatility. (2020 YDT)
A) moreover
B) thus
C) likewise
D) instead
E) however

97. ---- the wheel was invented, humans had devised various ways to move heavy objects around. (2020 YDT)
A) As long as
B) Before
C) Whenever
D) In case
E) Unless

98. ---- people you dine with, ---- food you are likely to eat because when dining with another person, people eat 35 percent more than when they are alone. (2020 YDT)
A) Whether / or
B) Not only / but also
C) The more / the more
D) Either / or
E) Neither / nor

99. Some students wrongly interpret failure as resulting from lack of ability ---- lack of effort, and do nothing about it since they believe that ability, unlike effort, is something they really cannot do much about. (2020 YDT)
A) rather than
B) similar to
C) in case of
D) in terms of
E) except for

100. ---- electricity and heat account for 41 percent of global carbon dioxied emissions today, curbing climate change will require satisfying that much demand with renewables rather than fossil fuels. (2020 EYLÜL YDS)
A) Since
B) While
C) Until
D) Unless
E) As if

101. ---- all dogs show signs of having 'theory of mind', which enables them to grasp that we think differently from them, it is unlikely that they are capable of extending this to knowing the reason why one person behaves differently to another. (2020 EYLÜL YDS)
A) In case
B) Only if
C) As far as
D) Given that
E) Even though

102. ---- there are hundreds of school and community-based aggression prevention and social skills promotion programmes, only a handful of these appear to be effective. (2020 EYLÜL YDS)
A) Provided that
B) Since
C) Although
D) Just as
E) Unless

103. Finding ammonia on the surface of Pluto could be a hint of more complex organic chemistry on the planet, although it is ---- cold ---- there is almost definitely no life there. (2020 EYLÜL YDS)
A) not only / but also
B) both / and
C) neither / nor
D) such / that
E) so / that

104. ---- the Sun's constant stream of energy, water molecules are continually evaporating from the surfaces of oceans and lakes, adding to the water vapour in the air. (2020 EYLÜL YDS)
A) Rather than
B) Thanks to
C) As opposed to
D) In terms of
E) Unlike

105. ---- most people can find benefits in cross-cultural living or learning, some experience psychological blocks and other inhibiting effects due to culture shock. (2019 YDT)
A) Because
B) Only when
C) While
D) Unless
E) Provided that

106.Brain death happens when the brain shows no signs of any activity, ---- machines are keeping the heart and lungs working. (2019 YDT)
A) even if
B) in case
C) because
D) until
E) after

107. The town of Ushuaia lies at the southern tip of Argentina, ---- close to the Antarctic ---- it is bitterly cold for much of the year. (2019 YDT)
A) such / that
B) as / as
C) the more / the more
D) either / or
E) so / that

108. The numerous Italian princes' palaces became significant centres of the Renaissance and the Baroque periods ---- their comparatively minor political influence. (2019 YDT)
A) due to
B) rather than
C) in terms of
D) as well as
E) despite

109. Renaissance art evolved from a common set of principles, ---- it took many directions and changed considerably in the following centuries. (2019 İLKBAHAR YDS)
A) instead
B) provided that
C) but
D) for
E) so

110. ---- palaeontologists still like to argue about what role the asteroid played in the dinosaur extinction, there really is not much of a mystery left. (2019 İLKBAHAR YDS)
A) Once
B) In case
C) Given that
D) Although
E) As

111. To psychology professionals, the name Anne Anastasi is synonymous with psychomethcs, ---- it was she who pioneered understanding how psychological traits are influenced, developed, and measured. (2019 İLKBAHAR YDS)
A) so
B) even if
C) while
D) yet
E) as

112. Music is a very small world that encompass something that takes ---- many forms ---- there are cultural and subcultural identities. (2019 İLKBAHAR YDS)
A) either / or
B) both / and
C) as / as
D) such / that
E) not only / but also

113. Although genetically modified seed is more expensive than conventional equivalents, the extra cost can be seen as an insurance policy against crop losses ---- weeds or pests. (2019 İLKBAHAR YDS)
A) contrary to
B) due to
C) in terms of
D) despite
E) along with

114. ---- immigrants to North America's new colonies were primarily British in the 17th and 18th centuries, significant numbers of people of other nationalities also established a presence in the Americas. (2019 EYLÜL YDS)
A) Because
B) While
C) As long as
D) Provided that
E) Once

115. Not much had been accomplished with the phenomena of magnetism and static ---- the Chinese began to use the magnetic compass for navigation around 1000 AD. (2019 EYLÜL YDS)
A) in case
B) while
C) until
D) if
E) as soon as

116. Not much had been accomplished with the phenomena of magnetism and static ---- the Chinese began to use the magnetic compass for navigation around 1000 AD. (2019 EYLÜL YDS)
A) in case
B) while
C) until
D) if
E) as soon as

117. Liquid water covers more than two-thirds of the Blue Planet's surface, ---- exactly how it got there has always been puzzling. (2019 EYLÜL YDS)
A) so
B) instead
C) but
D) otherwise
E) as

118. Personality is ---- a crucial aspect of psychology ---- every main branch of psychological research has attempted to contribute to the existing knowledge in this area. (2019 EYLÜL YDS)
A) such / that
B) whether / or
C) as much / as
D) the more / the more
E) neither / nor

119. Having a geopolitical significance ---- its unique aspect of dividing two continents, the Bosphorus stands among distinguished landmarks of Istanbul. (2019 EYLÜL YDS)
A) similar to
B) thanks to
C) in place of
D) in spite of
E) contrary to

120. Among the drawbacks of aging is a creeping tendency to put on weight ---- our resting metabolism slows down — by roughly 1 to 2 percent every decade. (2019 ARALIK YDS)
A) but
B) since
C) as if
D) if only
E) even if

121. Feminism made an important difference to British culture throughout the 20th century ---- the struggle to change unequal gender relations took place in a range of contexts. (2019 ARALIK YDS)
A) provided that
B) unless
C) as
D) in case
E) as long as

122. Surpassed by tennis in the 19th century, croquet is today more of a recreational activity than competitive sport ---- intense competition has not disappeared entirely in croquet clubs. (2019 ARALIK YDS)
A) just as
B) even though
C) provided that
D) so that
E) as long as

123. ---- connecting distant empires into an integrated web of commerce, the Silk Road carried infectious diseases that severely affected immunity-free victims. (2019 ARALIK YDS)
A) In case of
B) Apart from
C) In terms of
D) On behalf of
E) For the purpose of

124. The management of farms in the future will be influenced ---- by climate ---- by global demand and agricultural practices, so the winners will be farmers who modernise their methods and diversify their fields. (2019 ARALIK YDS)
A) neither / nor
B) as / as
C) not only / but also
D) rather / than
E) so / that

125. Having a geopolitical significance ---- its unique aspect of dividing two continents, the Bosphorus stands among distinguished landmarks of Istanbul. (2019 ARALIK YDS)
A) similar to
B) thanks to
C) in place of
D) in spite of
E) contrary to

126. At the start of the 20th century, nine out of ten people lived in rural areas where they worked on the land, ---- approximately half of the world's population today lives in the city. (2018 YDT)
A) as
B) whereas
C) hence
D) so
E) whether

127. An important task of childhood is learning how to bring emotions under reasonable control ---- children who cannot manage their emotions are likely to experience problems with other people. (2018 YDT)
A) once
B) since
C) even if
D) in case
E) unless

128. Given that it is highly likely that further reservoirs exist, the interior of our planet could contain at least six times ---- much water ---- all the world's oceans do. (2018 YDT)
A) as / as
B) so / that
C) whether / or
D) both / and
E) either / or

129. The panda has become an international symbol for conservation since 1990, winning the public's affection ---- their distinctive black and white markings and clumsy behaviour. (2018 YDT)
A) in spite of
B) on behalf of
C) thanks to
D) in contrast to
E) except for

130. ---- there is no consensus among folklorists on how to define folklore nor how to explain the issues of the meaning and the function of it, folklore generally refers to cultural expressions, such as narratives, music, dance, beliefs and festivals. (2018 İLKBAHAR YDS)
A) Once
B) While
C) Until
D) As
E) In case

131. Industrial nations consume nearly 75 to 80 percent of the fossil fuels burned each year; ----, they are responsible for the majority of greenhouse gas emissions. (2018 İLKBAHAR YDS)
A) instead
B) on the contrary
C) as a result
D) for example
E) however

132. Buildings such as the Hagia Sophia in Istanbul, Turkey date back to the sixth century and yet are still standing ---- they are located in earthquake-prone areas. (2018 İLKBAHAR YDS)
A) as long as
B) unless
C) as if
D) although
E) since

133. In statistics, ---- the standard deviation allows us to see how much individuals vary within a sample, ---- the standard error allows us to estimate how much samples will vary within a population. (2018 İLKBAHAR YDS)
A) whether / or
B) no sooner / than
C) rather / than
D) hardly / when
E) just as / so

134. The idea of the Internet was initially to provide redundancy of communications ---- a catastrophic event like a nuclear blast, which might destroy a single connection or computer but not the entire network. (2018 İLKBAHAR YDS)
A) such as
B) on behalf of
C) instead of
D) in terms of
E) in case of

135. Most cheesemakers believe that the brilliant nuances of flavour found in raw milk, with its naturally present 'good' bacteria, simply cannot be duplicated in a pasteurised milk cheese ---- some well-respected cheeses, including British Stilton, are made only from pasteurised milk. (2018 EYLÜL YDS)
A) now that
B) after
C) although
D) because
E) only if

136. Surprisingly, the symbol for zero emerged later than the concepts for other numbers, and ---- the Babylonians used a symbol for zero, it was merely a placeholder and not used for computational purposes. (2018 EYLÜL YDS)
A) just as
B) as if
C) in case
D) because
E) even though

137. Studies have found that the effects of a cup of coffee or a glass of cola are noticeable after just 10 minutes ---- the peak caffeine concentration in the blood occurs after 45 minutes. (2018 EYLÜL YDS)
A) since
B) but
C) provided that
D) as long as
E) unless

138. Animals are hunted by humans ---- for their meat ---- for parts of their bodies that are used to create medicines, clothes, and jewellery. (2018 EYLÜL YDS)
A) neither / nor
B) such / that
C) not only / but also
D) the more / the more
E) as / as

139. ---- its notoriety as a naval weapon, the first modern torpedo was developed in landlocked Austria, or rather in what was then the Austrian Empire stretching down to the Adriatic. (2018 EYLÜL YDS)
A) Along with
B) In terms of
C) Despite
D) Due to
E) Instead of

140. Scientists have grown more aware of the social implications of their work ---- people have become more conscious of the ways in which science and technology affect their lives. (2018 ARALIK YDS)
A) but
B) only if
C) in case
D) just as
E) unless

141. ---- the organic food industry is relatively small and new, it is important that consumers become aware of its claims, limitations, and potential benefits. (2018 ARALIK YDS)
A) Just as
B) Once
C) Unless
D) Even if
E) Until

142. Early conceptualisations of acculturation described an interpersonal transformation that occurs ---- cultures come into sustained contact. (2018 ARALIK YDS)
A) whereas
B) when
C) as if
D) even though
E) in case

143. Known as the 'Lady with the Lamp' during the Crimean War, Florence Nightingale, the most famous nurse in history, focused her efforts ---- on the prevention of diseases ---- the promotion of healthy living in a more positive way. (2018 ARALIK YDS)
A) the more / the more
B) not only / but also
C) whether / or
D) such / that
E) as / as

144. ---- expansion west across the Mississippi River to the Pacific coast, settlers from Europe were brought into conflict with Native American tribes who lived in the area, upon whose lands the settlers were encroaching. (2017 YDT)
A) Rather than
B) Along with
C) As opposed to
D) Unlike
E) Due to

145. Powdered milk can be obtained ---- by spraying a fine mist of milk into a heated chamber ---- by adding the milk in a thin layer to a heated surface, from which the dried milk solids can be removed. (2017 YDT)
A) the more / the more
B) so / that
C) either / or
D) just / as
E) such / that

146. ---- the gadgets that count steps, measure blood pressure and heart rate, untrained people can monitor their health, which used to be done only by doctors in the past. (2017 YDT)
A) Thanks to
B) As opposed to
C) Rather than
D) Instead of
E) In search of

147. ---- aeroplanes have made it easier for us to explore the world, nearly one in three of us claim to be anxious or fearful of flying. (2017 YDT)
A) Only if
B) Whenever
C) As soon as
D) Although
E) Because

148. 70 percent of the Earth's surface is liquid, ---- water scarcity affects more than a billion people each year. (2017 İLKBAHAR YDS)
A) as if
B) yet
C) given that
D) instead
E) thus

149. Alphabetic writing systems are easy to learn and maximally efficient for transcribing any human language, ---- they are considered one of the major achievements of civilisation. (2017 İLKBAHAR YDS)
A) otherwise
B) but
C) so
D) whether
E) as

150. ---- historians cannot agree on when gold was first discovered, there is some evidence to suggest that the Egyptians were the first to mine it. (2017 İLKBAHAR YDS)
A) Now that
B) Just as
C) Even though
D) As long as
E) In case

151. Wheat, which has been a staple food for centuries, can turn out to be bad for some people ---- because they are allergic to it ---- because they have an autoimmune disorder. (2017 İLKBAHAR YDS)
A) so / that
B) neither / nor
C) as / as
D) the more / the more
E) either / or

152. ---- its similarities with other Italian cities, it is important to emphasise that Venice's aquatic environment and associations with foreign lands via the sea endowed it with a uniqueness. (2017 İLKBAHAR YDS)
A) Due to
B) By means of
C) In terms of
D) In case of
E) Despite

153. Home-grown produce tastes better than grocery store produce ---- it is freshly picked and perfectly ripe, which shines through even when cooked or preserved. (2017 SONBAHAR YDS)
A) although
B) whereas
C) whether
D) because
E) unless

154. ---- there have been dozens of proposals for gender-neutral third-person pronouns in English over the past two centuries, none has gained acceptance. (2017 SONBAHAR YDS)
A) Now that
B) As long as
C) In case
D) Once
E) Even though

155. The story of the cat's domestication is one of mutual appreciation: early farming communities benefited from cats' rodent-catching skills ---- cats won themselves protection and shelter without losing their independence. (2017 SONBAHAR YDS)
A) even if
B) only when
C) as soon as
D) while
E) before

156. In most cultures around the world, men and women typically differ in a number of ways ---- physical appearance, personality traits, and occupational preferences. (2017 SONBAHAR YDS)
A) in case of
B) in spite of
C) such as
D) similar to
E) as well as

157. 19th-century scientists fell into a bitter debate as to ---- intelligence lay in anatomy ---- a vital force was responsible for thoughts. (2017 SONBAHAR YDS)
A) as / as
B) so / that
C) neither / nor
D) whether / or
E) because / unless

158. ---- Byzantium had fallen, the Ottomans completed their conquest of the Balkans with ease. (2016 YDT)
A) Unless
B) Whether
C) If
D) Once
E) In case

159. Your body's cells cannot work properly ---- the conditions around them are perfectly balanced. (2016 YDT)
A) because
B) unless
C) whereas
D) so that
E) now that

160. Seoul is busy reinventing itself and practically rebuilding the city with an eye to improving ---- the aesthetic value ---- the commercial value of the city. (2016 YDT)
A) such / as
B) so / that
C) not only / but also
D) less / than
E) neither / nor

161. ---- improved roads, safer cars and harsher penalties for driving under the influence of alcohol, the use of seatbelts and airbags has brought down the number of motor vehicle accidents. (2016 YDT)
A) In spite of
B) In addition to
C) For the sake of
D) In case of
E) As opposed to

162. Astronomers discover thousands of new members of the solar system every month, most of which, ----, are insignificant bodies like small asteroids or comets. (2016 İLKBAHAR YDS)
A) however
B) otherwise
C) therefore
D) accordingly
E) in other words

163. ---- sustainable technologies usually cost a lot of money to set up, they save money in the long run. (2016 İLKBAHAR YDS)
A) Even if
B) Just as
C) Once
D) After
E) Unless

164. With normal ocean waves, only the surface of the water body is in motion; a tsunami, ----, brings not only the surface into motion but lifts and then drops an entire water column in the ocean. (2016 İLKBAHAR YDS)
A) namely
B) though
C) for example
D) similarly
E) hence

165. The basic principles of good diets are ---- simple ----- one can summarize them in just ten words: eat less, move more, eat lots of fruits and vegetables. (2016 İLKBAHAR YDS)
A) neither / nor
B) the more / the less
C) whether / or
D) such / as
E) so / that

166. The henna, which may have spiritual significance in various cultures, is applied ---- different graphic rules, with different symbolic relations. (2016 İLKBAHAR YDS)
A) due to
B) except for
C) unlike
D) according to
E) prior to

167. ---- some people produce irresistibly scented sweat that insects can detect from 30 m away, they are especially attractive to mosquitoes. (2016 SONBAHAR YDS)
A) Until
B) Whereas
C) Before
D) As
E) Though

168. ---- using renewable energy is potentially a means of combating global warming, renewable energy facilities can be very expensive to establish. (2016 SONBAHAR YDS)
A) When
B) Unless
C) Just as
D) Although
E) Until

169. Standard Mail Transfer Protocol employs an elaborate letter-and-number code that tells each computer station what it must do with a message ---- it can reach its destination. (2016 SONBAHAR YDS)
A) as though
B) in case
C) so that
D) even if
E) now that

170. Leonardo da Vinci's drawings for machines are ---- accurate ---- it has been possible for modern engineers to build some of them. (2016 SONBAHAR YDS)
A) so / that
B) as / as
C) either / or
D) more / than
E) neither / nor

171. ---- the promising prospects that carbon capture and storage technology offers to prevent air pollution, it is still a rather new technique requiring much more research before it can be utilized on a large scale. (2016 SONBAHAR YDS)
A) Owing to
B) In spite of
C) Except for
D) Rather than
E) Similar to

172. Relaxing with friends and enjoying people's company can help us unwind, which decreases our stress levels ---- we feel revived and revitalized. (2015 YDT)
A) after
B) even if
C) although
D) unless
E) so that

173. All over the world, many plant and animal species are now at risk of extinction ---- humans are destroying the environment. (2015 YDT)
A) before
B) only if
C) even though
D) because
E) but

174. A sneeze is more favourable than a cough because it nearly always cures the tickle that triggered it, ---- coughing can worsen things. (2015 YDT)
A) once
B) if
C) whereas
D) otherwise
E) just as

175. Animal species that may become extinct over the coming years include ---- large animals ---- smaller creatures like insects. (2015 YDT)
A) the more / the more
B) both / and
C) as / as
D) neither / nor
E) whether / or

176. ---- the number of people affected, floods undoubtedly constitute the greatest of all natural hazards. (2015 YDT)
A) In spite of
B) In terms of
C) As opposed to
D) By means of
E) Instead of

177. Digital media communication differs significantly from conventional marketing communication ---- digital media enable new forms of interaction and new models for information exchange. (2015 İLKBAHAR YDS)
A) although
B) since
C) only if
D) in case
E) even if

178. The mouth is the first part of the digestive system, where food is broken and chewed ---- it can easily be swallowed. (2015 İLKBAHAR YDS)
A) so that
B) since
C) just as
D) as long as
E) once

179. Fire was essential for the growth of human civilization ---- people used it to cook their food, warm their homes, clear woodland for cultivation, make pottery, and eventually melt metals for ores. (2015 İLKBAHAR YDS)
A) unless
B) even if
C) whenever
D) as
E) in case

180. Japan is enormously centralized, and Tokyo, the capital city, hosts ---- the national government ---- the stock market and the world's largest companies. (2015 İLKBAHAR YDS)
A) not only / but also
B) whether / or
C) neither / nor
D) such / that
E) the more / the less

181. Prejudice may be expressed by people who have developed generally negative personalities, perhaps ---- being raised in harsh and restrictive families. (2015 İLKBAHAR YDS)
A) as a result of
B) in terms of
C) rather than
D) in contrast with
E) in place of

182. Telecommunication companies install cell towers in places where the network will get sufficient use, ---- sparsely populated areas do not qualify, which means people there lack access to reliable phone service. (2015 SONBAHAR YDS)
A) in case
B) even if
C) so
D) although
E) just as

183. ---- the 50-second silent film Train Pulling Into A Station was first shown in 1895, people were so terrified by the locomotive racing towards them that they hurried to the back of the theatre. (2015 SONBAHAR YDS)
A) Before
B) Although
C) Since
D) When
E) As if

184. Much evidence points to a relationship between stress and disease ---- claims that stressful life events and daily routines cause various diseases are still premature. (2015 SONBAHAR YDS)
A) since
B) if
C) once
D) only when
E) but

185. Scientists do research in natural forces ---- for the sake of new discoveries ---- to use the findings for the advantage of mankind. (2015 SONBAHAR YDS)
A) not only / but also
B) so / that
C) the more / the more
D) such / that
E) whether / or

186. One way to reduce the negative impact people have on the environment is to make sure that as much garbage as possible is recycled ---- being put in a landfill. (2015 SONBAHAR YDS)
A) because of
B) in terms of
C) for the sake of
D) instead of
E) in case of
`;
const rawExamConjA = `1-B 2-D 3-C 4-C 5-A 6-B 7-B 8-D 9-A 10-D 11-C 12-A 13-E 14-E 15-A 16-A 17-A 18-A 19-C 20-C 21-D 22-A 23-A 24-B 25-C 26-A 27-A 28-C 29-C 30-B 31-B 32-E 33-D 34-C 35-B 36-B 37-C 38-A 39-B 40-B 41-C 42-C 43-C 44-B
45-B 46-E 47-D 48-B 49-B 50-D 51-B 52-E 53-D 54-E 55-C 56-C 57-A 58-C 59-A 60-B 61-D 62-B 63-D 64-B 65-B 66-C 67-A 68-C 69-C 70-B 71-C 72-C 73-C 74-D 75-C 76-C 77-C 78-D 79-B 80-B 81-A 82-D 83-C 84-B 85-C 86-C 87-C 88-A 89-D 90-E
91-B 92-A 93-C 94-E 95-B 96-E 97-B 98-C 99-A 100-A 101-E 102-C 103-E 104-B 105-C 106-A 107-E 108-E 109-C 110-D 111-E 112-C 113-B 114-B 115-C 116-C 117-C 118-A 119-B 120-B 121-C 122-B 123-B 124-C 125-B 126-B 127-B 128-A 129-C 130-B 131-C
132-D 133-E 134-E 135-C 136-E 137-B 138-C 139-C 140-D 141-D 142-B 143-B 144-E 145-C 146-A 147-D 148-B 149-C 150-C 151-E 152-E 153-D 154-E 155-D 156-C 157-D 158-D 159-B 160-C 161-B 162-A 163-A 164-B 165-E 166-D 167-D 168-D 169-C 170-A 171-B 172-D
173-D 174-C 175-B 176-B 177-B 178-A 179-D 180-A 181-A 182-C 183-D 184-E 185-A 186-D`;

// --- 3. ÇIKMIŞ TENSE/MODALS (96 Soru) ---
const rawExamTenseQ = `
1. The region at the apex of the Nile Delta experienced a period of growth around 3300 BCE, which implies that this area ---- a kingdom in its own right, but there is no evidence to support this, other than much later historical sources ---- to a Memphite kingdom. (2025 YDT)
A) must have been / to be referring
B) should have been / refer
C) may have been / referring
D) would have been / referred
E) could have been / to have referred

2. Marketers spend considerable effort to understand consumer behaviour so that they ---- appropriate marketing strategies that ---- increased sales. (2025 YDT)
A) could formulate / had resulted in
B) may formulate / have resulted in
C) must formulate / might result in
D) can formulate / will result in
E) have to formulate / would result in

3. In the 20th century, a great number of scientific developments reduced death rates throughout the world, but populations ---- to rise if antibiotics ----. (2025 YDT)
A) might not have continued / cannot be introduced
B) may not continue / would not be introduced
C) would not have continued / have not been introduced
D) could not have continued / had not been introduced
E) must not have continued / were not introduced

4. Advances in medical technology make it possible to treat cardiovascular disease that ---- fatal even nearly 30 years ago, given that devices ---- the functions of the heart to overcome or compensate for disease and damage. (2025 TEMMUZ YDS)
A) might have been / had regulated
B) must have been / have regulated
C) had to be / regulated
D) would have been / regulate
E) should have been / will regulate

5. For the projects of e-government in developing African countries to succeed fully, the dream of Internet access for all ---- a reality, so they must improve their telecommunications infrastructure ---- the goal of digital government. (2025 TEMMUZ YDS)
A) will become / being realised
B) may become / realising
C) could become / to be realised
D) might become / to have realised
E) has to become / to realise

6. ---- a diet based on blood type would theoretically never require change; however, because there are many medical conditions that change as a person ages, such a diet may be harmful if variations in the diet necessary for health maintenance ----. (2025 TEMMUZ YDS)
A) To follow / are not to be allowed
B) To have followed / are not allowing
C) To be following / have not been allowed
D) Having followed / have not allowed
E) Following / are not allowed

7. As the Aborigines lived in areas far from other cultures in the past, outsiders ---- unaware of their existence until they ---- into Aboriginal lands. (2025 TEMMUZ YÖKDİL SOSYAL)
A) had been / came
B) might have been / could come
C) used to be / were coming
D) were / would have come
E) must have been / had come

8. Many public sector institutions across the world ---- to e-government by functioning online, which simply ensures the transparency and reliability of information ---- to citizens. (2025 TEMMUZ YÖKDİL SOSYAL)
A) have turned / delivering
B) are turning / delivered
C) will turn / to deliver
D) had turned / to be delivered
E) were turning / being delivered

9. By the early 18th century, the developmental patterns of many organisms ----; however, there was still much disagreement about how the early stages ----. (2025 TEMMUZ YÖKDİL FEN)
A) have been observed / were progressing
B) must have been observed / would progress
C) had been observed / progressed
D) would have been observed / used to progress
E) could have been observed / should progress

10. Although researchers ---- access to an unexplored area of the Pacific Ocean after an advanced US submersible named Nereus ---- 10 kilometres underwater during a deep-sea expedition, they remain positive about the future of deep-sea explorations. (2025 TEMMUZ YÖKDİL FEN)
A) are losing / had disintegrated
B) would lose / could disintegrate
C) will lose / may have disintegrated
D) had lost / would have disintegrated
E) have lost / disintegrated

11. Prior to the advent of the X-ray and radioactive isotopes, many cancers ---- undetected because imaging techniques ---- yet. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) had grown / have not been developed
B) were growing / might not be developed
C) grew / had not been developed
D) would have grown / were not developed
E) may have grown / would not be developed

12. Although fertility ---- in the United States, it has not reached the crisis levels ---- in other parts of the world. (2025 TEMMUZ YÖKDİL SAĞLIK)
A) has been declining / experienced
B) declined / having been experienced
C) had declined / to be experienced
D) declines / to experience
E) is declining / having experienced

13. Many of the chemical controls for insects and diseases ---- the plants to which they are applied if they ----. (2024 YDT)
A) could have damaged / were misused
B) can damage / are misused
C) would have damaged / are being misused
D) will damage / had been misused
E) might have damaged / would be misused

14. By about 7000 BCE, the tools and skills of Stone Age people ---- sufficiently to enable cultivating groups ---- towns with more than 1,000 people, such as Çatalhöyük in present-day Türkiye. (2024 YDT)
A) were advancing / being supported
B) may have advanced / to have supported
C) would have advanced / supporting
D) had advanced / to support
E) advanced / to be supported

15. When ---- the bedroom, people are advised to choose colours like aqua green, baby blue, and light pink, which ---- to have a calming effect. (2024 YDT)
A) to paint / had been reported
B) painted / are reported
C) having painted / were reported
D) painting / have been reported
E) being painted / would be reported

16. There is no cure for acne as the bacteria active in acne are normal residents of the skin, but it ---- with biochemical or lifestyle changes that eliminate the conditions ---- bacterial overgrowth. (2025 MART YDS)
A) has to be lessened / being promoted
B) may be lessened / to be promoted
C) can be lessened / promoting
D) should be lessened / promoted
E) would be lessened / having promoted

17. ---- the optimum growth from a seed, it ---- at a specific depth in soil which contains a fine structure of particles. (2025 MART YDS)
A) Having achieved / should be planted
B) To achieve / must be planted
C) Achieving / could be planted
D) Having been achieved / would be planted
E) To be achieved / might be planted

18. Although nuclear power is the most efficient form of energy ---- by humankind it ---- extensively so far because of the high economic costs and safety risks. (2025 MART YDS)
A) harnessed / would not have been exploited
B) to have been harnessed / had not been exploited
C) being harnessed / will not be exploited
D) having been harnessed / may not have been exploited
E) to be harnessed / has not been exploited

19. Genetic evidence indicates that higher levels of caffeine in a person's blood ---- to lower weight, but people ---- that drinking more coffee will be a route to weight loss. (2024 KASIM YDS)
A) used to be linked / cannot assume
B) would be linked / might not assume
C) may be linked / should not assume
D) could be linked / will not assume
E) ought to be linked / must not assume

20. The Sun burst into being 4.6 billion years ago, which makes studying its early days difficult as physical material ---- from this period is scarce, but scientists have found crystals ---- deep within meteorites that indicate the Sun had a tumultuous early life. (2024 KASIM YDS)
A) remained / to have been buried
B) remaining / buried
C) to be remaining / being buried
D) to remain / having been buried
E) having remained / to be buried

21. In countries where nutritional status tends to be poor and deficiency is more common, vitamin A ---- to reduce the mortality rate of children ---- from a number of different viral infections. (2024 NİSAN YDS)
A) had been found / to suffer
B) is being found/ to have suffered
C) was found / have suffered
D) has been found / suffering
E) will be found / suffered

22. As the internationalisation of business life ---- dramatically throughout the world, new kinds of requirements ---- on employees' task performance and adjustment to other cultures. (2024 YÖKDİL)
A) had increased / would be set
B) increases / were set
C) has increased / are being set
D) was increasing / would have been set
E) increased / could have been set

23. During a supernova, the outer parts of a star ---- by a pressure wave so intense that atoms heavier than iron, such as copper and gold, ----. (2023 YDT)
A) are blasted off / can be formed
B) will be blasted off / must be formed
C) were blasted off / might be formed
D) are being blasted off / should be formed
E) are going to be blasted off / would be formed

24. Until recently, human storm chasers ---- close enough to a tornado to insert their measuring equipment by hand, but now, they ---- risk their lives for much longer thanks to the newly-developed drones. (2023 YDT)
A) used to get / must not need to
B) had to get / may not need to
C) should have got / might not need to
D) may have got / should not need to
E) must have got / could not need to

25. Icarsos are power songs ---- by the shamans during healing rituals ---- good spirits. (2023 YDT)
A) singing / attracting
B) sung / to attract
C) to sing / to have attracted
D) being sung / attract
E) sing / to be attracting

26. To appeal to our desire for lower-fat substitutes for our favourite high-fat foods, the commercial food industry ---- lower-fat versions of many foods ---- various fat substitutes. (2023 NİSAN YDS)
A) is developing / used
B) developed / to use
C) has developed / using
D) would develop / being used
E) develops / to be used

27. In dentistry, much of the work ---- preventive, administered through regular check-ups and cleaning although from time to time, dentists ---- reactive surgery, such as filling the dental cavities. (2023 NİSAN YDS)
A) is / need to perform
B) was / should perform
C) had been / must perform
D) has been / had to perform
E) would be / could have performed

28. During the 20th century, numerous technological breakthroughs in pharmaceutical therapy made it possible ---- most of the diseases that ---- millions of people each year. (2023 NİSAN YDS)
A) to be curing / would kill
B) having cured / kill
C) to cure / have killed
D) curing / killed
E) to have cured / might have killed

29. The Louvre Museum in Paris, which ---- in 1793 to display the royal art collection, ---- throughout the years as subsequent rulers increased the size of the collection. (2022 YDT)
A) had been founded / had been growing
B) has been founded / is growing
C) was being founded / grew
D) is founded / will grow
E) was founded / has grown

30. There ---- so much traffic in the air at any one time in many parts of the world that precautions ---- to prevent probable collisions. (2022 YDT)
A) had been / can be taken
B) has been / could have been taken
C) was / would have been taken
D) is / must be taken
E) will be / used to be take

31. Of all the planets ---- the Sun, Earth is the only one with an atmosphere that contains enough oxygen and the right temperatures ---- life. (2022 YDT)
A) having surrounded / supporting
B) surrounding / to support
C) to surround / to have supported
D) to have surrounded / having supported
E) to be surrounding / support

32. Since Gottfried Wilhelm Leibniz ---- many of his most powerful ideas out of his published work, the accurate understanding of his philosophy ---- to be a matter of controversy. (2022 NİSAN YDS)
A) keeps / had continued
B) was keeping / will continue
C) kept / continues
D) had kept / would continue
E) would have kept / continued

33. Various lines of evidence suggest that the composition of the Earth's atmosphere ---- considerably over the history of the Solar System and that the original atmosphere ---- denser than the present day atmosphere and dominated by carbon dioxide. (2022 NİSAN YDS)
A) was evolving / would be
B) evolves / had been
C) had been evolving / is
D) has evolved / was
E) is evolving / has been

34. New technologies ---- the visualisation of the human brain and advances in knowledge of brain and nerve cell chemistry ---- psychology tremendously. (2022 NİSAN YDS)
A) to enable / had influenced
B) enabling / have influenced
C) having enabled / influenced
D) being enabled / would have influenced
E) having been enabled / could influence

35. The moment the first stars ---- is one of the most evocative milestones in the evolution of the cosmos — it marks the beginning of the age of light, the moment when the Universe ---- recognisable to us. (2021 YDT)
A) were born / would have become
B) are being born / might become
C) had been born / will become
D) are born / should become
E) would have been born / could have become

36. Palaeontologists ---- that small mammals ---- the extinction of dinosaurs by eating their eggs; however, currently they think the rise of mammals was an effect of the demise of dinosaurs. (2021 YDT)
A) may think / could have caused
B) must think / would have caused
C) used to think / might have caused
D) had to think / should have caused
E) would think / must have caused

37. Children learn the language ---- to them and reinforce the unique features that are characteristic of the dialect ----. (2021 YDT)
A) speaking / being used
B) to be spoken / to use
C) spoken / used
D) being spoken / using
E) to speak / to be used

38. Native American tribes and nations ---- their own religions and political views long before Europeans ---- their lands. (2021 YÖKDİL SOSYAL)
A) had been developing / had been invading
B) were developing / have invaded
C) have developed / had invaded
D) developed / could have invaded
E) had developed / invaded

39. London ----- the oldest and most comprehensive subway system in the world today, and all of the city's train stations ----- by subway. (2021 YÖKDİL SOSYAL)
A) had / might be reached
B) has had / could have been reached
C) has / can be reached
D) is having / may have been reached
E) will have / must be reached

40. A seminal study ---- that people who ---- less than seven hours a night are at increased risk of mortality. (2021 NİSAN YDS)
A) revealed / will sleep
B) has revealed / sleep
C) reveals / will be sleeping
D) will reveal / have slept
E) had revealed I had been sleeping

41. Ideally, the end of the Cold War between the United States and the Soviet Union ---- a substantial lessening of security concerns in the world; however, in practice, the focus ---- to terrorism and subnational groups. (2021 NİSAN YDS)
A) might have signified / will have moved
B) would have signified / used to move
C) must have signified / had moved
D) could have signified / had been moving
E) should have signified / moved

42. The recent discovery of a toe made of wood and leather ---- to the mummied body of an Egyptian noblewoman in Cairo, approximately 3,000 years old, ---- that artificial limbs are nothing new. (2021 NİSAN YDS)
A) attached / proves
B) being attached / had proven
C) attach / has proven
D) attaching / proved
E) to be attached / used to prove

43. Recently, nutritional scientists ---- strong evidence that the eating, drinking, and exercise habits of the Mediterranean people ---- a major role in their low risk for heart disease. (2021 EKİM YDS)
A) uncover / are playing
B) are uncovering / had been playing
C) have uncovered / play
D) may uncover / have played
E) uncovered / had played

44. There are some people who ---- objects from 6 metres away with the same sharpness that a normal-sighted person ---- in to 4.5 metres to achieve. (2021 EKİM YDS)
A) may view / had to move
B) must view / could move
C) can view / would have to move
D) ought to view / should have moved
E) might view / can move

45. While many people welcome the chance ---- exotic foods or novel flavours, others do not even consider ---- foods beyond their usual repertoire. (2021 EKİM YDS)
A) to be tasting / having consumed
B) tasting / to have consumed
C) to have tasted / to be consuming
D) having tasted / to consume
E) to taste / consuming

46. In the 19-mile exclusion zone surrounding the Chernobyl power plant in Ukraine, which ---- following the 1986 reactor meltdown, plants and animals ---- now in ways they never had before. (2020 YDT)
A) used to be contaminated / thrive
B) has been contaminated / will have been thriving
C) would have been contaminated / have been thriving
D) was contaminated / are thriving
E) had been contaminated / were thriving

47. Scientists conducting research to shed light on the possible causes of several mental disorders ---- a link between lack of normal gut bacteria and brain development changes that ---- schizophrenia. (2020 YDT)
A) had observed / used to cause
B) have observed / could cause
C) will observe / should cause
D) observed / should have caused
E) are observing / had to cause

48. ---- as the main shipping route between the Indian and Pacific Oceans, Singapore ---- traders from China, India, and Europe for years. (2020 YDT)
A) To be served / had attracted
B) Being served / would be attracting
C) To serve / will have been attracting
D) Serving / has been attracting
E) Served / was attracting

49. So far, only two types of mental exertion ---- to improve overall cognitive ability: one is musical training, the other is learning a new language or practising a second one you ----. (2020 EYLÜL YDS)
A) were shown / will have already learned
B) had been shown / have already been learning
C) have been shown / have already learned
D) will be shown / already learned
E) are shown / had already learned

50. If an age could ever be rightly described as 'dark' in European history, it ---- the two centuries that ---- the collapse of Roman authority in Britain at the beginning of the fifth century. (2020 EYLÜL YDS)
A) may be / follow
B) would be / followed
C) used to be / had followeda
D) must be / have followed
E) had to be / were following

51. Wall paintings previously ---- in three Spanish caves have now been dated to 65,000 years ago - some 20,000 years before Homo sapiens is thought ---- in Europe. (2020 EYLÜL YDS)
A) to have been discovered / to arrive
B) being discovered / having arrived
C) discovered / to have arrived
D) having been discovered / to be arriving
E) to be discovered / arriving

52. Implantation of the embryo is a milestone in human development as it is from this stage onwards that the embryo ---- to take shape and the overall body plan ----. (2019 YDT)
A) began / had been decided
B) begins / is decided
C) had begun / will be decided
D) will begin / was decided
E) is beginning / has been decided

53. Even though the theory of dualism ----, many people still cling to the idea that consciousness ---- outside of the body. (2019 YDT)
A) has been disproven / can exist
B) was disproven / could exist
C) is disproven / had to exist
D) had been disproven / should have existed
E) will be disproven / must have existed

54. The Great Barrier Reef is one of the longest reefs in the world, ---- more than 2000 kilometres along the northeastern coast of Australia. (2019 YDT)
A) to have extended
B) to extend
C) having been extended
D) extending
E) having extended

55. In its early stage of development, ecotourism ---- as completely new concept; however, today, it ---- a significant portion of the tourism industry in general. (2019 YDS İLKBAHAR)
A) was going to be regarded / is becoming
B) had been regarded / will become
C) was being regarded / is going to become
D) was regarded / has become
E) has been regarded / becomes

56. As two-thirds of homes in the US owned radio receivers by the end of the 1920s, people no longer ---- to a concert, play, or sporting event to be entertained; instead, they ---- many forms of entertainment from the comfort of their homes. (2019 YDS İLKBAHAR)
A) should have gone / must have enjoyed
B) may go / were able to enjoy
C) used to go / may have enjoyed
D) had to go / could enjoy
E) would go / ought to have enjoyed

57. Humanity's extraordinary success ---- due to our ingenuity in devising cultural means ---- our physical limitations. (2019 YDS İLKBAHAR)
A) has been / to overcome
B) was / having overcome
C) had been / overcoming
D) is / overcome
E) will be / to have overcome

58. In its early stage of development, ecotourism ---- as completely new concept; however, today, it ---- a significant portion of the tourism industry in general. (2019 YDS İLKBAHAR)
A) was going to be regarded / is becoming
B) had been regarded / will become
C) was being regarded / is going to become
D) was regarded / has become
E) has been regarded / becomes

59. As two-thirds of homes in the US owned radio receivers by the end of the 1920s, people no longer ---- to a concert, play, or sporting event to be entertained; instead, they ---- many forms of entertainment from the comfort of their homes. (2019 YDS İLKBAHAR)
A) should have gone / must have enjoyed
B) may go / were able to enjoy
C) used to go / may have enjoyed
D) had to go / could enjoy
E) would go / ought to have enjoyed

60. For the first time, doctors ---- that temporarily opening the protective barrier of the human brain ---- to boost the delivery of cancer medication to brain tumours. (2019 YDS SONBAHAR)
A) are showing / helped
B) have shown / helps
C) showed / is helping
D) will have shown / was helping
E) will be showing / has been helping

61. The Martian atmosphere is so thin, and the planet's temperature so low that liquid water ---- there, and if it ever did in the past, conditions ---- very different. (2019 YDS SONBAHAR)
A) might not have existed / were to be
B) could not exist / may be
C) would not exist /can be
D) cannot exist / must have been
E) must not exist / should have been

62. A tsunami damaged emergency generators that ---- power to keep the nuclear reactors at Fukushima in japan cool; however, the earthquake ---- to the tsunami also caused the cooling systems to fail. (2019 YDS SONBAHAR)
A) should provide / to lead
B) could have provided / to have led
C) would have provided / leading
D) must have provided / having led
E) might provide / led

63. Although simple games ---- available on mainframe computers in the years after the Second World War, their widespread adoption ---- until the emergence of personal computers. (2018 YDT)
A) were going to be / could wait
B) had been / should have waited
C) were / had to wait
D) used to be / would have waited
E) would have been / must have waited

64. The rapid disappearance of Arctic ice ---- the use of an undersea Internet cable, ---- a shorter path between Europe and Asia. (2018 YDT)
A) can enable / to be created
B) must enable / being created
C) would enable / to have created
D) may enable / creating
E) enable / to be creating

65. The first woman to cycle around the world was the Latvian-American Annie Kopchovsky who ---- financial sponsorship in return for ---- an advertised placard on her bike. (2018 YDT)
A) had received / to be hung
B) was receiving / to hang
C) has been receiving / being hung
D) received / hanging
E) would receive / having hung

66. A number of studies have concluded that a given level of carbon dioxide in the atmosphere ---- less warming than previously ----. (2018 YDS İLKBAHAR)
A) is producing / to think
B) has produced / thinking
C) produces / thought
D) has been producing / having thought
E) had produced / being thought

67. Anyone who ---- unusual reactions to antihistamines (medicines that relieve or prevent the symptoms of some kinds of allergy) in the recent past --- his or her physician know before taking the drugs again. (2018 YDS İLKBAHAR)
A) used to have / might let
B) had had / must have let
C) was having / could let
D) has had / should let
E) had / might have let

68. By 2.5 million years ago, when they began ---- stone tools, early humans had understood that they ---- the natural world to their own advantage. (2018 YDS İLKBAHAR)
A) to have made / had to alter
B) to make / used to alter
C) making / could alter
D) having made / should have altered
E) to have been making / must have altered

69. For a long time, scientists ---- aware that the Earth's atmosphere is not static, but is in constant motion, producing areas of ever-changing pressure around the globe, but from 1700 onward, scientists ---- to discover how and why large-scale atmospheric movements occur. (2018 YDS SONBAHAR)
A) had been / have begun
B) would have been / had begun
C) have been / began
D) would be / were beginning
E) were / would have begun

70. Science ---- our every question, but it ---- humanity's best tool yet for tackling our greatest challenges. (2018 YDS SONBAHAR)
A) may not answer / had remained
B) must not answer / has remained
C) should not answer / will remain
D) cannot answer / remained
E) might not answer / remains

71. Five of the Solomon Islands ---- whole by rising sea levels, ---- a glimpse into the future of other low-lying nations, such as the Netherlands and Italy. (2018 YDS SONBAHAR)
A) are being swallowed / having offered
B) had been swallowed / being offered
C) will be swallowed / having been offered
D) were swallowed / offered
E) have been swallowed / offering

72. In recent years, linguists ---- whether the homogenising effects of TV, film, and the Internet ---- to eliminate many so-called regionalisms in the language in the US. (2018 YDS SONBAHAR)
A) ponder / were beginning
B) have pondered / have begun
C) have been pondering / will have begun
D) are pondering / will be beginning
E) pondered / will begin

73. From asteroid strike to nuclear war, humanity ---- all kinds of existential threats, yet, if humankind disappeared tomorrow, nobody knows what kind of planet we ---- behind. (2018 YDS SONBAHAR)
A) faced / should be leaving
B) has faced / would be leaving
C) had faced / may be leaving
D) is facing / have to be leaving
E) faces / must be leaving

74. After ---- victorious from World War I, structural problems and massive debt plunged Great Britain into an economic crisis that ---- into the middle of the 1930s. (2018 YDS SONBAHAR)
A) to emerge / was lasting
B) having been emerged / has lasted
C) having emerged / would have lasted
D) emerging / lasted
E) being emerged / had lasted

75. For years it ---- that life ---- below a certain depth or above a certain heat. (2017 YDT)
A) will be thought / might not exist
B) is thought / cannot exist
C) was thought / could not exist
D) has been thought / should not exist
E) had been thought / would not have existed

76. ---- by a Roman-Goth coalition in Gaul in 452 AD, the Huns, led by King Attila, invaded northern Italy, ---- Padua and Verona. (2017 YDT)
A) Having been defeated / attacking
B) To have been defeated / being attacked
C) To defeat / having attacked
D) Defeating / to have attacked
E) Being defeated / to be attacked

77. New research ---- that mother monkeys ---- to other females to help share the burden of raising increasingly dependent offspring. (2017 YDS İLKBAHAR)
A) had suggested / were turning
B) suggests / had turned
C) suggested / have turned
D) has suggested / turn
E) will suggest / are turning

78. Patients with implants or electronic devices put inside their bodies ---- using magnetic resonance imaging (MRI) because the machine's magnet ---- these objects within the body, causing damage. (2017 YDS İLKBAHAR)
A) should not be examined / must move
B) could not be examined / had to move
C) may not be examined / used to move
D) cannot be examined / could move
E) must not be examined / ought to move

79. In the age of steam, with new railroads ---- across Europe and the US, engineers began ---- even more applications for the steam engine. (2017 YDS İLKBAHAR)
A) to spread / finding
B) having spread / to have found
C) spreading / to find
D) to have spread / find
E) spread / having found

80. In 1517, the Italian physician Girolamo Fracastoro was probably the first person ---- that fossils are animal remains; however, it was not until the 18th century that scientists ---- to realise that fossils can tell us a great deal about the history of living things. (2017 YDS SONBAHAR)
A) suggesting / had begun
B) being suggested / were beginning
C) to have suggested / have begun
D) to suggest / began
E) having suggested / were going to begin

81. The technological advancements that once made nations prosperous, such as the internal combustion engine, ---- to shatter empires during the First World War, on a scale few people ---- before the outbreak of the war. (2017 YDS SONBAHAR)
A) had been used / should have imagined
B) should have been used / used to imagine
C) would have been used / might have imagined
D) were used / could have imagined
E) must have been used / can imagine

82. Humans ---- 43 percent of the Earth's surface from its natural state radically, far greater than the smaller changes that ---- trigger the last great planetary shift during the ice ages. (2016 YDT)
A) would alter / have helped
B) had altered / help
C) have altered / helped
D) alter / will help
E) will alter / had helped

83. Today, enormous amounts of information ---- around the globe almost instantaneously in a way that ---- possible a few years ago. (2016 YDT)
A) used to be distributed / might not have been
B) had to be distributed / may not have been
C) must be distributed / should not have been
D) can be distributed / could not have been
E) would be distributed / must not have been

84. ---- as a temple in the 2nd century AD, the Pantheon in Rome ---- famed for its dome, one of the largest ones in the world. (2016 YDT)
A) Having created / was
B) Created / is
C) Creating / has been
D) To be created / could be
E) Being created / should have been

85. With the development of agriculture, humans ---- to transform more and more extensively the environments in which they ----. (2016 YDS İLKBAHAR)
A) had begun / had been living
B) are beginning / were living
C) began / lived
D) have begun / were going to live
E) would begin / have been living

86. Any student who ---- four years in high school or college attempting to learn a second language ---- the struggle of trying to memorize vocabulary, verb conjugation or tenses. (2016 YDS İLKBAHAR)
A) was spending / had to appreciate
B) spends / has to appreciate
C) had spent / should have appreciated
D) has spent / can appreciate
E) is spending / used to appreciate

87. For many consumers from all over the world, the Internet is the first place ---- for useful information that ---- them about what they buy. (2016 YDS İLKBAHAR)
A) to look / will inform
B) looking / has informed
C) to have looked / informs
D) to be looking / is informing
E) having looked / will have informed

88. Although Immanuel Kant, one of the greatest thinkers in the history of philosophy, ---- many pieces of technical terminology to articulate the themes of his critical philosophy, perhaps none ---- more pervasive than a priori. (2016 YDS SONBAHAR)
A) was introducing / was
B) introduced / is
C) had introduced / had been
D) used to introduce / has been
E) had been introducing / would be

89. In cultures that ---- up to more recent times, we ---- further clues to past beliefs. (2016 YDS SONBAHAR)
A) will survive / need to find
B) had survived / could find
C) survived / would find
D) survive / used to find
E) have survived / may find

90. The Internet provides a platform which enables new products ---- more rapidly since it is possible ---- new ideas and concepts through online research. (2016 YDS SONBAHAR)
A) being developed / testing
B) to develop / to have tested
C) developing / to be tested
D) to be developed / to test
E) having developed / being tested

91. During his days as a graduate student in clinical psychology in the late 1960s, Daniel Goleman knew two women who ---- from eating disorders, though he realized this only after many years ----. (2015 YDT)
A) were suffering / were passing
B) would have suffered / have passed
C) were to suffer / would be passing
D) suffered / had passed
E) had suffered / had been passing

92. The body ---- itself from infections, but if it responds too slowly, it ----. (2015 YDT)
A) may defend / would not have survived
B) should defend / could not have survived
C) must defend / might not have survived
D) had to defend / cannot survive
E) can defend / may not survive

93. Disease or injury ---- nerves from sending appropriate signals or force them ---- inappropriate ones. (2015 YDT)
A) should prevent / being sent
B) might prevent / to have sent
C) could prevent / sending
D) must prevent / having sent
E) may prevent / to send

94. It ---- fourteen years since his last feature film, Ryan's Daughter, when David Lean ---- to filmmaking with his 1984 adaptation of E. M. Forster's celebrated novel, A Passage to India. (2015 YDS İLKBAHAR)
A) had been / returned
B) has been / had returned
C) was / returns
D) will be / would return
E) is / has returned

95. Behind every architectural masterpiece ---- a brand new technology without which these structures ---- a few years ago. (2015 YDS İLKBAHAR)
A) has been / did not have to be built
B) is / could not have been built
C) had been / would not have been built
D) was / need not have been built
E) will be / should not have been built

96. Philosophy did not play a large part in Roman culture, other than Stoicism, which ---- by the Romans for its emphasis on virtuous conduct and ---- one's duty. (2015 YDS İLKBAHAR)
A) is to be admired / to have done
B) is admired / to do
C) had been admired / having done
D) was admired / doing
E) could be admired / being done
`;
const rawExamTenseA = `1-C 2-D 3-D 4-D 5-E 6-E 7-A 8-B 9-C 10-E 11-C 12-A 13-B 14-D 15-D 16-C 17-B 18-E 19-C 20-B 21-D 22-C 23-A 24-B 25-B 26-C 27-A 28-C 29-E 30-D 31-B 32-C 33-D 34-B 35-A 36-C 37-C 38-E 39-C 40-B 41-E 42-A 43-C 44-C 45-E 46-D 47-B 48-D 49-C 50-B
51-C 52-B 53-A 54-D 55-D 56-D 57-A 58-D 59-D 60-B 61-D 62-C 63-C 64-D 65-D 66-C 67-D 68-C 69-C 70-E 71-E 72-B 73-B 74-D 75-C 76-A 77-D 78-D 79-C 80-D 81-D 82-C 83-D 84-B 85-C 86-D 87-A 88-B 89-E 91-D 92-E 93-E 94-A 95-B 96-D`;

// --- 4. ÇIKMIŞ KELİME (184 Soru) ---
const rawExamVocabQ = `
1. While horses were at times a major meat source on the Eurasian steppe, in most of Europe their ---- appears to have been based primarily on their role in transport as well as their wealth and status value. (2025 TEMMUZ YDS)
A) depletion
B) resemblance
C) adoption
D) complexity
E) restriction

2. Although the Greeks listed notable points on coastal voyages, the ---- of equivalent documents for land travel was primarily a Roman development stemming from construction of roads along which milestones were placed. (2025 TEMMUZ YDS)
A) disposal
B) deduction
C) abolition
D) compilation
E) absence

3. Supplements of biotin may strengthen hair, stimulate new hair growth, slow hair loss, and prevent greying, particularly in those who are ---- in this nutrient. (2025 TEMMUZ YDS)
A) deficient
B) redundant
C) accomplished
D) cautious
E) relieved

4. Because of the diverse interests of college students, the range of extracurricular activities varies ---- depending upon the size and type of college. (2025 TEMMUZ YDS)
A) extensively
B) accurately
C) strictly
D) instantaneously
E) notoriously

5. Some changes to our nails can be harmless, but some can signal health issues, which is why it is important to know what might ---- medical attention. (2025 TEMMUZ YDS)
A) exclude
B) hinder
C) conspire
D) strive
E) warrant

6. Cellulose and other complex food constituents that are not susceptible to digestion by the animal's own digestive enzymes are ---- digestible end-products by bacterial fermentation. (2025 TEMMUZ YDS)
A) found out
B) converted into
C) identified with
D) thrust on
E) ranged against

7. The increasingly global relationships of technology and societies over the course of the 20th century had numerous ----; many aspects of life became technology-driven and technological innovations sparked cultural developments and social change. (2025 MART YDS)
A) compulsions
B) exceptions
C) fluctuations
D) fallacies
E) ramifications

8. In the late 20th century, many governments in Southeast Asia were reluctant to welcome the arrival of Japanese corporations investing in their economies as they were wary of giving away economic ---- to these corporations unwilling to integrate local people into the management structure. (2025 MART YDS)
A) accuracy
B) delicacy
C) adversity
D) deviancy
E) sovereignty

9. When archaeologists discovered that Ötzi, the 5,300-year-old mummy found on an Alpine glacier, had not died in a natural way, his death became a ---- issue as new theories and evidence emerged as to who might have murdered him. (2025 MART YDS)
A) restrictive
B) contentious
C) prompt
D) dispensable
E) conventional

10. Every year, thousands of high school graduates from all over the world compete to enter Harvard University, having ---- hundreds of hours of their time to achieve their dream. (2025 MART YDS)
A) sacrificed
B) alleviated
C) prolonged
D) earned
E) yielded

11. Compulsive hoarding consists of three components: acquiring a large number of possessions, storing of items, and keeping them in such a way that it ---- daily living, with possible severe neglect of living space. (2025 MART YDS)
A) wards off
B) conforms to
C) interferes with
D) brings in
E) seeks out

12. Britain is well endowed with minerals, particularly lead, iron, and coal, and the widespread ---- of these minerals is one of the reasons why Britain was the home of the Industrial Revolution. (2025 YDT)
A) accuracy
B) urgency
C) delicacy
D) availability
E) severity

13. From digital supply networks to data-driven personalised medicine, technological advances are giving rise to ---- opportunities for innovation and growth. (2025 YDT)
A) unfeasible
B) irreversible
C) unprecedented
D) inconsistent
E) unsustainable

14. Creativity is a complex process that has not been ---- understood yet, but it can be simply defined as the ability to produce original ideas in order to improve a work or situation. (2025 YDT)
A) thoroughly
B) deniably
C) compulsorly
D) adversely
E) scarcely

15. Proper nutrition and good medical care, especially during the first year of life, significantly ---- an infant's cognitive and physical development. (2025 YDT)
A) constrain
B) exploit
C) enhance
D) overcome
E) scatter

16. Whale sharks, the world's largest fish, are regarded as a vulnerable species as their population has been falling dramatically, which ---- strict environmental regulation for their protection. (2025 YDT)
A) turns down
B) calls for
C) wards off
D) deviates from
E) prevails over

17. While commonality was once popular, more and more people are now seeking diversity in personal preferences, so consumerism is no longer about rigid ---- to the taste of the general public but about constantly updated individualism. (2024 KASIM YDS)
A) resolution
B) exception
C) alteration
D) entitlement
E) adherence

18. Many companies seek out employees who agree with their moral standards, and in order to keep such employees, they are paying more attention to the way they treat their workforce, including the ---- they provide for improving performance. (2024 KASIM YDS)
A) inclinations
B) oddities
C) incentives
D) ramifications
E) constraints

19. Some sociologists suggest that cultural identity is such an ---- concept that it is hard to precisely define; rather, they prefer to list cultural elements unique to a particular society. (2024 KASIM YDS)
A) ambiguous
B) overt
C) intuitive
D) abrupt
E) incessant

20. The social benefits of technologies are ---- distributed across the United States as there are still rural communities and individuals with disabilities facing out-of-reach costs or lacking access to products that meet their needs. (2024 KASIM YDS)
A) undeniably
B) invariably
C) unevenly
D) irreversibly
E) inseparably

21. Environmental monitoring, which is often carried out to promote the sustainability of marine or terrestrial wildlife, has ---- public understanding of the relation between people and the environment. (2024 KASIM YDS)
A) retained
B) exceeded
C) enhanced
D) mitigated
E) fulfilled

22. As people feel more secure and knowledgeable when they become a member of a group, they often tend to adjust their behaviours in order to ---- the norms of the group. (2024 KASIM YDS)
A) bargain for
B) interfere with
C) call for
D) descend from
E) align with

23. Some estimates of children in underdeveloped countries suggest that malnutrition contributes to approximately half of all child deaths because it leads to ---- of bodily functions, thus increasing susceptibility to diseases. (2024 NİSAN YDS)
A) implication
B) enforcement
C) deterioration
D) exploitation
E) refinement

24. The Industrial Revolution, which was based on the harnessing of inanimate sources of power, proved to be the biggest catalyst in the ---- of production growth and technological innovations in the late 18th and 19th centuries. (2024 NİSAN YDS)
A) alleviation
B) resolution
C) segregation
D) exhaustion
E) acceleration

25. One question that has not yet been answered concerning Internet addiction is whether it is a ---- type of addiction or simply an instance of a new technology being used to support other addictions. (2024 NİSAN YDS)
A) restricted
B) sustainable
C) convenient
D) distinctive
E) constructive

26. Where nutrient material favourable to plant growth is supplied to a lake in large amounts, aquatic plants may grow so ---- that the entire lake may become choked with organic debris. (2024 NİSAN YDS)
A) abundantly
B) conclusively
C) superficially
D) delicately
E) eccentrically

27. Psychologists believe friendships ---- many different types of associations, from casual relationships to more intimate, collaborative, and enduring bonds. (2024 NİSAN YDS)
A) comprise
B) dispel
C) constrain
D) contend
E) allocate

28. Such nutrients as beta-carotene, vitamin C, folic acid, and vitamin E boost the immune system and the intestinal immune cells to ---- attacks to the body. (2024 NİSAN YDS)
A) speed up
B) hand out
C) get on
D) ward off
E) pin down

29. While most synthetic vitamins are just as useful as the natural forms, controversy has arisen over the ---- of synthetic versus natural forms of vitamin E. (2024 YDT)
A) adjustment
B) vulnerability
C) efficacy
D) severity
E) inspection

30. The problem of evaluating new biomedical technologies and their relationship both to individuals and to society is ---- as technology comes evermore to dominate the biological lives of humans. (2024 YDT)
A) inferior
B) accessible
C) sustainable
D) crucial
E) appropriate

31. Animation is the rapid display of a sequence of images, each ---- different from the last, to give the illusion of motion. (2024 YDT)
A) notoriously
B) slightly
C) coincidentally
D) arguably
E) adversely

32. With the knowledge that surface and ground waters are resources that can be overused, farmers are paying attention to the methods of conserving and reusing water while ---- the growth of their crops. (2024 YDT)
A) transmitting
B) surrendering
C) admitting
D) installing
E) maintaining

33. There is no single person ---- inventing the bicycle since many people independently developed models throughout history that would lead to the creation of bicycle as it is known today. (2024 YDT)
A) exposed to
B) derived from
C) credited with
D) deprived of
E) counted against

34. Modern understanding of the structure of Earth is derived in large part from the ---- of seismic studies that examine various features in Earth's interior. (2023 EKİM YDS)
A) extraction
B) mitigation
C) alteration
D) interpretation
E) compensation

35. A geneticist can calculate with remarkable ---- the likelihood of certain traits passing from parents to offspring, and such calculations accommodate the potential combinations that can arise from each parent's genotype. (2023 EKİM YDS)
A) adversity
B) abstention
C) accuracy
D) alleviation
E) acquisition

36. The digital age has provided an ---- richness of new sources of information, diversity of views, and a variety of perspectives that cannot be obstructed by geographic or political barriers. (2023 EKİM YDS)
A) inaccessible
B) unattainable
C) unprecedented
D) impermissible
E) unresolved

37. Although climate change is a global phenomenon, its consequences will not be ---- distributed; scientists agree that developing countries will be the first and hardest hit. (2023 EKİM YDS)
A) promptly
B) severely
C) explicitly
D) evenly
E) productively

38. The world-famous explorer Marco Polo is credited with many things, but perhaps the greatest one is ---- one of the world's first best-selling travelogues. (2023 EKİM YDS)
A) hindering
B) validating
C) alienating
D) compiling
E) predicting

39. The belief that individuals have virtually unlimited potential for growth is particularly attractive to educators seeking to ---- the best that adult learners can achieve. (2023 EKİM YDS)
A) bring out
B) call off
C) get over
D) interfere with
E) pass down

40. The ---- of chocolate with romance is probably responsible for the creation of boxes in the shape of hearts, filled with chocolates, being the gift of choice for lovers every Valentine's Day. (2023 NİSAN YDS)
A) enrichment
B) association
C) proposal
D) advent
E) resolution

41. A mere 7 percent of the world's oceans has any protection — mostly weak rules, with multiple exceptions — and only 2.5 percent is highly protected from ----. (2023 NİSAN YDS)
A) exploitation
B) diversion
C) fragmentation
D) distinction
E) supervision

42. Because some African proverbs are often ---- to listeners unfamiliar with African cultures, they are sometimes used as a secretive type of language to keep outsiders from understanding. (2023 NİSAN YDS)
A) undeniable
B) irreversible
C) inconsistent
D) unintelligible
E) insufficient

43. Today we take the appearance of dinosaurs for granted, but it has taken centuries of careful study to learn how to ---- read the clues in the fossil record. (2023 NİSAN YDS)
A) disputably
B) incidentally
C) reluctantly
D) accurately
E) implicitly

44. Among the problems stemming from space activity, 'space junk' is a growing concern as disused satellites and other objects ---- in our planet's orbit. (2023 NİSAN YDS)
A) perpetuate
B) overtake
C) accumulate
D) facilitate
E) precede

45. Chlorophylls are complex molecules exquisitely suited to the light absorption, energy transfer, and electron transfer functions that they ---- in photosynthesis. (2023 NİSAN YDS)
A) pull down
B) carry out
C) take up
D) draw up
E) get off

46. Scientists believe an asteroid struck the planet Earth off Mexico's Yucatán Peninsula some 65 million years ago, bringing about the ---- of almost 50 percent of the plant species then living on Earth. (2023 YDT)
A) extinction
B) identification
C) differentiation
D) invasion
E) exhibition

47. The influence of ancient Greek civilisation, art and architecture, which were passed on by the Romans, is still ---- all around us. (2023 YDT)
A) abrupt
B) reasonable
C) competitive
D) visible
E) confidential

48. While toys today are ---- associated with children, historically, toys were the province of adults and were only gradually passed on to the young. (2023 YDT)
A) separately
B) consecutively
C) widely
D) slightly
E) arbitrarily

49. Cognitive and behavioural changes after a stroke are common yet often ---- because their effects may be subtle. (2023 YDT)
A) overlooked
B) identified
C) avoided
D) estimated
E) examined

50. It is important to have big goals, but we need to ---- these goals into small, measurable pieces, or milestones, making them easier to handle and achieve. (2023 YDT)
A) break down
B) reflect on
C) pull through
D) cut off
E) put off

51. Research suggests that people with diabetes who make relaxation techniques part of their usual routine experience significant ---- in their blood sugar levels. (2022 NİSAN YDS)
A) entanglements
B) improvements
C) references
D) deformities
E) obstructions

52. According to Piaget, an infant's initial knowledge is limited to innate reflexes and is combined with an ---- to actively use and adapt these reflexes as a result of repeated interactions with objects. (2022 NİSAN YDS)
A) assertion
B) equivalent
C) inclination
D) ambiguity
E) estimation

53. Cortisol, a hormone that increases in response to stress, contributes to the fight-or-flight reflex that helps the body to respond to ---- situations. (2022 NİSAN YDS)
A) explicable
B) challenging
C) reversible
D) fulfilling
E) superfluous

54. An electric conductor is any material that can ---- conduct electricity, such as a metal, ionic solution, or ionised gas. (2022 NİSAN YDS)
A) adversely
B) innately
C) devastatingly
D) efficiently
E) accidentally

55. Sinkholes are natural, circular depressions that form when water erodes easily dissolved or soluble rock located beneath the ground surface, but they are also ---- by human activities. (2022 NİSAN YDS)
A) hindered
B) suppressed
C) induced
D) violated
E) evacuated

56. Like the Romans, the Aztec were a warlike people who founded a great empire and who ---- knowledge of other peoples to further their civilisation. (2022 NİSAN YDS)
A) pulled through
B) drew on
C) called off
D) rushed into
E) turned down

57. Fairly accurate meteorological ---- are often made by looking at the shape of clouds and watching how they change. (2022 YDT)
A) causes
B) predictions
C) speculations
D) inclusions
E) expansions

58. The food industry, encompassing businesses that produce, package, prepare, and serve foods and beverages, brings us a food supply which is ---- and readily available. (2022 YDT)
A) decisive
B) abundant
C) obsolete
D) futile
E) implicit

59. Although children's literature is intended ---- for children, it is more accurate to view such texts as having dual audiences of children and adults. (2022 YDT)
A) tightly
B) primarily
C) vividly
D) allegedly
E) divisively

60. As their pregnancy ----, most women become increasingly short of breath because of the effect of the hormone progesterone on the central breathing system. (2022 YDT)
A) expands
B) progresses
C) persuades
D) differs
E) boosts

61. World War II was a catastrophic event that was by far the most deadly and destructive war in human history as it raged on for almost six years in Europe and ---- the death of millions of civilians. (2022 YDT)
A) resulted in
B) stemmed from
C) took over
D) turned into
E) amounted to

62. Attaining ---- in the current job is a basic career strategy, given that organisations make promotion decisions, at least in part, on an employee's present performance. (2021 EKİM YDS)
A) assurance
B) competence
C) balance
D) recession
E) insurance

63. Despite its being a remote and harsh environment, there is ---- about ownership of the North Pole as there could be rich natural resources beneath the ice. (2021 EKİM YDS)
A) discrimination
B) substitution
C) exposure
D) controversy
E) neglect

64. The reasons for an urban climate are heat storage, trapping of radiation, increasing roughness and less evaporation, which are seen in cities worldwide but are most ---- in densely built up megacities. (2021 EKİM YDS)
A) evident
B) arbitrary
C) convenient
D) constructive
E) mediocre

65. The population of koalas dropped ---- during the early part of the 20th century because they were over-hunted for their fur. (2021 EKİM YDS)
A) strictly
B) drastically
C) cautiously
D) ardently
E) merely

66. When neurological issues like aphasia and dyslexia arise, they often ---- themselves in the things we say and how we say them. (2021 EKİM YDS)
A) alienate
B) improve
C) manifest
D) diminish
E) receive

67. When you cook meat, a chemical reaction turns creatine into a group of compounds called heterocyclic amines and there is some evidence that these compounds ---- cancer in high concentrations. (2021 EKİM YDS)
A) rely on
B) break into
C) pass for
D) call off
E) lead to

68. The most powerful ---- to parachuting is fear, but one should also take its high cost into account, as a total outfit for parachuting can be extremely expensive. (2021 NİSAN YDS)
A) resemblance
B) adjustment
C) deterrent
D) submission
E) adherence

69. Peanut may very well be the most common food allergy in some populations but the ---- of a particular food allergy varies according to age and group. (2021 NİSAN YDS)
A) utilisation
B) withdrawal
C) precaution
D) termination
E) prevalence

70. Since the mid-20th century, plastic pollution has increased ----, and resulting pollution has become a global environmental issue. (2021 NİSAN YDS)
A) exponentially
B) conveniently
C) alternatively
D) precisely
E) fruitfully

71. The most basic path to computer literacy is to ---- competence in using computers to perform personal or vocational tasks. (2021 NİSAN YDS)
A) exclude
B) relieve
C) deteriorate
D) restrict
E) attain

72. The achievements of Sherlock Holmes, the most famous fictional detective in history, derive from his ---- to balance the physical evidence of a case with the more challenging subjective truths into a single coherent judgement. (2021 YDT)
A) capability
B) prejudice
C) deception
D) resistance
E) nomination

73. In 1558, Queen Mary I of England was persuaded by her husband, King Philip II of Spain, to join him in a renewed war with France, which proved ---- for England as it led to the loss of Calais, England's last foothold in continental Europe. (2021 YDT)
A) compatible
B) vulnerable
C) predictable
D) disastrous
E) indicative

74. Governments around the world, in partnership with civil society, must continue to act ---- against the tobacco epidemic — the leading global cause of preventable death. (2021 YDT)
A) deficiently
B) decisively
C) suspiciously
D) adversely
E) roughly

75. The term 'Geography' formally applies to an academic discipline that ---- the study of the Earth's surface, its inhabitants, and more recently, its environment. (2021 YDT)
A) attaches
B) occupies
C) considers
D) inhabits
E) encompasses

76. Serotonin is responsible for maintaining appetite, sleep, and mood balance, but a deficit of it ---- depression. (2021 YDT)
A) brings about
B) takes over
C) keeps on
D) turns down
E) gives off

77. Twenty-five hundred years ago, ancient Greek philosophers turned their highly sophisticated ---- away from the whims of the gods and toward questions of the natural world. (2020 EYLÜL YDS)
A) inquiries
B) fallacies
C) incentives
D) complaints
E) precautions

78. The mission control experts cannot tell if the space junk is going to hit the space station or not, but they are sure that a ---- would knock hole in the body and cause all air inside it to quickly escape into space. (2020 EYLÜL YDS)
A) succession
B) collision
C) conversion
D) fluctuation
E) deviation

79. While newspapers have been in dramatic decline in much of the developed West, the industry is ---- and still growing in many of Asia's booming cities. (2020 EYLÜL YDS)
A) fragile
B) profitable
C) confidential
D) peculiar
E) notorious

80. As the DNA of two unrelated people only differs by about one in every 1,000 base pairs, humans show ---- little genetic diversity. (2020 EYLÜL YDS)
A) remarkably
B) elaborately
C) ambiguously
D) sufficiently
E) promptly

81. Biologists have created a molecule that ---- the connections between brain cells, called neurons, acting exactly like the steel bars in reinforced concrete. (2020 EYLÜL YDS)
A) penetrates
B) overcomes
C) implements
D) fortifies
E) receives

82. Internet users are increasingly ---- cyberchondria, a mental condition in which easy access to information on medical issues causes increased feelings of anxiety over health. (2020 EYLÜL YDS)
A) making up for
B) cutting down on
C) getting away with
D) looking around for
E) coming down with

83. Although considering how someone may react to a situation can be worthwhile, making ---- about another person's behaviour may lead you to the wrong conclusions. (2020 YDT)
A) promises
B) assumptions
C) mistakes
D) priorities
E) compliments

84. By the time psychology came into its own as an ---- discipline after separating from philosophy, the scientific revolution was two centuries old. (2020 YDT)
A) offensive
B) artificial
C) inadequate
D) independent
E) outdated

85. ----, the Universe was too energetic for stars to form, but as it expanded and cooled, it became possible for gravity to form clumps of gas. (2020 YDT)
A) Initially
B) Frankly
C) Virtually
D) Ultimately
E) Merely

86. Mobile learning, the role of which in education is becoming quite important, is often applied outside classrooms to ---- the learning that takes place inside classrooms. (2020 YDT)
A) enhance
B) insist
C) require
D) suspect
E) provide

87. In wealthier parts of the world, heart disease and strokes ---- over a quarter of deaths and there are many factors at play, with conventional wisdom identifying cholesterol as one of the biggest offenders. (2020 YDT)
A) rest on
B) go through
C) account for
D) bring down
E) stem from

88. Within our solar system, the planet Mars almost certainly had a surface ocean in the past and may still have ---- of it underground. (2019 ARALIK YDS)
A) remnants
B) attractions
C) adjustments
D) precautions
E) illustrations

89. The fact is that, right now, the Sumatran tiger faces a number of very serious threats, which are putting their very survival in ----. (2019 ARALIK YDS)
A) extension
B) resistance
C) jeopardy
D) distinction
E) corruption

90. The importance of numbers in Chinese design stems from the ---- influence of the harmonious principles of ying and yang, repeatedly seen in architectural designs. (2019 ARALIK YDS)
A) pervasive
B) restraining
C) insignificant
D) disruptive
E) dampening

91. The most sophisticated of Cook Islands handicrafts are considered to be tivaevae: brightly coloured, ---- embroidered ceremonial cloths, which require a great number of months to make. (2019 ARALIK YDS)
A) tediously
B) intricately
C) persistently
D) incidentally
E) objectively

92. Starting in 1640, Evliya Celebi began a career of travel into the far reaches of the Ottoman Empire, which at that time ---- from Hungary in the north to Egypt and Sudan in the south. (2019 ARALIK YDS)
A) wandered
B) escalated
C) stretched
D) emigrated
E) circulated

93. Assimilation is a voluntary or involuntary process by which individuals or groups completely ---- the traits of another culture, leaving their original cultural and linguistic identities behind. (2019 ARALIK YDS)
A) break into
B) put away
C) make out
D) take on
E) bring about

94. Research has found that the typical brain is a 'mosaic' combining some features that are more common in males and some that appear more frequently in females, pointing to the ---- that human brains do not belong to two distinct types categorised by gender. (2019 EYLÜL YDS)
A) violation
B) conclusion
C) development
D) compulsion
E) temptation

95. Many scientists and research advocates contend that animal experiments are crucial for learning about basic biology and disease mechanisms, and are necessary for testing the ---- of new medicines. (2019 EYLÜL YDS)
A) scarcity
B) urgency
C) ambiguity
D) efficacy
E) uniformity

96. Human accomplishments ---- our ability to acquire knowledge from others and to use that communal store of experience to devise novel solutions to life's challenges. (2019 EYLÜL YDS)
A) call off
B) stem from
C) bring down
D) take out
E) figure out

97. Because the functions and disturbances of smell and taste are nearly ----, disturbances of one affect to other. (2019 EYLÜL YDS)
A) inconvenient
B) unremarkable
C) inexplicable
D) unsophisticated
E) inseparable

98. Maps of the ocean are rare as the vastness and depth of the ocean make it ---- difficult to study. (2019 EYLÜL YDS)
A) admirably
B) notoriously
C) questionably
D) properly
E) incidentally

99. Children with autism spectrum conditions often have trouble ---- the emotional states of people around them, struggling to distinguish a happy face from a sad one, for example. (2019 EYLÜL YDS)
A) overcoming
B) ignoring
C) provoking
D) identifying
E) improving

100. Human accomplishments ---- our ability to acquire knowledge from others and to use that communal store of experience to devise novel solutions to life's challenges. (2019 EYLÜL YDS)
A) call off
B) stem from
C) bring down
D) take out
E) figure out

101. Like the rest of the animal kingdom, mammals need food for energy and the --- of bodily processes such as growth and reproduction. (2019 NİSAN YDS)
A) suspension
B) deterioration
C) maintenance
D) elaboration
E) persistence

102. With rapid advancements in technology, there are new ----, already seen in countries such as Myanmar and Sri Lanka where social media apps have been instrumental in spreading fake news and violence. (2019 NİSAN YDS)
A) measures
B) adjustments
C) incentives
D) threats
E) obligations

103. Although empirical studies into the brain's left and right hemispheric participation in language acquisition are ---- and differ from each other, some observational studies indicate that adults might benefit from right-brain-oriented activities in the foreign language classroom. (2019 NİSAN YDS)
A) unavailable
B) indispensable
C) indestructible
D) inconclusive
E) unprecedented

104. The foundations of international law as it is understood today lie ---- in the development of Western culture and political organisation. (2019 NİSAN YDS)
A) eligibly
B) instantly
C) adequately
D) firmly
E) convertibly

105. There is a link between sunlight and chemical serotonin, which ---- our mood and is important in reducing anxiety disorders. (2019 NİSAN YDS)
A) initiates
B) detects
C) reveals
D) hinders
E) boosts

106. Parkinson's disease is a movement disorder that ---- the death of neurons producing dopamine, a neurochemical that dispatches messages to parts of the brain that control motor skills and coordination. (2019 NİSAN YDS)
A) takes over
B) stems from
C) makes up
D) pins down
E) gets through

107. As soon as the computer was invented, a growing ---- for computers by scientists and engineers evolved, and numerous universities started their own projects to produce them in the 1940s. (2019 YDT)
A) isolation
B) concern
C) awareness
D) demand
E) variety

108. By messing with the balance of microorganisms in the body and by killing too many of the good bacteria in your gut, antibiotics may have certain ---- effects on your health. (2019 YDT)
A) prevalent
B) negligible
C) damaging
D) consistent
E) abundant

109. Current research has suggested that people who consume more trans fatty acids have ---- greater levels of aggression. (2019 YDT)
A) independently
B) significantly
C) deliberately
D) mutually
E) preciously

110. In crime scene investigation, forensic science ---- evidence that may link a suspect to a crime or prove him or her innocent. (2019 YDT)
A) initiates
B) accelerates
C) precedes
D) counters
E) provides

111. Although the game of baseball as it is known today is uniquely American, it ---- the popular English children's bat-and-ball game called rounders. (2019 YDT)
A) gets along
B) derives from
C) accounts for
D) goes through
E) brings about

112. Several different models of emotional intelligence have emerged since 1990, and such ---- has contributed to a certain amount of controversy. (2018 ARALIK YDS)
A) elimination
B) diversity
C) regulation
D) clarity
E) disruption

113. Since the beginning of the Industrial Age, humankind's ---- of the natural environment has taken a turn for the worse. (2018 ARALIK YDS)
A) exploitation
B) contradiction
C) deprivation
D) termination
E) allocation

114. Although Thomas Edison was not the first to create the light bulb, his model was more commercially ---- because it was long-lasting and formed part of a whole lighting system. (2018 ARALIK YDS)
A) reactive
B) urgent
C) effective
D) peculiar
E) viable

115. Just as television and mass media had done before, the growth of the Internet in the 1990s and early 2000s ---- a new era for business. (2018 ARALIK YDS)
A) heralded
B) jeopardised
C) reversed
D) enforced
E) protected

116. The revolutions and wars of the 20th century ---- affected people's views of these times and the histories they wrote. (2018 ARALIK YDS)
A) decently
B) recklessly
C) offensively
D) arbitrarily
E) profoundly

117. As the distribution of radio and TV programming began migrating to a digital format in the late 1990s, broadcasters, over time, have had to ---- their old analogue frequencies for the new digital channels and invest hundreds of millions of dollars in new equipment. (2018 ARALIK YDS)
A) give up
B) take on
C) work out
D) turn down
E) go through

118. For smokers who are under increased pressure to give up smoking, one of the easiest ---- is that quitting smoking makes people more likely to put on weight. (2018 EYLÜL YDS)
A) incentives
B) attempts
C) purposes
D) excuses
E) features

119. The primary ---- of an organisation's accounting department are to process financial information and to prepare financial statements at the end of the accounting period. (2018 EYLÜL YDS)
A) advancements
B) compensations
C) obstacles
D) objectives
E) classifications

120. Scholars and historians have offered possible locations for the mythical island Atlantis, even in the face of ---- scientific evidence that it does not exist. (2018 EYLÜL YDS)
A) compelling
B) doubtful
C) erroneous
D) refutable
E) ambiguous

121. The Big Bang theory is the explanation most commonly ---- by astronomers for the origin of the universe. (2018 EYLÜL YDS)
A) discovered
B) accepted
C) regulated
D) conducted
E) influenced

122. The relationship between sport and aggression has been studied ---- for decades, yet researchers still have a limited understanding of the link between the two. (2018 EYLÜL YDS)
A) severely
B) suspiciously
C) uniquely
D) extensively
E) instantly

123. Sense of control refers to the degree to which people believe that they can deliberately ---- desired outcomes and avoid undesirable ones in their environment. (2018 EYLÜL YDS)
A) fill out
B) bring about
C) switch off
D) turn down
E) hand over

124. Gender studies is a multifaceted field of inquiry into social structures and social relations that has important ---- for the study of violence, peace and conflict. (2018 NİSAN YDS)
A) challenges
B) divisions
C) implications
D) drawbacks
E) requirements

125. Nano-tech products can potentially save lives as well as give us hundreds of new conveniences from enhanced drug delivery and disease ---- to fabric that will not stain. (2018 NİSAN YDS)
A) progression
B) manipulation
C) detection
D) transmission
E) inheritance

126. The thin, invisible layer of gas surrounding the Earth, which is called the atmosphere, shields us from the vacuum of space and protects us from ---- solar radiation. (2018 NİSAN YDS)
A) delicate
B) excessive
C) vigorous
D) elaborate
E) swift

127. Architectural analysis is not only a ---- academic pursuit, done for its own sake, but it can be informative and entertaining as well. (2018 NİSAN YDS)
A) mutually
B) convincingly
C) drastically
D) purely
E) deniably

128. Childcare is a broad term that ---- services which protect the health, safety, and well-being of children who require custodial care by adults other than their own parents for a temporary period of time. (2018 NİSAN YDS)
A) hinders
B) encompasses
C) creates
D) eliminates
E) suspends

129. Taking a break, and distracting your mind for a while, not only gives you the spare time to be creative, but it can also give your brain the space it needs to ---- creative solutions to problems you have been struggling with. (2018 NİSAN YDS)
A) make up for
B) get away from
C) fight back against
D) look up to
E) come up with

130. United Nations Peacekeeping emerged out of World War II to help warring countries or communities to create the ---- for world peace. (2018 YDT)
A) inventions
B) predictions
C) interventions
D) accomplishments
E) conditions

131. Invented by the Chinese in the 9th century, gunpowder rapidly became a ---- factor in battle. (2018 YDT)
A) crucial
B) complicating
C) provable
D) virtual
E) limiting

132. It is difficult to say ---- when people first started to make rope because very few early examples have survived until today. (2018 YDT)
A) eventually
B) importantly
C) exactly
D) consistently
E) partially

133. The continents are the major land masses of the Earth and ---- around 29 per cent of the planet's surface. (2018 YDT)
A) threaten
B) occupy
C) maintain
D) initiate
E) provide

134. The Hanseatic League, a confederation of North German cities founded in the late 1200's, ---- special areas in cities across north Europe and controlled most trading routes. (2018 YDT)
A) set up
B) put aside
C) turned down
D) came out
E) kept off

135. Some ethnic minority groups of students within the US, such as African Americans and Hispanic Americans, achieve below the national average of all students; however, one ---- is the high educational achievements demonstrated by Asian American students. (2017 EYLÜL YDS)
A) aspiration
B) defect
C) exception
D) influence
E) complaint

136. Without artificial fertilisers and pesticides, there would not be enough food grown on Earth to satisfy our needs, even with equal ---- of agricultural output. (2017 EYLÜL YDS)
A) recognition
B) deterioration
C) distribution
D) fluctuation
E) reduction

137. An important reason to re-evaluate how we are raising the next generation grows out of an incredibly exciting discovery about brain development: during adolescence, the brain's potential to change through experience is ----. (2017 EYLÜL YDS)
A) tremendous
B) frustrating
C) debatable
D) redundant
E) exhausted

138. Children and adolescents with attention deficit or hyperactivity disorder frequently experience difficulties in school settings, most ---- in the areas of academic achievement and interpersonal relationships. (2017 EYLÜL YDS)
A) appropriately
B) urgently
C) subtly
D) compulsorily
E) notably

139. Children who grow up in two-parent homes where the parents are non-traditional in their own gender roles ---- less gender-stereotypic behaviour than do children whose parents are traditional in their role enactment. (2017 EYLÜL YDS)
A) display
B) alter
C) achieve
D) reject
E) eradicate

140. When Columbus sailed west from Spain in 1492 in pursuit of the riches of the Far East, he ---- recent advances in navigation and age-old geographical knowledge. (2017 EYLÜL YDS)
A) kept off
B) drew on
C) put forward
D) gave away
E) brought about

141. The ageing of population, also known as 'demographic ageing', is a term used to describe ---- in the age distribution of a population from the young towards people of older ages. (2017 NİSAN YDS)
A) opportunities
B) regulations
C) shifts
D) assumptions
E) conflicts

142. Large collections of books are often unusable without careful attention to classification, so providing easy access to library materials using such labels as author, title, and subject, is essential for proper ---- of any library. (2017 NİSAN YDS)
A) violation
B) justification
C) abandonment
D) utilisation
E) elimination

143. During the investigation of a lethal or an easily transmitted disease, the necessary precautions must be taken to protect health staff, because they are ---- to catching the disease in question. (2017 NİSAN YDS)
A) committed
B) adaptable
C) entitled
D) vulnerable
E) accessible

144. IQ tests are often faulted for ignoring cultural or social biases, particularly with regard to schoolchildren, and critics claim they cannot ---- predict a person's future performance. (2017 NİSAN YDS)
A) initially
B) accurately
C) conventionally
D) narrowly
E) strictly

145. Parents who are responsive, non-authoritarian, and who manifest empathetic and caring behaviours can ---- the development of empathy in their children. (2017 NİSAN YDS)
A) delay
B) acknowledge
C) relieve
D) enhance
E) surpass

146. World War II is an important turning point in that it ---- the beginning of the end of colonial empires. (2017 NİSAN YDS)
A) made out
B) handed down
C) brought about
D) took over
E) put back
147. Because anxiety is a common mental health concern today, efforts should be directed towards the ---- of anxiety disorders. (2017 YDT)
A) extension
B) prevention
C) prevalence
D) restriction
E) outcome

148. Sometimes all that is needed to help solve a problem is a chance to talk about it with a ---- listener. (2017 YDT)
A) sympathetic
B) memorable
C) fierce
D) hostile
E) speculative

149. The Caribbean is a haven for colourful bird life, most ---- the scarlet ibis of Trinidad and Tobago, a bird that feeds on crabs and other small sea creatures that live in the coastal mudflats. (2017 YDT)
A) ultimately
B) annually
C) privately
D) formally
E) notably

150. Meditation is a learned technique for refocusing attention that ---- a different state of consciousness. (2017 YDT)
A) gets along
B) grows apart
C) looks into
D) brings about
E) takes after

151. There is new ---- that dinosaurs were warm-blooded like birds and mammals rather than cold-blooded like reptiles. (2016 EYLÜL YDS)
A) compulsion
B) frustration
C) evidence
D) significance
E) fulfillment

152. The tendency towards increasingly bitter chocolate has its origins in the ---- fall in cocoa prices in the 1980s. (2016 EYLÜL YDS)
A) dramatic
B) permanent
C) empirical
D) subtle
E) hectic

153. An understanding of the physiology of stress does not ---- clarify its meaning, thus several models have been constructed in an attempt to better define and explain it. (2016 EYLÜL YDS)
A) arguably
B) jointly
C) eventually
D) completely
E) desperately

154. That we have the ability to detect and ---- minute differences in the fat content of food suggests that this ability must have had considerable evolutionary importance. (2016 EYLÜL YDS)
A) discriminate
B) hinder
C) undermine
D) tackle
E) protect

155. Children who are securely attached to their mother by the time they enter their second year of life are better equipped to ---- new experiences and relationships. (2016 EYLÜL YDS)
A) depend on
B) turn down
C) refrain from
D) cope with
E) carry out

156. The success of advertising ultimately ---- whether it influences consumer behaviour. (2016 EYLÜL YDS)
A) breaks in
B) disposes of
C) gives away
D) rests on
E) tears apart

157. As we learn more about the neural mechanisms of intelligence, ---- for enhancing intelligence become more likely. (2016 NİSAN YDS)
A) precautions
B) substitutions
C) necessities
D) prospects
E) permissions

158. From the early 1800s scientists began to gather ---- amounts of data about marine life, paving the way for future knowledge about the importance of the planet's oceans. (2016 NİSAN YDS)
A) immense
B) predictable
C) equivalent
D) relevant
E) sustainable

159. Reduction in cholesterol, body fat and oxidation is believed to help slow the ageing process ----. (2016 NİSAN YDS)
A) doubtfully
B) reflectively
C) externally
D) obscurely
E) considerably

160. Trade between people depends on a uniform set of weights and measures that can be used by both sides of the transaction to ---- that the amount obtained or handed over is correct. (2016 NİSAN YDS)
A) disapprove
B) pretend
C) ensure
D) realise
E) estimate

161. Despite its problems, the Space Shuttle has been a major step forward in spaceflight, ---- more than one hundred successful missions and pointing the way for future reusable spacecraft. (2016 NİSAN YDS)
A) standing for
B) carrying out
C) running into
D) calling for
E) putting aside

162. From the beginning of human history, innovators have experimented with all kinds of elements, from the ordinary to the invisible, trying to ---- new, improved materials. (2016 NİSAN YDS)
A) come up with
B) do away with
C) cut down on
D) get along with
E) make up for

163. One socio-psychological explanation of violence suggests that frustrating situations make people angry and increase their ---- to act aggressively. (2016 YDT)
A) addiction
B) tendency
C) rejection
D) exposure
E) dedication

164. William Du Bois, the first African-American to graduate from Harvard University with a doctorate, showed ---- academic promise from a very early age. (2016 YDT)
A) comprehensive
B) additional
C) temporary
D) intentional
E) exceptional

165. In a network combining the entire world, no one will be trustworthy enough, so connecting your computer to the Internet is ---- going to bring some risks. (2016 YDT)
A) inadequately
B) incomparably
C) inevitably
D) unequally
E) ineffectively

166. The fruit of the cacao tree and the seeds or beans it contains ---- a lengthy and complex series of transformations in order to yield chocolate. (2016 YDT)
A) overcome
B) dismiss
C) highlight
D) undergo
E) exchange

167. As a babysitter, if you feel uncomfortable with the family, trust your instincts and ---- the parents if they ask you to babysit again. (2016 YDT)
A) rely on
B) call off
C) bring up
D) catch up
E) turn down

168. The total amount of military ---- by all the countries of the world in 2010 was $1.63 trillion, which is equivalent to $236 for every person on the planet. (2015 EYLÜL YDS)
A) diversity
B) requirement
C) expenditure
D) dimension
E) influence

169. The speed of wind is measured by using the Beaufort Scale, based on easily ---- factors such as tree movement, smoke behaviour and damage incurred. (2015 EYLÜL YDS)
A) hostile
B) irrelevant
C) misleading
D) additional
E) observable

170. Today, contagious diseases rarely kill in developed countries, where improvements in sanitation and nutrition have ---- reduced premature deaths. (2015 EYLÜL YDS)
A) favourably
B) separately
C) significantly
D) dangerously
E) cautiously

171. With mankind ---- by an energy crisis and climate change, nuclear power is back on the scene. (2015 EYLÜL YDS)
A) confronted
B) responded
C) surpassed
D) initiated
E) allowed

172. People have always been fascinated by the stars and planets in the night sky, but they had to ---- just the naked eye to make them out until the telescope was invented in 1609. (2015 EYLÜL YDS)
A) rely on
B) look up
C) put off
D) take up
E) bring back

173. Blood type has been linked with a variety of mental disorders, but associations are weak; many other factors are more important in determining who ---- a particular illness. (2015 EYLÜL YDS)
A) runs out of
B) ends up with
C) makes up for
D) gets back to
E) cuts down on

174. For years, information systems experts have faced the ---- of convincing business managers of the value they provide to the organizations. (2015 NİSAN YDS)
A) challenge
B) appreciation
C) consciousness
D) assurance
E) designation

175. Although including children with special needs in learning environments with their typical peers presents many obstacles, the rewards, benefits and teamwork make it ----. (2015 NİSAN YDS)
A) worthwhile
B) legitimate
C) obligatory
D) questionable
E) implicit

176. Herbal treatment administered in a medical context has been shown to induce relief from symptoms in an ---- wide range of illnesses including allergies, asthma, cancer, depression, diabetes and migraine. (2015 NİSAN YDS)
A) impressively
B) accurately
C) eventually
D) unbearably
E) exclusively

177. Total world population seems to have ---- around a level of approximately half a billion people until the modern period, when it began to climb steadily. (2015 NİSAN YDS)
A) appeared
B) expired
C) qualified
D) fluctuated
E) weakened

178. By 2008, the UK had begun to return to nuclear power by ---- the construction of new reactors. (2015 NİSAN YDS)
A) calling for
B) turning over
C) putting off
D) taking apart
E) pulling up

179. From the ancient pyramids to today's hi-tech skyscrapers, powerful people have always ---- their status through impressive buildings. (2015 NİSAN YDS)
A) put on
B) laid out
C) shown off
D) given in
E) passed over

180. Technology is the practical ---- of knowledge and skills to make tools, machines, vehicles and other useful things. (2015 YDT)
A) elimination
B) expectation
C) responsibility
D) application
E) diversity

181. Managers must often decide whether to drop products or departments that are not as ---- as desired. (2015 YDT)
A) profitable
B) abrupt
C) severe
D) dependent
E) consistent

182. No one has to read a textbook to learn that children's problem solving abilities improve ---- across childhood. (2015 YDT)
A) deliberately
B) dramatically
C) approximately
D) respectively
E) incidentally

183. The technique of glass-blowing was discovered by craftsmen in Syria in about 30 BC and soon ---- by the Romans who used it to make bottles and other glass objects. (2015 YDT)
A) removed
B) excluded
C) adopted
D) delivered
E) unearthed

184. Child labour, economic inequality, racism and discrimination of all types abounded until the liberal tradition of fairness and justice ---- a free and fair society thanks to the French Revolution in 1789. (2015 YDT)
A) carried out
B) took over
C) coped with
D) brought about
E) kept away
`;
const rawExamVocabA = `1-C 2-D 3-A 4-A 5-E 6-B 7-E 8-E 9-B 10-A 11-C 12-D 13-C 14-A 15-C 16-B 17-E 18-C 19-A 20-C 21-C 22-E 23-C 24-E 25-D 26-A 27-A 28-D 29-C 30-D 31-B 32-E 33-C 34-D 35-C 36-C 37-D 38-D 39-A 40-B 41-A 42-D 43-D 44-C 45-B 46-A 47-D
48-C 49-A 50-A 51-B 52-C 53-B 54-D 55-C 56-B 57-B 58-B 59-B 60-B 61-A 62-B 63-D 64-A 65-B 66-C 67-E 68-C 69-E 70-A 71-E 72-A 73-D 74-B 75-E 76-A 77-A 78-B 79-B 80-A 81-D 82-E 83-B 84-D 85-A 86-A 87-C 88-A 89-C 90-A 91-B 92-C 93-D 94-B 95-D 96-B 97-E
98-B 99-D 100-B 101-C 102-D 103-D 104-D 105-E 106-B 107-D 108-C 109-B 110-E 111-B 112-B 113-A 114-E 115-A 116-E 117-A 118-A 119-D 120-A 121-C 122-B 123-B 124-C 125-B 126-B 127-B 128-A 129-C 130-B 131-C 132-D 133-E 134-E 135-C 136-E 137-B 138-C 139-C 140-D
141-D 142-B 143-B 144-E 145-C 146-A 147-D 148-B 149-C 150-C 151-E 152-E 153-D 154-E 155-D 156-C 157-D 158-D 159-B 160-C 161-B 162-A 163-A 164-B 165-E 166-D 167-D 168-C 169-E 170-C 171-A 172-A 173-B 174-A 175-A 176-A 177-D 178-A 179-C 180-D 181-A 182-B 183-C 184-D`;

    
    

    /* ================= SİSTEM DEĞİŞKENLERİ ================= */
    let allQuestions = [];
    let generatedQuestions = [];


// --- KARMA DENEME (150 Soru) ---
const rawKarmaQ = `1. The policy aims to <strong>alleviate</strong> poverty in rural areas.
A) worsen
B) intensify
C) ignore
D) ease
E) conceal

2. The findings do not necessarily imply a causal relationship.
A) Bulgular mutlaka nedensel bir ilişkiyi ima eder.
B) Bulgular, nedensel ilişkiyi kesin olarak kanıtlar.
C) Bulgular, her zaman nedensel bir ilişki olduğunu göstermez.
D) Bulgular, nedensel ilişkiyi reddeder.
E) Bulgular, nedensel ilişkiyi açıklığa kavuşturur.

3. The new evidence ---- doubts on the validity of the previous study.
A) throws
B) casts
C) pushes
D) drives
E) drops

4. The policy was introduced in response to growing public concern.
A) Politika, artan kamu kaygısına tepki olarak yürürlükten kaldırıldı.
B) Politika, kamu kaygısı azaldığı için ertelendi.
C) Politika, kamu kaygısını artırmak için tasarlandı.
D) Politika, kamu kaygısıyla ilgisiz şekilde uygulandı.
E) Politika, artan kamu kaygısına yanıt olarak devreye sokuldu.

5. The policy was expected to ---- immediate results, but it didn’t.
A) yield
B) earn
C) gain
D) win
E) save

6. The results were <strong>inconclusive</strong>, so further research is needed.
A) decisive
B) uncertain
C) irrelevant
D) sufficient
E) accurate

7. The city’s water supply is <strong>scarce</strong> during summer.
A) abundant
B) stable
C) pure
D) accessible
E) limited

8. The findings have <strong>significant</strong> implications for education.
A) minor
B) considerable
C) trivial
D) optional
E) accidental

9. Although the method is efficient, it is not suitable for every context.
A) Yöntem verimli olsa da her bağlam için uygun değildir.
B) Yöntem verimli olduğu için her bağlam için uygundur.
C) Yöntem verimli değildir ama her bağlam için uygundur.
D) Yöntem her bağlam için uygundur, bu yüzden verimlidir.
E) Yöntem yalnızca belirli bağlamlarda verimli değildir.

10. The authors ---- attention to the limitations of their research.
A) pull
B) take
C) bring
D) draw
E) catch

11. The disease poses a serious ---- to public health.
A) hazard
B) risk
C) harm
D) damage
E) threat

12. The author offers a <strong>plausible</strong> explanation.
A) impossible
B) unrelated
C) artificial
D) temporary
E) credible

13. The decision was made after careful <strong>scrutiny</strong>.
A) celebration
B) hesitation
C) distraction
D) assumption
E) examination

14. A substantial proportion of the participants reported sleep problems.
A) Katılımcıların küçük bir kısmı uyku sorunları bildirdi.
B) Katılımcıların tamamı uyku sorunu yaşamadığını söyledi.
C) Katılımcıların yarısından azı uyku sorunu yaşamadığını belirtti.
D) Katılımcıların önemli bir bölümü uyku sorunları bildirdi.
E) Katılımcıların çoğu uyku sorunlarını inkâr etti.

15. The new evidence <strong>contradicts</strong> earlier claims.
A) supports
B) repeats
C) conflicts with
D) confirms
E) clarifies

16. The findings may ---- implications for future research.
A) take
B) make
C) do
D) have
E) hold

17. The effect of stress on memory is <strong>detrimental</strong>.
A) beneficial
B) neutral
C) predictable
D) harmful
E) reversible

18. The new law will ---- into force next year.
A) come
B) go
C) take
D) put
E) turn

19. The report provides valuable ---- into consumer behavior.
A) eyesight
B) view
C) insight
D) scene
E) outlook

20. The report highlights the need for stricter regulation.
A) Rapor, daha katı düzenleme ihtiyacını vurgular.
B) Rapor, daha gevşek düzenleme ihtiyacını vurgular.
C) Rapor, düzenleme ihtiyacının olmadığını savunur.
D) Rapor, düzenlemenin etkisiz kaldığını kanıtlar.
E) Rapor, düzenlemenin hemen kaldırılmasını önerir.

21. The explanation is <strong>vague</strong>, lacking details.
A) precise
B) formal
C) complete
D) unclear
E) complex

22. The method is <strong>feasible</strong> in low-resource settings.
A) impractical
B) workable
C) risky
D) doubtful
E) illegal

23. The article ---- the question of whether AI can replace teachers.
A) rises
B) raises
C) arouses
D) grows
E) lifts

24. The results were consistent with earlier studies.
A) Sonuçlar önceki çalışmalarla uyumluydu.
B) Sonuçlar önceki çalışmalarla çelişiyordu.
C) Sonuçlar önceki çalışmaları geçersiz kıldı.
D) Sonuçlar önceki çalışmalardan bağımsızdı.
E) Sonuçlar önceki çalışmaları gereksiz kıldı.

25. The trend is <strong>ubiquitous</strong> across industries.
A) rare
B) widespread
C) outdated
D) hidden
E) voluntary

26. The outcome was <strong>unexpected</strong>, given the data.
A) anticipated
B) surprising
C) stable
D) ordinary
E) inevitable

27. The team failed to ---- a consensus on the final design.
A) access
B) arrive
C) reach
D) catch
E) touch

28. The policy aims to reduce inequality in access to education.
A) Politika, eğitime erişimdeki eşitsizliği artırmayı amaçlar.
B) Politika, eğitime erişimi gereksiz kılmayı amaçlar.
C) Politika, eğitime erişimi sınırlandırmayı amaçlar.
D) Politika, eğitime erişimi yalnızca belirli gruplara açmayı amaçlar.
E) Politika, eğitime erişimdeki eşitsizliği azaltmayı amaçlar.

29. The experiment was carried ---- under controlled conditions.
A) out
B) on
C) over
D) in
E) up

30. The new approach may ---- the burden on healthcare systems.
A) loosen
B) relax
C) calm
D) rest
E) ease

31. The program aims to ---- awareness of climate change.
A) lift
B) increase
C) raise
D) arise
E) rise

32. The committee decided to ---- the proposal due to safety concerns.
A) refuse
B) deny
C) resist
D) reject
E) neglect

33. The policy was <strong>implemented</strong> nationwide.
A) abandoned
B) delayed
C) carried out
D) debated
E) questioned

34. The argument is <strong>flawed</strong> due to bias.
A) sound
B) defective
C) complete
D) flexible
E) famous

35. The outcome depends largely on external factors.
A) Sonuç tamamen iç etkenlerden bağımsızdır.
B) Sonuç dış etkenleri ortadan kaldırır.
C) Sonuç dış etkenleri reddeder.
D) Sonuç büyük ölçüde dış etkenlere bağlıdır.
E) Sonuç dış etkenleri kanıtlar.

36. The study provides <strong>compelling</strong> evidence.
A) weak
B) uncertain
C) outdated
D) casual
E) persuasive

37. The argument is supported by a substantial body of ----.
A) proof
B) sign
C) clue
D) evidence
E) mark

38. The changes were <strong>gradual</strong>, not sudden.
A) abrupt
B) random
C) complete
D) final
E) steady

39. The plan was put ---- because of budget cuts.
A) out
B) down
C) away
D) up
E) off

40. The data were <strong>insufficient</strong> to reach a conclusion.
A) adequate
B) lacking
C) clear
D) relevant
E) reliable

41. The study ---- a link between stress and insomnia.
A) offers
B) means
C) intends
D) suggests
E) proves

42. The study challenges the assumption that all bacteria are harmful.
A) Çalışma, tüm bakterilerin zararlı olduğu varsayımını destekler.
B) Çalışma, tüm bakterilerin zararlı olduğu varsayımına meydan okur.
C) Çalışma, bakterilerin tamamının zararsız olduğunu kanıtlar.
D) Çalışma, bakterilerle ilgili varsayımları görmezden gelir.
E) Çalışma, bakterilerin etkisini reddeder.

43. The report was <strong>biased</strong> toward one viewpoint.
A) objective
B) accurate
C) detailed
D) partial
E) polite

44. The survey was conducted on a large ---- of participants.
A) example
B) pattern
C) model
D) case
E) sample

45. The device is designed to detect minor deviations.
A) Cihaz, büyük sapmaları gizlemek üzere tasarlanmıştır.
B) Cihaz, küçük sapmaları artırmak üzere tasarlanmıştır.
C) Cihaz, küçük sapmaları tespit etmek üzere tasarlanmıştır.
D) Cihaz, sapmaları tamamen ortadan kaldırmak üzere tasarlanmıştır.
E) Cihaz, sapmaları açıklamak üzere tasarlanmıştır.

46. The policy is designed to ---- fraud.
A) prevent
B) prohibit
C) forbid
D) stop
E) block

47. The scientists ---- data from multiple sources.
A) selected
B) elected
C) reflected
D) collected
E) neglected

48. The proposal was <strong>rejected</strong> by the committee.
A) approved
B) discussed
C) improved
D) revised
E) declined

49. The decision was made in ---- with the guidelines.
A) acceptance
B) access
C) allowance
D) accordance
E) accuracy

50. The author argues that technology does not guarantee learning.
A) Yazar, teknolojinin öğrenmeyi garanti ettiğini savunur.
B) Yazar, teknolojinin öğrenmeyi imkânsız kıldığını savunur.
C) Yazar, öğrenmenin teknolojiye bağlı olmadığını inkâr eder.
D) Yazar, teknolojinin öğrenmeyi garanti etmediğini savunur.
E) Yazar, teknolojinin öğrenmeyi geciktirdiğini kanıtlar.

51. The team will ---- the findings at the conference.
A) prevent
B) present
C) preserve
D) pretend
E) predict

52. The solution is <strong>temporary</strong> until funding arrives.
A) permanent
B) complex
C) costly
D) automatic
E) short-term

53. The decision was <strong>justified</strong> by the evidence.
A) supported
B) criticized
C) concealed
D) delayed
E) simplified

54. The results should be interpreted with caution.
A) Sonuçlar dikkatle yorumlanmalıdır.
B) Sonuçlar tereddütsüz yorumlanmalıdır.
C) Sonuçlar kesinlikle yanlış yorumlanmalıdır.
D) Sonuçlar yorumlanmadan kabul edilmelidir.
E) Sonuçlar yorumlanamaz.

55. The article puts forward a ---- explanation for the trend.
A) plausible
B) possible
C) potential
D) probable
E) available

56. The approach is <strong>innovative</strong>.
A) traditional
B) routine
C) identical
D) simple
E) novel

57. The findings were reviewed by independent experts before publication.
A) Bulgular yayımlanmadan önce bağımsız uzmanlarca incelendi.
B) Bulgular yayımlandıktan sonra bağımsız uzmanlarca görmezden gelindi.
C) Bulgular yayımlanmadan önce bağımsız uzmanlarca reddedildi.
D) Bulgular yayımlanmadan önce uzmanlara sunulmadı.
E) Bulgular yayımlanmadan önce uzmanlarca değiştirilmedi.

58. The analysis failed to ---- into account the role of age.
A) bring
B) keep
C) get
D) set
E) take

59. The findings were <strong>overlooked</strong> in earlier studies.
A) emphasized
B) measured
C) repeated
D) published
E) ignored

60. The proposal was rejected due to budget constraints.
A) Öneri bütçe kısıtları nedeniyle reddedildi.
B) Öneri bütçe kısıtları nedeniyle kabul edildi.
C) Öneri bütçe kısıtları ortadan kalktığı için reddedildi.
D) Öneri bütçe kısıtlarını artırmak için reddedildi.
E) Öneri bütçeyle ilgisiz şekilde ertelendi.

61. The researchers ---- data from multiple sources.
A) selected
B) elected
C) reflected
D) neglected
E) collected

62. The claim was <strong>refuted</strong> by new data.
A) confirmed
B) disproved
C) explained
D) repeated
E) improved

63. The results were <strong>robust</strong> across different samples.
A) fragile
B) random
C) narrow
D) brief
E) strong

64. The proposal was postponed until further data became available.
A) Öneri, veri erişilebilir olduğu için iptal edildi.
B) Öneri, veri eksikliği nedeniyle kabul edildi.
C) Öneri, veri erişilebilir olmadan yürürlüğe girdi.
D) Öneri, daha fazla veri erişilebilir olana kadar ertelendi.
E) Öneri, veriler geldikten sonra reddedildi.

65. The project will <strong>commence</strong> in March.
A) begin
B) postpone
C) finish
D) collapse
E) interrupt

66. The study was limited by a small sample size.
A) Çalışma, büyük örneklem nedeniyle sınırlıydı.
B) Çalışma, örneklem büyüklüğüyle ilgisizdi.
C) Çalışma, küçük örneklem büyüklüğü nedeniyle sınırlıydı.
D) Çalışma, örneklemi artırdığı için sınırlıydı.
E) Çalışma, örneklem büyüklüğünü kanıtladı.

67. The evidence is not sufficient to ---- an inference from the data.
A) reach
B) draw
C) raise
D) take
E) keep

68. The report gives a brief ---- of the key findings.
A) overview
B) overlook
C) overture
D) outline
E) overrun

69. The policy has had an adverse effect on small businesses.
A) Politika, küçük işletmeler üzerinde olumsuz etki yaratmıştır.
B) Politika, küçük işletmeler üzerinde olumlu etki yaratmıştır.
C) Politika, küçük işletmeleri etkilememiştir.
D) Politika, küçük işletmeleri korumuştur.
E) Politika, küçük işletmeleri güçlendirmiştir.

70. Sales began to <strong>diminish</strong> after the crisis.
A) expand
B) stabilize
C) recover
D) multiply
E) decrease

71. The measure is intended to ---- compliance with the new rules.
A) ensure
B) assure
C) insure
D) secure
E) endure

72. The results were unexpected, given the initial hypothesis.
A) Başlangıç hipotezi nedeniyle sonuçlar beklenen gibiydi.
B) Başlangıç hipotezi reddedildiği için sonuçlar beklenmedikti.
C) Hipotez olmadığı için sonuçlar beklenmedi.
D) Hipotez kanıtlandığı için sonuçlar beklenmedikti.
E) Başlangıç hipotezi göz önüne alındığında sonuçlar beklenmedikti.

73. The campaign seeks to ---- public support for the reform.
A) gather
B) gain
C) generate
D) grant
E) garner

74. The increase in demand is partly due to improved accessibility.
A) Talepteki artış erişilebilirlikle ilgisizdir.
B) Talepteki artış, erişilebilirliği ortadan kaldırmıştır.
C) Talepteki artış yalnızca fiyat düşüşüyle açıklanır.
D) Talepteki artış kısmen erişilebilirliğin artmasına bağlıdır.
E) Talepteki artış tamamen erişilebilirliğin azalmasına bağlıdır.

75. The new evidence tends to ---- confidence in the original claim.
A) undermine
B) underline
C) underpay
D) undertake
E) undergo

76. The team decided to ---- resources to the most urgent tasks.
A) allocate
B) locate
C) separate
D) estimate
E) celebrate

77. The study emphasizes the importance of early intervention.
A) Çalışma, erken müdahalenin önemini vurgular.
B) Çalışma, erken müdahalenin gereksiz olduğunu savunur.
C) Çalışma, müdahalenin geciktirilmesini önerir.
D) Çalışma, müdahalenin zararlarını kanıtlar.
E) Çalışma, müdahalenin önemini reddeder.

78. The new training is meant to <strong>enhance</strong> productivity.
A) delay
B) reduce
C) replace
D) improve
E) monitor

79. The lecturer ---- emphasis on critical thinking.
A) lay
B) take
C) place
D) make
E) give

80. The conclusion is based on assumptions rather than direct evidence.
A) Sonuç, doğrudan kanıttan ziyade varsayımlara dayanır.
B) Sonuç, varsayımları reddederek doğrudan kanıta dayanır.
C) Sonuç, yalnızca doğrudan kanıta dayanır.
D) Sonuç, varsayımları kanıt olarak kullanmaz.
E) Sonuç, kanıtları varsayımlardan çıkarır.

81. The findings ---- further investigation.
A) invite
B) warrant
C) include
D) predict
E) reflect

82. In light of recent findings, the theory needs to be revised.
A) Son bulgulara rağmen kuram değiştirilemez.
B) Son bulgular nedeniyle kuramın değişmesine gerek yoktur.
C) Son bulgular ışığında, kuramın gözden geçirilmesi gerekir.
D) Son bulgular sayesinde kuram kesin olarak kanıtlanmıştır.
E) Son bulguların ardından kuram yürürlükten kaldırılmıştır.

83. Researchers should <strong>refrain</strong> from making unsupported claims.
A) avoid
B) prefer
C) insist
D) benefit
E) result

84. The plan is likely to ---- resistance from local communities.
A) encounter
B) enter
C) include
D) enclose
E) endorse

85. The decline can be traced back to policy changes in the 1990s.
A) Düşüşün kökeni, doksanlı yıllardaki politika değişikliklerine dayanır.
B) Düşüş, doksanlı yıllarda politika değişikliklerinin reddedilmesiyle açıklanır.
C) Düşüş, politika değişikliklerinden bağımsız olarak ortaya çıkmıştır.
D) Düşüş, politika değişikliklerini tamamen ortadan kaldırmıştır.
E) Düşüş, doksanlı yıllarda sona ermiştir.

86. The proposal was accepted only after it ---- rigorous scrutiny.
A) underwent
B) undertook
C) underlined
D) understood
E) underpaid

87. The results are unlikely to be replicated under real-world conditions.
A) Sonuçlar gerçek hayat koşullarında kesinlikle tekrarlanacaktır.
B) Sonuçların gerçek hayat koşullarında tekrarlanması zorunludur.
C) Sonuçlar yalnızca gerçek hayat koşullarında ortaya çıkar.
D) Sonuçların gerçek hayat koşullarında tekrarlanması pek olası değildir.
E) Sonuçların gerçek hayat koşullarında tekrarlanması önem taşımaz.

88. The initiative is expected to ---- a positive impact on literacy.
A) have
B) do
C) make
D) take
E) give

89. Several experts <strong>advocate</strong> stricter controls.
A) oppose
B) ignore
C) predict
D) delay
E) support

90. Far from solving the problem, the new rule created additional complications.
A) Yeni kural, sorunu çözmek bir yana, ek karmaşalar yarattı.
B) Yeni kural sorunu tamamen çözdü ve karmaşayı azalttı.
C) Yeni kural, sorunu çözmese de hiçbir ek sorun yaratmadı.
D) Yeni kural yalnızca eski karmaşaları ortadan kaldırdı.
E) Yeni kuralın amacı, ek karmaşaları önlemekti.

91. The new framework aims to ---- the reliability of the assessment.
A) enhance
B) enlarge
C) encircle
D) enforce
E) engage

92. The program suggests that early exposure may influence later preferences.
A) Çalışma, erken maruz kalmanın ilerideki tercihleri etkileyebileceğini öne sürer.
B) Çalışma, erken maruz kalmanın tercihleri asla etkilemeyeceğini kanıtlar.
C) Çalışma, tercihlerin yalnızca genetikle belirlendiğini savunur.
D) Çalışma, erken maruz kalmanın tercihleri tamamen ortadan kaldırdığını söyler.
E) Çalışma, erken maruz kalmanın yalnızca kısa vadede etkili olduğunu belirtir.

93. The new method ---- a significant improvement over the old one.
A) presents
B) reports
C) repeats
D) represents
E) results

94. The policy was criticized on the grounds that it lacked transparency.
A) Politika, şeffaf olduğu gerekçesiyle övüldü.
B) Politika, şeffaflık sağladığı için kabul edildi.
C) Politika, eleştirilerden bağımsız olarak yürürlüğe girdi.
D) Politika, şeffaflıktan yoksun olduğu gerekçesiyle eleştirildi.
E) Politika, şeffaflık nedeniyle iptal edildi.

95. The company must ---- with safety regulations.
A) comply
B) complete
C) compile
D) compel
E) compare

96. Wearing a helmet is <strong>mandatory</strong> in the laboratory.
A) compulsory
B) optional
C) risky
D) unusual
E) temporary

97. The team will ---- the findings at the conference.
A) present
B) prevent
C) preserve
D) pretend
E) predict

98. The change had only a <strong>marginal</strong> effect on outcomes.
A) dramatic
B) central
C) minor
D) essential
E) obvious

99. The software became <strong>obsolete</strong> within two years.
A) outdated
B) reliable
C) flexible
D) efficient
E) legal

100. The device is bound to fail if it is not properly maintained.
A) Cihaz uygun şekilde bakımı yapılmazsa kesinlikle arızalanacaktır.
B) Cihaz uygun şekilde bakımı yapılmasa bile arızalanmayabilir.
C) Cihazın bakımı yapılmadığı için başarısı artacaktır.
D) Cihaz yalnızca düzgün bakım yapıldığında arızalanur.
E) Cihazın bakımı arızayla hiçbir şekilde ilişkili değildir.

101. The article ---- the question of whether AI can replace teachers.
A) raises
B) rises
C) arouses
D) grows
E) lifts

102. Notwithstanding its benefits, the program has several drawbacks.
A) Programın faydaları dezavantajlarından daha azdır.
B) Programın yalnızca dezavantajları vardır, faydası yoktur.
C) Programın dezavantajları tamamen giderilmiştir.
D) Faydalarına rağmen, programın çeşitli dezavantajları vardır.
E) Faydaları sayesinde programın dezavantajı yoktur.

103. The conclusion is <strong>tentative</strong> and may change.
A) provisional
B) final
C) certain
D) obvious
E) stable

104. The instructions were <strong>explicit</strong>, leaving no ambiguity.
A) vague
B) clear
C) random
D) careless
E) brief

105. It is assumed that the sample represents the general population.
A) Örneklemin genel nüfusu temsil ettiği varsayılmaktadır.
B) Örneklemin genel nüfusu temsil etmediği kanıtlanmıştır.
C) Örneklemin genel nüfusu temsil ettiği kesin olarak bilinmektedir.
D) Örneklemin yalnızca belirli bir grubu temsil ettiği reddedilmektedir.
E) Örneklemin temsiliyeti araştırma için önemsizdir.

106. The researchers ---- data from multiple sources.
A) collected
B) selected
C) elected
D) reflected
E) neglected

107. The report contains <strong>substantial</strong> evidence.
A) tiny
B) vague
C) missing
D) biased
E) considerable

108. The new policy could <strong>exacerbate</strong> inequality.
A) worsen
B) reduce
C) clarify
D) balance
E) prevent

109. To the extent that funding is available, the project will continue.
A) Fon bulunduğu ölçüde proje devam edecektir.
B) Fon bulunsa bile proje devam etmeyecektir.
C) Fon bulunmadığı için proje kesinlikle devam edecektir.
D) Fon bulunması, projenin iptal edilmesini gerektirir.
E) Fonun proje üzerinde hiçbir etkisi yoktur.

110. New measures were introduced to <strong>mitigate</strong> the risks.
A) increase
B) reduce
C) deny
D) create
E) expose

111. The rise in temperatures <strong>coincided</strong> with a decline in rainfall.
A) occurred simultaneously
B) ended abruptly
C) was predicted
D) was prevented
E) was measured

112. The approach is effective, but only under specific circumstances.
A) Yaklaşım her koşulda etkilidir ve şartlara bağlı değildir.
B) Yaklaşım yalnızca koşullar olmadığında etkilidir.
C) Yaklaşım etkilidir, ancak yalnızca belirli koşullar altında.
D) Yaklaşımın etkisi koşullardan bağımsız olarak azalır.
E) Yaklaşım her koşulda etkili değildir, bu yüzden işe yaramaz.

113. The influence of social media is <strong>pervasive</strong>.
A) widespread
B) minor
C) uncertain
D) temporary
E) hidden

114. The evidence was dismissed as it relied on self-reported data.
A) Kanıt, öz-bildirime dayandığı için geçersiz sayıldı.
B) Kanıt, öz-bildirime dayandığı için güçlü kabul edildi.
C) Kanıt, öz-bildirimi ortadan kaldırdığı için reddedilmedi.
D) Kanıtın kaynağı bilinmediği için kesin olarak kabul edildi.
E) Kanıt, öz-bildirime dayanmadığı için eleştirildi.

115. The findings are consistent with the notion that practice improves performance.
A) Bulgular, alıştırmanın performansı artırdığı düşüncesiyle uyumludur.
B) Bulgular, alıştırmanın performansı düşürdüğü düşüncesiyle uyumludur.
C) Bulgular, alıştırmanın performansla ilgisiz olduğunu kanıtlar.
D) Bulgular, alıştırmanın etkisini reddeder.
E) Bulgular, performansın alıştırmayla değişmediğini savunur.

116. The findings ---- further investigation.
A) invite
B) include
C) warrant
D) predict
E) reflect

117. The intervention had little effect, if any, on the final outcome.
A) Müdahalenin nihai sonuç üzerinde büyük bir etkisi oldu.
B) Müdahalenin nihai sonuç üzerinde, varsa bile, çok az etkisi oldu.
C) Müdahalenin nihai sonuç üzerinde kesinlikle hiçbir etkisi olmadı.
D) Müdahale nihai sonucu tamamen değiştirdi.
E) Müdahale sonuçları iyileştirdiği için etkisiz sayılmadı.

118. The policy aims to <strong>alleviate</strong> poverty in rural areas.
A) worsen
B) intensify
C) ignore
D) conceal
E) ease

119. The program was implemented nationwide.
A) Program ülke genelinde uygulandı.
B) Program yalnızca küçük bir bölgede iptal edildi.
C) Program ülke genelinde ertelendi.
D) Program ülke genelinde reddedildi.
E) Program ülke genelinde tartışıldı ama uygulanmadı.

120. The results were <strong>inconclusive</strong>, so further research is needed.
A) decisive
B) uncertain
C) irrelevant
D) sufficient
E) accurate

121. The conclusion is based on assumptions rather than direct evidence.
A) Sonuç, varsayımları reddederek doğrudan kanıta dayanır.
B) Sonuç, yalnızca doğrudan kanıta dayanır.
C) Sonuç, doğrudan kanıttan ziyade varsayımlara dayanır.
D) Sonuç, varsayımları kanıt olarak kullanmaz.
E) Sonuç, kanıtları varsayımlardan çıkarır.

122. The researchers ---- a distinction between correlation and causation.
A) draw
B) make
C) take
D) do
E) set

123. The evidence remains <strong>ambiguous</strong>, leaving room for multiple interpretations.
A) obvious
B) decisive
C) detailed
D) consistent
E) unclear

124. It remains to be seen whether the new policy will achieve its goals.
A) Yeni politikanın hedeflerine ulaştığı kesinleşmiştir.
B) Yeni politikanın hedeflerine ulaşıp ulaşmayacağı henüz belli değildir.
C) Yeni politikanın hedeflerine ulaşması imkânsızdır.
D) Yeni politikanın hedefleri zaten değiştirilmiştir.
E) Yeni politika hedeflerine ulaştığı için iptal edilmiştir.

125. The committee decided to ---- the manuscript for major revisions.
A) submit
B) transmit
C) commit
D) request
E) suggest

126. The results are <strong>notable</strong> for their consistency across different groups.
A) remarkable
B) minor
C) accidental
D) rare
E) unclear

127. By no means should these findings be taken as final.
A) Bu bulgular kesinlikle nihai kabul edilmelidir.
B) Bu bulgular yalnızca nihai kabul edilirse anlamlıdır.
C) Bu bulguların nihai olduğu kanıtlanmıştır.
D) Bu bulgular hiçbir şekilde nihai kabul edilmemelidir.
E) Bu bulgular nihai kabul edilmediği için geçersizdir.

128. The new measures were introduced to ---- the spread of misinformation.
A) make
B) curb
C) cast
D) compile
E) trigger

129. The policy has sparked <strong>controversial</strong> debates among experts.
A) predictable
B) harmless
C) outdated
D) minor
E) disputable

130. Provided that sufficient funding is secured, the project will continue.
A) Yeterli fon bulunmadığı için proje devam edecektir.
B) Proje, fon bulunsa bile devam etmeyecektir.
C) Yeterli fon sağlanması koşuluyla proje devam edecektir.
D) Proje, fon sağlandığı için kesinlikle iptal edilmiştir.
E) Projenin devamı fonla hiçbir şekilde ilgili değildir.

131. The data do not fully ---- for the sharp decline in performance.
A) count
B) account
C) amount
D) discount
E) recount

132. The outcomes are <strong>inevitable</strong> given the current trajectory.
A) avoidable
B) uncertain
C) reversible
D) optional
E) unavoidable

133. The study was limited by the absence of a control group.
A) Çalışma, kontrol grubunun olmaması nedeniyle sınırlıydı.
B) Çalışma, kontrol grubu olduğu için sınırlı değildi.
C) Çalışma, kontrol grubunu reddettiği için güçlendi.
D) Çalışma, kontrol grubunu oluşturduğu için sınırlı kaldı.
E) Çalışma, kontrol grubunun gereksiz olduğunu kanıtladı.

134. The article aims to ---- light on the mechanisms behind learning.
A) put
B) set
C) shed
D) take
E) keep

135. The conclusion is <strong>preliminary</strong> and requires further validation.
A) final
B) permanent
C) exhaustive
D) tentative
E) obvious

136. Insofar as the data are reliable, the results can be trusted.
A) Veriler güvenilir olmadığı sürece sonuçlara güvenilir.
B) Veriler güvenilir olduğu için sonuçlar asla güvenilmez.
C) Veriler güvenilir olmasa da sonuçlar güvenilirdir.
D) Verilerin güvenilirliği sonuçlarla ilgisizdir.
E) Veriler güvenilir olduğu ölçüde sonuçlara güvenilebilir.

137. The policy is intended to ---- public confidence in institutions.
A) gather
B) gain
C) restore
D) generate
E) grant

138. The researcher adopted a <strong>meticulous</strong> approach to data collection.
A) careless
B) rapid
C) flexible
D) thorough
E) random

139. The study ---- the role of socioeconomic factors in academic success.
A) highlights
B) heightens
C) hides
D) hits
E) holds

140. Whereas the first model is simple, the second is more accurate.
A) İlk model karmaşıkken ikinci model daha basittir.
B) İlk model basitken ikinci model daha doğrudur.
C) İkinci model basit olduğu için daha az doğrudur.
D) İlk model basit olduğu için ikinci modele gerek yoktur.
E) Modellerin doğrulukları aynıdır.

141. The two events occurred <strong>concurrently</strong>, making causality hard to establish.
A) separately
B) randomly
C) sequentially
D) simultaneously
E) rarely

142. The government decided to ---- resources to the most urgent needs.
A) allocate
B) locate
C) duplicate
D) imitate
E) circulate

143. The findings call into question the assumption that intelligence is fixed.
A) Bulgular, zekânın sabit olduğu varsayımını destekler.
B) Bulgular, zekânın sabit olmadığını kesin olarak kanıtlar.
C) Bulgular, zekânın sabit olduğu varsayımını sorgulatır.
D) Bulgular, zekânın sabit olduğunu reddetmez.
E) Bulgular, zekâ kavramını gereksiz kılar.

144. The intervention had a <strong>negligible</strong> effect on the overall outcome.
A) dramatic
B) central
C) lasting
D) measurable
E) trivial

145. The new framework must ---- the criteria set by the accrediting body.
A) do
B) meet
C) hit
D) fill
E) suit

146. The evidence was dismissed because it relied on self-reported data.
A) Kanıt, öz-bildirime dayandığı için geçersiz sayıldı.
B) Kanıt, öz-bildirime dayanmadığı için eleştirildi.
C) Kanıt, öz-bildirimi ortadan kaldırdığı için reddedilmedi.
D) Kanıt, kaynağı bilinmediği için kesin kabul edildi.
E) Kanıt, öz-bildirime dayandığı için güçlü kabul edildi.

147. The effect is <strong>subtle</strong> and may not be noticed immediately.
A) obvious
B) extreme
C) sudden
D) temporary
E) slight

148. The method is effective only under specific conditions.
A) Yöntem her koşulda etkilidir ve şartlara bağlı değildir.
B) Yöntem yalnızca koşullar olmadığında etkilidir.
C) Yöntem koşullardan bağımsız olarak her zaman etkisizdir.
D) Yöntem yalnızca belirli koşullar altında etkilidir.
E) Yöntem koşulları ortadan kaldırdığı için etkilidir.

149. The researchers were unable to ---- a definitive conclusion from the data.
A) do
B) draw
C) take
D) make
E) bring

150. The regulation imposes <strong>stringent</strong> standards on manufacturers.
A) optional
B) flexible
C) strict
D) vague
E) outdated

---`;
const rawKarmaA = `1-D 2-C 3-B 4-E 5-A 6-B 7-E 8-B 9-A 10-D 11-E 12-E 13-E 14-D 15-C 16-D 17-D 18-A 19-C 20-A 21-D 22-B 23-B 24-A 25-B 26-B 27-C 28-E 29-A 30-E 31-C 32-D 33-C 34-B 35-D 36-E 37-D 38-E 39-E 40-B 41-D 42-B 43-D 44-E 45-C 46-A 47-D 48-E 49-D 50-D 51-B 52-E 53-A 54-A 55-A 56-E 57-A 58-E 59-E 60-A 61-E 62-B 63-E 64-D 65-A 66-C 67-B 68-A 69-A 70-E 71-A 72-E 73-E 74-D 75-A 76-A 77-A 78-D 79-C 80-A 81-B 82-C 83-A 84-A 85-A 86-A 87-D 88-A 89-E 90-A 91-A 92-A 93-D 94-D 95-A 96-A 97-A 98-C 99-A 100-A 101-A 102-D 103-A 104-B 105-A 106-A 107-E 108-A 109-A 110-B 111-A 112-C 113-A 114-A 115-A 116-C 117-B 118-E 119-A 120-B 121-C 122-A 123-E 124-B 125-D 126-A 127-D 128-B 129-E 130-C 131-B 132-E 133-A 134-C 135-D 136-E 137-C 138-D 139-A 140-B 141-D 142-A 143-C 144-E 145-B 146-A 147-E 148-D 149-B 150-C`;

    let currentSectionKey = null;
    let wrongBank = [];
    let progressData = {}; 
    let userApiKey = "";
    let renderLimit = 50;
    
    const sections = [
        { key: "sec1", title: "Prepositions & Collocations", start: 1, end: 70 },
        { key: "sec2", title: "Conjunctions & Linkers", start: 71, end: 130 },
        { key: "sec3", title: "Relative Clauses", start: 131, end: 190 },
        { key: "sec4", title: "Tense & Modals", start: 191, end: 250 },
      
        // ID Aralığını Düzelttik: Kelimeler 2999'da biter, Çıkmışlar 3000'de başlar.
        { key: "secVocab", title: "YDS Akademik Kelimeler", start: 1000, end: 2999 },

        { key: "secExamPrep", title: "Çıkmış Prepositions (Son 10 Yıl)", start: 3000, end: 3200 },
        { key: "secExamConj", title: "Çıkmış Bağlaçlar (Son 10 Yıl)", start: 3201, end: 3500 },
        { key: "secExamTense", title: "Çıkmış Tense/Modals (Son 10 Yıl)", start: 3501, end: 3800 },
        { key: "secExamVocab", title: "Çıkmış Kelime (Son 10 Yıl)", start: 3801, end: 4200 },
        { key: "secKarma", title: "Karma Deneme", start: 4201, end: 4400 }
    ];

    window.onload = function() {
        if(localStorage.getItem('yds_theme') === 'dark') document.body.setAttribute('data-theme', 'dark');
        userApiKey = localStorage.getItem('yds_gemini_key') || "";
        loadData();
        updateBottomLevelBar();
    };

    /* ================= YARDIMCI FONKSİYONLAR ================= */


// 2. Kelime Sorusu Üretici
function generateVocabQuestions() {
    function seededShuffle(arr, seed) {
    let m = arr.length, t, i;
    let s = seed;
    while (m) {
        s = (s * 9301 + 49297) % 233280;
        i = Math.floor((s / 233280) * m--);
        t = arr[m]; arr[m] = arr[i]; arr[i] = t;
    }
    return arr;
}
    let qList = [];
    const totalWords = ydsVocabDB.length;
    
    ydsVocabDB.forEach((item, index) => {
        let isEnToTr = index < (totalWords / 2); 
        let questionText, correctAns;
        
        if (isEnToTr) {
            questionText = `<strong>"${item.en}"</strong> kelimesinin Türkçe karşılığı nedir?`;
            correctAns = item.tr;
        } else {
            questionText = `<strong>"${item.tr}"</strong> kelimesinin İngilizce karşılığı nedir?`;
            correctAns = item.en;
        }
               // Sabit seed ile çeldirici seç (index bazlı)
        let tempPool = ydsVocabDB.filter(w => w.en !== item.en);
        let shuffled = seededShuffle([...tempPool], index + 42);
        let distractors = [];
        for (let j = 0; j < shuffled.length && distractors.length < 4; j++) {
            let distOption = isEnToTr ? shuffled[j].tr : shuffled[j].en;
            if (!distractors.includes(distOption)) distractors.push(distOption);
        }
        let optionsArr = seededShuffle([...distractors, correctAns], index + 99);
        let optionsObj = { A: optionsArr[0], B: optionsArr[1], C: optionsArr[2], D: optionsArr[3], E: optionsArr[4] };

        qList.push({
            id: 1000 + index, 
            text: questionText,
            options: optionsObj,
            correctAnswer: Object.keys(optionsObj).find(key => optionsObj[key] === correctAns),
            tip: "Kelime tekrarı önemlidir.",
            isVocab: true 
        });
    });
    return qList;
}
    
// --- BU FONKSİYON EKSİKSE VERİLER YÜKLENMEZ ---
function parseRawData(qText, aText, startIdOffset, isExamBatch) { // isExamBatch parametresi eklendi
        const parsedQuestions = [];
        const answerMap = {};
        
        // Cevap Anahtarını İşle
        const ansRegex = /(\d+)\s*[:\-\u2013]\s*([A-E])/g; 
        let match;
        while ((match = ansRegex.exec(aText)) !== null) {
            answerMap[match[1]] = match[2];
        }

        const lines = qText.split('\n');
        let currentQ = null;
        
        lines.forEach(line => {
            line = line.trim();
            if (!line) return;

            // Soru Başlangıcını Yakala
            if (/^\d+[\.\)\-]/.test(line)) {
                if (currentQ) { 
                    const realID = startIdOffset + currentQ.localId;
                    currentQ.id = realID;
                    currentQ.correctAnswer = answerMap[currentQ.localId];
                    if(currentQ.correctAnswer) parsedQuestions.push(currentQ);
                }

                const qNum = parseInt(line.match(/^\d+/)[0]);
                let textContent = line.replace(/^\d+[\.\)\-]\s*/, '').trim();
                
                // Yıl ipucunu sadece Çıkmış Sorularda ara, yoksa genel başlık koy
                let yearTip = "";
                if (isExamBatch) {
                    const yearMatch = textContent.match(/\((.*?YDT.*?|.*?YÖKDİL.*?|.*?YDS.*?)\)/);
                    if(yearMatch) yearTip = yearMatch[1];
                    else yearTip = "Çıkmış Soru";
                } 

                currentQ = { 
                    localId: qNum, 
                    id: 0, 
                    text: textContent, 
                    options: {}, 
                    tip: yearTip, // Normal sorularda burası boş kalır, aşağıda text'ten gelen TIP varsa o işlenir
                    isExam: isExamBatch // ARTIK DİNAMİK (True veya False)
                };
            } 
            else if (currentQ) {
                if (line.startsWith('A)')) currentQ.options.A = line.substring(2).trim();
                else if (line.startsWith('B)')) currentQ.options.B = line.substring(2).trim();
                else if (line.startsWith('C)')) currentQ.options.C = line.substring(2).trim();
                else if (line.startsWith('D)')) currentQ.options.D = line.substring(2).trim();
                else if (line.startsWith('E)')) currentQ.options.E = line.substring(2).trim();
                else if (line.startsWith('TIP:')) {
                    // Sadece Sınav Sorusu DEĞİLSE o satırdaki tüyoyu al
                    // Çünkü sınav sorularında bu satır yok, ama biz 'tip' alanına yıl bilgisini zaten üstte koyduk.
                    // Eğer normal bir test ise, yıl bilgisi yoktur, TIP satırından geleni 'tip' değişkenine ata.
                    if (!isExamBatch) {
                        currentQ.tip = line.substring(4).trim();
                    }
                }
                else if (!line.match(/^[A-E]\)/)) currentQ.text += " " + line;
            }
        });

        if (currentQ) {
            const realID = startIdOffset + currentQ.localId;
            currentQ.id = realID;
            currentQ.correctAnswer = answerMap[currentQ.localId];
            if(currentQ.correctAnswer) parsedQuestions.push(currentQ);
        }

        return parsedQuestions;
    }

    
// 3. Ana Yükleme Fonksiyonu
function loadData() {
        allQuestions = []; 

        // 1. Manuel Eklenen Eski Sorular (NORMAL TESTLER - False gönderiyoruz)
        if(typeof rawQuestionsText !== 'undefined' && typeof rawAnswersText !== 'undefined') {
             // SONDATAKİ 'false' PARAMETRESİ ÖNEMLİ
             const oldQuestions = parseRawData(rawQuestionsText, rawAnswersText, 0, false);
             allQuestions = allQuestions.concat(oldQuestions);
        }

        // 2. Çıkmış Soruları Yükle (SINAV SORULARI - True gönderiyoruz)
        if(typeof rawExamPrepQ !== 'undefined') allQuestions = allQuestions.concat(parseRawData(rawExamPrepQ, rawExamPrepA, 3000, true));
        if(typeof rawExamConjQ !== 'undefined') allQuestions = allQuestions.concat(parseRawData(rawExamConjQ, rawExamConjA, 3200, true));
        if(typeof rawExamTenseQ !== 'undefined') allQuestions = allQuestions.concat(parseRawData(rawExamTenseQ, rawExamTenseA, 3500, true));
        if(typeof rawExamVocabQ !== 'undefined') allQuestions = allQuestions.concat(parseRawData(rawExamVocabQ, rawExamVocabA, 3800, true));
        if(typeof rawKarmaQ !== 'undefined') allQuestions = allQuestions.concat(parseRawData(rawKarmaQ, rawKarmaA, 4200, false));

        // 3. Kelime Havuzu
        const vocabQuestions = generateVocabQuestions();
        allQuestions = allQuestions.concat(vocabQuestions);

        // 4. Verileri Çek
        if(localStorage.getItem('yds_progress')) progressData = JSON.parse(localStorage.getItem('yds_progress'));
        if(localStorage.getItem('yds_mistakes')) wrongBank = JSON.parse(localStorage.getItem('yds_mistakes'));
        if(localStorage.getItem('yds_generated')) generatedQuestions = JSON.parse(localStorage.getItem('yds_generated'));

        renderMenu();
    }

/* ================= UI FONKSİYONLARI ================= */
function renderMenu() {
    const menu = document.getElementById('sidebar-menu');
    menu.innerHTML = "";

    // Yanlışlar Butonu
    const mistakeBtn = document.createElement('div');
    mistakeBtn.className = "sidebar-item sidebar-mistakes";
    mistakeBtn.id = "menu-mistakes";
    mistakeBtn.innerHTML = `<span><i class="bi bi-exclamation-octagon-fill"></i> YANLIŞLARIM</span> <span class="badge bg-danger">${wrongBank.length}</span>`;
    mistakeBtn.onclick = () => showMistakes();
    menu.appendChild(mistakeBtn);

    // AI Butonu
    const aiBtn = document.createElement('div');
    aiBtn.className = "sidebar-item sidebar-ai";
    aiBtn.id = "menu-ai";
    aiBtn.innerHTML = `<span><i class="bi bi-stars"></i> YAPAY ZEKA</span> <span class="badge bg-primary" style="background-color: var(--ai-color) !important;">${generatedQuestions.length}</span>`;
    aiBtn.onclick = () => showAiGenerated();
    menu.appendChild(aiBtn);

    menu.appendChild(document.createElement('hr'));

    
    const vsBtn = document.createElement('div');
        vsBtn.className = "sidebar-item";
        vsBtn.style.border = "1px solid #6f42c1";
        vsBtn.style.color = "#6f42c1";
        vsBtn.style.fontWeight = "bold";
        vsBtn.style.background = "rgba(111, 66, 193, 0.1)";
        vsBtn.innerHTML = `<span><i class="bi bi-joystick"></i> VS MODU (Online)</span>`;
        vsBtn.onclick = () => initVsMode(); // Bu fonksiyonu aşağıda yazacağız
        menu.appendChild(vsBtn);

    // Normal Bölümler
    sections.forEach(sec => {
        const div = document.createElement('div');
        div.className = "sidebar-item";
        if(sec.key === 'secVocab') div.classList.add('sidebar-vocab');
        if(sec.key.startsWith('secExam')) div.classList.add('sidebar-exam');
        
        div.id = `menu-${sec.key}`;
        div.innerHTML = `<span>${sec.title}</span>`;
        div.onclick = () => showSection(sec.key);
        menu.appendChild(div);
    });
}

function showSection(key) {
    currentSectionKey = key;
    renderLimit = 50; 
    updateActiveMenu(`menu-${key}`);
    
    const secData = sections.find(s => s.key === key);
    document.getElementById('active-section-title').innerText = secData.title;
    
    // --- DÜZELTME BAŞLANGICI: Ekranı Normale Döndür ---
    document.getElementById('vs-area').style.display = 'none';       // VS ekranını gizle
    document.getElementById('questions-area').style.display = 'block'; // Normal soruları aç
    document.getElementById('progress-badge').style.display = 'inline-block'; // Sayacı geri getir
    // --- DÜZELTME BİTİŞİ ---

    const filteredQ = allQuestions.filter(q => q.id >= secData.start && q.id <= secData.end);
    renderQuestions(filteredQ);
    updateProgressBadge(filteredQ);
}

function showMistakes() {
    currentSectionKey = 'mistakes';
    renderLimit = 50;
    updateActiveMenu('menu-mistakes');
    document.getElementById('active-section-title').innerText = "Yanlış Cevapladığım Sorular";
    
    // --- DÜZELTME: Ekranı Normale Döndür ---
    document.getElementById('vs-area').style.display = 'none';
    document.getElementById('questions-area').style.display = 'block';
    document.getElementById('progress-badge').style.display = 'inline-block';
    // ---------------------------------------

    const mistakeQuestions = allQuestions.filter(q => wrongBank.includes(q.id));
    const mistakeAi = generatedQuestions.filter(q => wrongBank.includes(q.id));
    const combined = [...mistakeQuestions, ...mistakeAi];
    
    if(combined.length === 0) {
        document.getElementById('questions-area').innerHTML = `<div class="text-center py-5 text-muted">Henüz yanlış sorunuz yok.</div>`;
        document.getElementById('progress-badge').innerText = "0";
    } else {
        renderQuestions(combined);
        document.getElementById('progress-badge').innerText = combined.length;
    }
}
    
    function updateProgressBadge(qList) {
    const solved = qList.filter(q => progressData[q.id]).length;
    document.getElementById('progress-badge').innerText = `${solved}/${qList.length}`;
}

function showAiGenerated() {
    currentSectionKey = 'ai';
    renderLimit = 50;
    updateActiveMenu('menu-ai');
    document.getElementById('active-section-title').innerText = "Senin İçin Oluşturulanlar (Gemini)";
    
    // --- DÜZELTME: Ekranı Normale Döndür ---
    document.getElementById('vs-area').style.display = 'none';
    document.getElementById('questions-area').style.display = 'block';
    document.getElementById('progress-badge').style.display = 'inline-block';
    // ---------------------------------------

    if(generatedQuestions.length === 0) {
        document.getElementById('questions-area').innerHTML = `
            <div class="text-center py-5">
                <i class="bi bi-google fs-1" style="color: var(--ai-color);"></i>
                <p class="mt-3">Henüz yapay zeka ile soru üretmediniz.</p>
            </div>`;
        document.getElementById('progress-badge').innerText = "0";
    } else {
        renderQuestions([...generatedQuestions].reverse());
        updateProgressBadge(generatedQuestions);
    }
}

function updateActiveMenu(id) {
    document.querySelectorAll('.sidebar-item').forEach(el => el.classList.remove('active'));
    const el = document.getElementById(id);
    if(el) el.classList.add('active');
}

function renderQuestions(qList) {
        const area = document.getElementById('questions-area');
        area.innerHTML = "";
        const visibleList = qList.slice(0, renderLimit);

        visibleList.forEach((q, index) => {
            
            // --- CEVAP DURUMU ---
            let savedStatus = progressData[q.id];
            if (currentSectionKey === 'mistakes') {
                savedStatus = null; 
            }

            // --- ETİKET VE RENKLER ---
            let badgeText = "Soru";
            let badgeColorStyle = "background-color: #6c757d !important;";
            let borderStyle = "";

            if (q.isVocab) {
                badgeText = "Kelime";
                badgeColorStyle = "background-color: var(--vocab-color)!important;";
                borderStyle = "border-left: 5px solid var(--vocab-color);";
            } 
            else if (q.isAi) {
                badgeText = "Yapay Zeka";
                badgeColorStyle = "background-color: var(--ai-color)!important;";
                borderStyle = "border-left: 5px solid var(--ai-color);";
            }
            else if (q.id >= 3000 && q.id <= 3200) { badgeText = "Çıkmış Prepositions"; borderStyle = "border-left: 5px solid var(--exam-color);"; badgeColorStyle = "background-color: var(--exam-color)!important;"; }
            else if (q.id >= 3201 && q.id <= 3500) { badgeText = "Çıkmış Bağlaçlar"; borderStyle = "border-left: 5px solid var(--exam-color);"; badgeColorStyle = "background-color: var(--exam-color)!important;"; }
            else if (q.id >= 3501 && q.id <= 3800) { badgeText = "Çıkmış Tense/Modals"; borderStyle = "border-left: 5px solid var(--exam-color);"; badgeColorStyle = "background-color: var(--exam-color)!important;"; }
            else if (q.id >= 3801 && q.id <= 4200) { badgeText = "Çıkmış Kelime"; borderStyle = "border-left: 5px solid var(--exam-color);"; badgeColorStyle = "background-color: var(--exam-color)!important;"; }
            else if (q.id >= 4201 && q.id <= 4400) { badgeText = "Karma"; borderStyle = "border-left: 5px solid #6c757d;"; badgeColorStyle = "background-color: #6c757d!important;"; }
            else if (q.id >= 1 && q.id <= 70) { badgeText = "Prepositions"; borderStyle = "border-left: 5px solid #0d6efd;"; badgeColorStyle = "background-color: #0d6efd!important;"; }
            else if (q.id >= 71 && q.id <= 130) { badgeText = "Conjunctions"; borderStyle = "border-left: 5px solid #0d6efd;"; badgeColorStyle = "background-color: #0d6efd!important;"; }
            else if (q.id >= 131 && q.id <= 190) { badgeText = "Relative Clauses"; borderStyle = "border-left: 5px solid #0d6efd;"; badgeColorStyle = "background-color: #0d6efd!important;"; }
            else if (q.id >= 191 && q.id <= 250) { badgeText = "Tense & Modals"; borderStyle = "border-left: 5px solid #0d6efd;"; badgeColorStyle = "background-color: #0d6efd!important;"; }

            badgeText += ` #${index + 1} / ${qList.length}`;

            // --- İPUCU İÇERİĞİ ---
            let initialTipContent = "";
            let initialTipDisplay = "none";
            const isMistakeSection = (currentSectionKey === 'mistakes');

            // Hangi AI verisi varsa onu göster (Öncelik sırasına göre)
            if (q.aiVocabData) {
                initialTipContent = `<strong><i class="bi bi-chat-quote-fill"></i> Örnek Cümle:</strong><br><br>${q.aiVocabData}`;
                if (!isMistakeSection) initialTipDisplay = "block";
            }
            else if (q.aiAnalysisData) {
                initialTipContent = `<strong><i class="bi bi-translate"></i> Analiz & Çeviri:</strong><br><br>${q.aiAnalysisData}`;
                if (!isMistakeSection) initialTipDisplay = "block";
            } 
            else if (q.aiTipData) {
                initialTipContent = `<strong><i class="bi bi-stars"></i> Altın Tüyo:</strong><br><br>${q.aiTipData}`;
                if (!isMistakeSection) initialTipDisplay = "block";
            }
            else if (savedStatus === 'wrong' && q.tip && !q.isExam) { 
                initialTipContent = `<strong><i class="bi bi-lightbulb"></i> İPUCU:</strong> ${q.tip}`;
                initialTipDisplay = "block";
            }

            // --- ŞIKLAR ---
            let optsInner = "";
            ['A', 'B', 'C', 'D', 'E'].forEach(opt => {
                let rowClass = "";
                if (savedStatus) {
                    if (opt === q.correctAnswer) rowClass = "opt-correct";
                    else if (savedStatus === 'wrong' && progressData[q.id + '_selected'] === opt) rowClass = "opt-wrong";
                }
                optsInner += `
                <div class="option-row ${rowClass} ${savedStatus ? 'disabled-opts' : ''}" onclick="checkAnswer(${q.id}, '${opt}')">
                    <div class="btn-circle">${opt}</div>
                    <div class="option-text">${q.options[opt] || "---"}</div>
                </div>`;
            });

            // --- BUTONLAR (GÜNCELLENDİ) ---
            let buttonsHTML = "";
            
            // Eğer Kelime Sorusuyse -> Sadece Örnek Cümle Butonu
            if (q.isVocab) {
                buttonsHTML = `
                <button type="button" class="btn btn-sm btn-outline-info" onclick="getAiVocabExample(${q.id})" title="Kelimeyi cümle içinde gör">
                    <i class="bi bi-chat-quote"></i> <span class="d-none d-md-inline">Örnek Cümle</span>
                </button>`;
            } 
            // Eğer Diğer Sorularsa -> Üret / Analiz / Tüyo
            else {
                buttonsHTML = `
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="generateAiQuestions(${q.id})" title="Benzer Soru Üret">
                        <i class="bi bi-stars"></i> <span class="d-none d-md-inline">Üret</span>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-success" onclick="getAiAnalysis(${q.id})" title="Çeviri ve Analiz">
                        <i class="bi bi-translate"></i> <span class="d-none d-md-inline">Analiz</span>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-warning btn-ai-tip" onclick="getAiTip(${q.id})" title="Sadece Tüyo">
                        <i class="bi bi-lightbulb-fill"></i> <span class="d-none d-md-inline">Tüyo</span>
                    </button>
                </div>`;
            }

            // --- HTML BAS ---
            area.insertAdjacentHTML('beforeend', `
            <div class="card mb-4 border-start-0" id="card-${q.id}" style="${borderStyle}">
                <div class="card-body">
                    <div class="d-flex justify-content-between mb-2 align-items-center">
                        <div>
                            <span class="badge bg-secondary" style="${badgeColorStyle}">${badgeText}</span>
                            ${savedStatus ? (savedStatus==='correct' ? '<span class="badge bg-success ms-1">Çözüldü</span>' : '<span class="badge bg-danger ms-1">Hatalı</span>') : ''}
                        </div>
                        ${buttonsHTML}
                    </div>
                    <p class="question-text">${formatQuestionText(q.text)}</p>
                    <div id="opts-${q.id}">${optsInner}</div>
                    <div id="feedback-${q.id}">
                        ${savedStatus === 'correct' ? '<div class="mt-2 text-success fw-bold"><i class="bi bi-check-circle"></i> Doğru!</div>' : 
                          (savedStatus === 'wrong' ? `<div class="mt-2 text-danger fw-bold"><i class="bi bi-x-circle"></i> Yanlış. Cevap: ${q.correctAnswer}</div>` : '')}
                    </div>
                    
                    <div id="tip-${q.id}" class="tip-box mt-3" style="display: ${initialTipDisplay};">
                        ${initialTipContent}
                    </div>
                </div>
            </div>`);
        });

        if (qList.length > renderLimit) {
            const remaining = qList.length - renderLimit;
            area.insertAdjacentHTML('beforeend', `
                <div class="text-center py-4">
                    <button class="btn btn-lg btn-outline-primary px-5 shadow-sm" onclick="loadMoreQuestions()">
                        <i class="bi bi-arrow-down-circle"></i> Sonraki 50 Soruyu Göster (+${remaining})
                    </button>
                </div>`);
        }
    }

    // EKSİK OLAN FONKSİYON BURASI
    function formatQuestionText(text) {
        if (!text) return "";
        return text.replace(/___/g, "__________");
    }

    /* ================= GÜNLÜK HEDEF TAKİP SİSTEMİ ================= */
    
    // Varsayılan Hedef Yapısı
    const defaultGoals = {
        date: new Date().toLocaleDateString("tr-TR"),
        targets: {
            prep: 20,
            conj: 20,
            rel: 20,
            tense: 20,
            vocab: 50,
            examVocab: 20,
            karma: 20
        },
        current: {
            prep: 0,
            conj: 0,
            rel: 0,
            tense: 0,
            vocab: 0,
            examVocab: 0,
            karma: 0
        },
        solvedIds: [] // Aynı gün aynı soruyu tekrar saymamak için
    };

    let dailyData = JSON.parse(localStorage.getItem('yds_daily_goals')) || JSON.parse(JSON.stringify(defaultGoals));

    // Eski kullanıcılar için karma anahtarı yoksa ekle
    if (dailyData.targets.karma === undefined) dailyData.targets.karma = 20;
    if (dailyData.current.karma === undefined) dailyData.current.karma = 0;

    // Sayfa Yüklendiğinde Tarih Kontrolü
    function checkDateAndReset() {
        const today = new Date().toLocaleDateString("tr-TR");
        if (dailyData.date !== today) {
            // Yeni gün! Sayaçları sıfırla ama hedefleri koru
            dailyData.date = today;
            dailyData.current = { prep: 0, conj: 0, rel: 0, tense: 0, vocab: 0, examVocab: 0, karma: 0 };
            dailyData.solvedIds = [];
            localStorage.setItem('yds_daily_goals', JSON.stringify(dailyData));
        }
        document.getElementById('goal-date-display').innerText = `Tarih: ${today}`;
    }

    // Modal'ı Aç ve Listeyi Oluştur
    function openDailyGoals() {
        checkDateAndReset();
        const container = document.getElementById('goal-list-container');
        container.innerHTML = "";

        const categories = [
            { key: 'prep', title: 'Prepositions', color: 'primary' },
            { key: 'conj', title: 'Conjunctions', color: 'info' },
            { key: 'rel', title: 'Relative Clauses', color: 'warning' },
            { key: 'tense', title: 'Tense & Modals', color: 'danger' },
            { key: 'vocab', title: 'YDS Kelimeler', color: 'success' },
            { key: 'examVocab', title: 'Çıkmış Kelime', color: 'primary' },
            { key: 'karma', title: 'Karma Deneme', color: 'secondary' }
        ];

        categories.forEach(cat => {
            const current = dailyData.current[cat.key];
            const target = dailyData.targets[cat.key];
            const percent = Math.min(100, Math.round((current / target) * 100));
            
            let progressClass = "bg-" + cat.color;
            if(percent >= 100) progressClass = "bg-success"; // Hedef tamamlandıysa yeşil olsun

            const html = `
            <div class="mb-3 border p-2 rounded shadow-sm">
                <div class="d-flex justify-content-between align-items-center mb-1">
                    <strong class="text-${cat.color}">${cat.title}</strong>
                    <span class="badge ${percent >= 100 ? 'bg-success' : 'bg-secondary'}">${current} / ${target}</span>
                </div>
                <div class="progress mb-2" style="height: 10px;">
                    <div class="progress-bar ${progressClass}" role="progressbar" style="width: ${percent}%"></div>
                </div>
                <div class="input-group input-group-sm">
                    <span class="input-group-text">Hedef:</span>
                    <input type="number" class="form-control" id="goal-input-${cat.key}" value="${target}" min="1">
                </div>
            </div>`;
            container.insertAdjacentHTML('beforeend', html);
        });

        const modal = new bootstrap.Modal(document.getElementById('goalModal'));
        modal.show();
    }

    // Kullanıcının Girdiği Hedefleri Kaydet
    function saveUserGoals() {
        const keys = ['prep', 'conj', 'rel', 'tense', 'vocab', 'examVocab', 'karma'];
        keys.forEach(key => {
            const val = parseInt(document.getElementById(`goal-input-${key}`).value);
            if (val > 0) dailyData.targets[key] = val;
        });
        localStorage.setItem('yds_daily_goals', JSON.stringify(dailyData));
        
        // Modalı kapat
        const modalEl = document.getElementById('goalModal');
        const modal = bootstrap.Modal.getInstance(modalEl);
        modal.hide();
        alert("Hedefler güncellendi!");
    }

    // Manuel Sıfırlama
    function resetDailyProgressManual() {
        if(!confirm("Bugünkü ilerlemeniz sıfırlanacak. Onaylıyor musunuz?")) return;
        dailyData.current = { prep: 0, conj: 0, rel: 0, tense: 0, vocab: 0, examVocab: 0, karma: 0 };
        dailyData.solvedIds = [];
        localStorage.setItem('yds_daily_goals', JSON.stringify(dailyData));
        openDailyGoals(); // Ekranı yenile
    }

    // İLERLEMEYİ KAYDETME VE BİLDİRİM KONTROLÜ
    function trackDailyProgress(qId) {
        checkDateAndReset();

        // 1. Yanlışlar veya AI bölümündeyse sayma
        if (currentSectionKey === 'mistakes' || currentSectionKey === 'ai') return;

        // 2. Bu soru bugün zaten çözüldüyse tekrar sayma
        if (dailyData.solvedIds.includes(qId)) return;

        // Kategoriyi Bul
        let category = null;
        let catTitle = "";

        if ( (qId >= 1 && qId <= 70) || (qId >= 3000 && qId <= 3200) ) {
            category = 'prep'; catTitle = "Prepositions";
        } else if ( (qId >= 71 && qId <= 130) || (qId >= 3201 && qId <= 3500) ) {
            category = 'conj'; catTitle = "Conjunctions";
        } else if ( qId >= 131 && qId <= 190 ) {
            category = 'rel'; catTitle = "Relative Clauses";
        } else if ( (qId >= 191 && qId <= 250) || (qId >= 3501 && qId <= 3800) ) {
            category = 'tense'; catTitle = "Tense & Modals";
        } else if ( qId >= 1000 && qId <= 2999 ) {
            category = 'vocab'; catTitle = "YDS Kelimeler";
        } else if ( qId >= 3801 && qId <= 4200 ) {
            category = 'examVocab'; catTitle = "Çıkmış Kelimeler";
        } else if ( qId >= 4201 && qId <= 4400 ) {
            category = 'karma'; catTitle = "Karma Deneme";
        }

        // Eğer geçerli bir kategoriyse artır
        if (category) {
            dailyData.current[category]++;
            dailyData.solvedIds.push(qId);
            localStorage.setItem('yds_daily_goals', JSON.stringify(dailyData));

            // --- BİLDİRİM KONTROLÜ (YENİ) ---
            // Eğer o an hedefe tam ulaşıldıysa (fazlasında değil, tam eşitken)
            if (dailyData.current[category] === dailyData.targets[category]) {
                showGoalCelebration(catTitle);
            }
        }
    }

// --- 1. GÜNCELLENMİŞ HEDEF KUTLAMASI (KO EFEKTİ + SES) ---
function showGoalCelebration(categoryTitle) {
    // Toast Bildirimi
    const toastEl = document.getElementById('goalToast');
    const toastBody = document.getElementById('goalToastBody');
    if(toastEl && toastBody) {
        toastBody.innerText = `GÖREV TAMAMLANDI: ${categoryTitle} ✅`;
        const toast = new bootstrap.Toast(toastEl, { delay: 4000 });
        toast.show();
    }
    
    // KO Overlay efekti - güm diye vursun
    showGoalKoOverlay();
    
    // KO ses efekti
    try {
        var koSound = new Audio('ko.mp3');
        koSound.volume = 0.8;
        koSound.play().catch(function(e) { console.log('KO ses çalamadı:', e); });
    } catch(e) { console.log('Ses hatası:', e); }
    
    // Konfeti efekti de ekle
    if(typeof confetti === 'function') {
        setTimeout(function() {
            confetti({ particleCount: 120, spread: 80, origin: { y: 0.6 } });
        }, 300);
    }
}

// Hedef KO Overlay (tam ekran ortasında güm diye vurma efekti)
function showGoalKoOverlay() {
    var overlay = document.getElementById('goal-ko-overlay');
    if(!overlay) {
        // İlk seferde oluştur
        overlay = document.createElement('div');
        overlay.id = 'goal-ko-overlay';
        overlay.innerHTML = '<img src="ko55.png" alt="K.O.">';
        document.body.appendChild(overlay);
    }
    
    // Animasyonu sıfırla ve başlat
    overlay.classList.remove('d-none', 'goal-ko-anim');
    overlay.style.display = 'flex';
    void overlay.offsetWidth; // Force reflow
    overlay.classList.add('goal-ko-anim');
    
    // 4 saniye sonra kaybol
    setTimeout(function() {
        overlay.style.display = 'none';
        overlay.classList.remove('goal-ko-anim');
    }, 4000);
}

/* ================= CEVAP KONTROLÜ (TEKRAR TIKLAMA ENGELLİ) ================= */
window.checkAnswer = function(qId, selectedOpt) {
    // YANLIŞLARIM bölümünde tekrar cevaplanabilir olmalı
    if (progressData[qId] && currentSectionKey !== 'mistakes') {
        console.log("Bu soru zaten çözüldü.");
        return; 
    }
    // -----------------------------------------------------------------------

    // Soruyu bul
    let q = allQuestions.find(i => i.id === qId) || generatedQuestions.find(i => i.id === qId);
    if(!q) return;

    const container = document.getElementById(`opts-${qId}`);
    const feedbackDiv = document.getElementById(`feedback-${qId}`);
    const tipDiv = document.getElementById(`tip-${qId}`);
    
    // Şıkları kilitle ve boya
    const rows = container.querySelectorAll('.option-row');
    rows.forEach(row => {
        row.classList.add('disabled-opts'); // Görsel olarak da tıkla namaz yap
        const btnText = row.querySelector('.btn-circle').innerText;
        if (btnText === q.correctAnswer) row.classList.add('opt-correct');
        else if (btnText === selectedOpt && selectedOpt !== q.correctAnswer) row.classList.add('opt-wrong');
    });

    const isCorrect = (selectedOpt === q.correctAnswer);

    if (isCorrect) {
        feedbackDiv.innerHTML = `<div class="mt-2 text-success fw-bold"><i class="bi bi-check-circle"></i> Doğru!</div>`;
        if(!q.aiExplanation && tipDiv) tipDiv.style.display = 'none';
        
        // Puanlama
        if (!q.isAi) {
            let points = 0;
            if (currentSectionKey === 'mistakes') points = 50;
            else points = 100;
            addScorePoints(points);
        }

        if (wrongBank.includes(qId)) {
            wrongBank = wrongBank.filter(id => id !== qId);
            localStorage.setItem('yds_mistakes', JSON.stringify(wrongBank));
            const badge = document.querySelector('#menu-mistakes .badge');
            if(badge) badge.innerText = wrongBank.length;
        }
        // DÜZELTME: Eğer "Yanlışlarım" sekmesinde çözüyorsak ana bölümdeki "Hatalı" etiketini bozma!
        if (currentSectionKey !== 'mistakes') {
            progressData[qId] = 'correct'; 
        }

    } else {
        feedbackDiv.innerHTML = `<div class="mt-2 text-danger fw-bold"><i class="bi bi-x-circle"></i> Yanlış. Cevap: ${q.correctAnswer}</div>`;
        if(tipDiv && (!q.isExam || (q.isExam && q.aiExplanation))) tipDiv.style.display = 'block';

        if (!wrongBank.includes(qId)) {
            wrongBank.push(qId);
            localStorage.setItem('yds_mistakes', JSON.stringify(wrongBank));
            const badge = document.querySelector('#menu-mistakes .badge');
            if(badge) badge.innerText = wrongBank.length;
        }
        
        // Hatırlatıcıya ayrı listeye de gönder
        let srsBank = JSON.parse(localStorage.getItem('yds_srs_bank')) || [];
        if (!srsBank.includes(qId)) {
            srsBank.push(qId);
            localStorage.setItem('yds_srs_bank', JSON.stringify(srsBank));
        }
        
        progressData[qId] = 'wrong';
        progressData[qId + '_selected'] = selectedOpt;
    }

    localStorage.setItem('yds_progress', JSON.stringify(progressData));
    
    // Hedef kontrolü
    if(typeof trackDailyProgress === "function") trackDailyProgress(qId);
};
    
function goToFirstUnsolved() {
    if (!currentSectionKey) { alert("Lütfen bölüm seçiniz."); return; }

    let activeList = [];
    if (currentSectionKey === 'mistakes') {
        const mistakeQuestions = allQuestions.filter(q => wrongBank.includes(q.id));
        const mistakeAi = generatedQuestions.filter(q => wrongBank.includes(q.id));
        activeList = [...mistakeQuestions, ...mistakeAi];
    } else if (currentSectionKey === 'ai') {
        activeList = [...generatedQuestions].reverse();
    } else {
        const secData = sections.find(s => s.key === currentSectionKey);
        if(secData) activeList = allQuestions.filter(q => q.id >= secData.start && q.id <= secData.end);
    }

    if (!activeList.length) { alert("Bu bölümde soru yok."); return; }

    let targetIndex = activeList.findIndex(q => !progressData[q.id]);
    if (targetIndex === -1) targetIndex = activeList.length - 1;

    const targetQuestion = activeList[targetIndex];

    if (renderLimit <= targetIndex + 5) {
        renderLimit = targetIndex + 25;
    }

    renderQuestions(activeList);

    setTimeout(() => {
        const element = document.getElementById(`card-${targetQuestion.id}`);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'center' });
            const isDark = document.body.getAttribute('data-theme') === 'dark';
            element.style.transition = "background-color 0.5s";
            element.style.backgroundColor = isDark ? '#444' : '#fff3cd';
            setTimeout(() => { element.style.backgroundColor = ""; }, 1000);
        } else {
            console.warn("Kart bulunamadı.");
            window.location.href = `#card-${targetQuestion.id}`;
        }
    }, 50);
}
// --- TEMİZLEME BUTONU İÇİN EKSİK OLAN FONKSİYON ---
    function resetCurrentSection() {
        if (!currentSectionKey) {
            alert("Lütfen önce bir bölüm seçiniz.");
            return;
        }

        if (!confirm("Bu bölümdeki ilerlemeniz ve cevaplarınız silinecek. Emin misiniz?")) return;
        
        let targetIds = [];

        // 1. Yanlışlar Bölümü ise
        if (currentSectionKey === 'mistakes') {
            const mistakeQuestions = allQuestions.filter(q => wrongBank.includes(q.id));
            const mistakeAi = generatedQuestions.filter(q => wrongBank.includes(q.id));
            [...mistakeQuestions, ...mistakeAi].forEach(q => targetIds.push(q.id));
            wrongBank = [];
            localStorage.setItem('yds_mistakes', JSON.stringify([]));
            showMistakes();
        }
        // 2. Yapay Zeka Bölümü ise
        else if (currentSectionKey === 'ai') {
            if(confirm("AI tarafından üretilen sorular tamamen silinsin mi? (Geri alınamaz)")) {
                generatedQuestions.forEach(q => targetIds.push(q.id));
                generatedQuestions = [];
                localStorage.removeItem('yds_generated');
            } else {
                // Sadece cevapları temizle, sorular kalsın
                generatedQuestions.forEach(q => targetIds.push(q.id));
            }
        } 
        // 3. Normal Bölümler ise
        else {
            const secData = sections.find(s => s.key === currentSectionKey);
            if (secData) {
                const qList = allQuestions.filter(q => q.id >= secData.start && q.id <= secData.end);
                qList.forEach(q => targetIds.push(q.id));
            }
        }

        // İlerlemeyi (progressData) temizle
        targetIds.forEach(id => {
            delete progressData[id];
            delete progressData[id + '_selected'];
        });

        localStorage.setItem('yds_progress', JSON.stringify(progressData));
        
        // Ekranı Yenile
        if(currentSectionKey === 'ai') showAiGenerated();
        else if(currentSectionKey !== 'mistakes') showSection(currentSectionKey);
    }
/* ================= AI FONKSİYONLARI ================= */

function openSettings() {
    new bootstrap.Modal(document.getElementById('apiModal')).show();
    document.getElementById('apiKeyInput').value = userApiKey;
}

function saveApiKey() {
    const key = document.getElementById('apiKeyInput').value.trim();
    if(key.length > 20) { 
        userApiKey = key;
        localStorage.setItem('yds_gemini_key', userApiKey);
        alert("Anahtar kaydedildi!");
        location.reload(); 
    } else {
        alert("Lütfen geçerli bir anahtar giriniz.");
    }
}
    
// --- KELİME BÖLÜMÜNE ÖZEL: ÖRNEK CÜMLE ---
    async function getAiVocabExample(questionId) {
        if(!userApiKey) { alert("API Anahtarı eksik! Ayarlardan ekleyin."); openSettings(); return; }

        let q = allQuestions.find(i => i.id === questionId);
        if(!q) return;

        // Daha önce hafızaya alındıysa direkt göster
        if(q.aiVocabData) {
            showTipBox(q.id, "Örnek Cümle & Çeviri", "bi-chat-quote-fill", q.aiVocabData);
            return;
        }

        showLoading(q.id, "Örnek cümle hazırlanıyor...");

        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent?key=${userApiKey}`;
        
        // AI'ya akıllı talimat veriyoruz: Hangi kelimenin İngilizce olduğunu kendisi bulsun.
        const prompt = `
            Sen bir YDS İngilizce öğretmenisin. Aşağıdaki kelime sorusu verilerini analiz et.
            
            SORU METNİ: "${q.text}"
            DOĞRU CEVAP ŞIKKI: "${q.options[q.correctAnswer]}"
            
            GÖREV:
            1. Bu soruda sorulan asıl "İNGİLİZCE AKADEMİK KELİMEYİ" tespit et. (Soru metninde de olabilir, cevap şıkkında da olabilir).
            2. Bu kelimeyi kullanarak YDS seviyesinde, akademik ama anlaşılır bir İngilizce cümle kur.
            3. Bu cümlenin tam Türkçe çevirisini yap.
            
            ÇIKTI FORMATI (Düz metin, HTML yok):
            Kelime: [Tespit Ettiğin Kelime]
            🇬🇧 [İngilizce Cümle]
            🇹🇷 [Türkçe Çevirisi]
        `;

        try {
            const data = await callGemini(url, prompt);
            q.aiVocabData = data.replace(/\n/g, '<br>'); // Kaydet
            showTipBox(q.id, "Örnek Cümle & Çeviri", "bi-chat-quote-fill", q.aiVocabData);
        } catch (e) { showError(q.id, e.message); }
    }
// --- 1. BUTON: SADECE ANALİZ VE ÇEVİRİ ---
    async function getAiAnalysis(questionId) {
        if(!userApiKey) { alert("API Anahtarı eksik!"); openSettings(); return; }

        let q = allQuestions.find(i => i.id === questionId);
        if(!q) return;

        // Eğer daha önce hafızaya aldıysak tekrar sorma, direkt göster
        if(q.aiAnalysisData) {
            showTipBox(q.id, "Analiz & Çeviri", "bi-translate", q.aiAnalysisData);
            return;
        }

        showLoading(q.id, "Analiz yapılıyor...");

        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent?key=${userApiKey}`;
        const prompt = `
            Sen uzman bir İngilizce öğretmenisin. Aşağıdaki YDS sorusu için şu formatta yanıt ver:
            
            SORU: "${q.text}"
            ŞIKLAR: A) ${q.options.A}, B) ${q.options.B}, C) ${q.options.C}, D) ${q.options.D}, E) ${q.options.E}
            DOĞRU: ${q.correctAnswer}

            Lütfen şu 3 başlığı detaylıca açıkla (HTML kullanma, düz metin):
            1. SORUNUN TÜRKÇE ÇEVİRİSİ: (Cümleyi tam çevir)
            2. NEDEN DOĞRU?: (Gramer yapısı veya kelime anlamı üzerinden açıkla)
            3. NEDEN YANLIŞ?: (Diğer şıkların neden olmadığını kısaca açıkla)
        `;

        try {
            const data = await callGemini(url, prompt);
            q.aiAnalysisData = data.replace(/\n/g, '<br>'); // Kaydet
            showTipBox(q.id, "Analiz & Çeviri", "bi-translate", q.aiAnalysisData);
        } catch (e) { showError(q.id, e.message); }
    }

    /* ================= AI FONKSİYONLARI (TAM SET) ================= */

    // --- 1. BUTON: ANALİZ VE ÇEVİRİ ---
    async function getAiAnalysis(questionId) {
        if(!userApiKey) { alert("API Anahtarı eksik! Lütfen ayarlardan ekleyin."); openSettings(); return; }

        // Hem ana havuzda hem yapay zeka havuzunda ara
        let q = allQuestions.find(i => i.id === questionId) || generatedQuestions.find(i => i.id === questionId);
        
        if(!q) { console.error("Soru bulunamadı ID:", questionId); return; }

        // Hafızada varsa direkt göster
        if(q.aiAnalysisData) {
            showTipBox(q.id, "Analiz & Çeviri", "bi-translate", q.aiAnalysisData);
            return;
        }

        showLoading(q.id, "Analiz yapılıyor...");

        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent?key=${userApiKey}`;
        const prompt = `
            Sen uzman bir İngilizce öğretmenisin. Aşağıdaki YDS sorusu için şu formatta yanıt ver:
            
            SORU: "${q.text}"
            ŞIKLAR: A) ${q.options.A}, B) ${q.options.B}, C) ${q.options.C}, D) ${q.options.D}, E) ${q.options.E}
            DOĞRU: ${q.correctAnswer}

            Lütfen şu 3 başlığı HTML kullanmadan, düz metin ve satır başlarıyla açıkla:
            1. SORUNUN TÜRKÇE ÇEVİRİSİ: (Cümleyi tam çevir)
            2. NEDEN DOĞRU?: (Gramer yapısı veya kelime anlamı üzerinden açıkla)
            3. NEDEN YANLIŞ?: (Diğer şıkların neden olmadığını kısaca açıkla)
        `;

        try {
            const data = await callGemini(url, prompt);
            q.aiAnalysisData = data.replace(/\n/g, '<br>'); // Kaydet
            showTipBox(q.id, "Analiz & Çeviri", "bi-translate", q.aiAnalysisData);
        } catch (e) { showError(q.id, e.message); }
    }

    // --- 2. BUTON: SADECE TÜYO ---
    async function getAiTip(questionId) {
        if(!userApiKey) { alert("API Anahtarı eksik! Lütfen ayarlardan ekleyin."); openSettings(); return; }

        let q = allQuestions.find(i => i.id === questionId) || generatedQuestions.find(i => i.id === questionId);
        
        if(!q) { console.error("Soru bulunamadı ID:", questionId); return; }

        if(q.aiTipData) {
            showTipBox(q.id, "Altın Tüyo", "bi-stars", q.aiTipData);
            return;
        }

        showLoading(q.id, "Tüyo hazırlanıyor...");

        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent?key=${userApiKey}`;
        const prompt = `
            Bu YDS sorusu için öğrencime sadece bir "Sınav Tüyosu" ver.
            Soru metni: "${q.text}"
            Cevap: ${q.correctAnswer}
            
            İstek: Uzun çeviri veya açıklama yapma. Sadece bu soru tipini çözerken nelere dikkat etmeli, hangi ipucunu yakalamalı? Kısa ve öz bir strateji ver.
        `;

        try {
            const data = await callGemini(url, prompt);
            q.aiTipData = data.replace(/\n/g, '<br>'); // Kaydet
            showTipBox(q.id, "Altın Tüyo", "bi-stars", q.aiTipData);
        } catch (e) { showError(q.id, e.message); }
    }

    // --- YARDIMCI ARAÇLAR (EKSİK OLANLAR BUNLARDI) ---
    
    // API Çağrısı Yapan Ortak Fonksiyon
    async function callGemini(url, promptText) {
        const response = await fetch(url, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ contents: [{ parts: [{ text: promptText }] }] })
        });
        const json = await response.json();
        
        if (json.error) throw new Error(json.error.message);
        if (!json.candidates || !json.candidates[0].content) throw new Error("API yanıt vermedi.");
        
        return json.candidates[0].content.parts[0].text;
    }

    // Ekranda "Yükleniyor" animasyonu gösterir
    function showLoading(id, msg) {
        const box = document.getElementById(`tip-${id}`);
        if(box) {
            box.style.display = 'block';
            box.innerHTML = `<div class="d-flex align-items-center gap-2"><div class="spinner-border spinner-border-sm text-primary"></div> <span>${msg}</span></div>`;
        }
    }

    // Sonucu Ekrana Basar
    function showTipBox(id, title, icon, content) {
        const box = document.getElementById(`tip-${id}`);
        if(box) {
            box.style.display = 'block';
            // Koyu/Açık tema kontrolü
            const isDark = document.body.getAttribute('data-theme') === 'dark';
            box.style.backgroundColor = isDark ? '#37474f' : '#e3f2fd'; 
            box.innerHTML = `<strong><i class="bi ${icon}"></i> ${title}:</strong><br><br>${content}`;
        }
    }

    // Hata Mesajı Gösterir
    function showError(id, msg) {
        const box = document.getElementById(`tip-${id}`);
        if(box) {
            box.style.display = 'block';
            box.innerHTML = `<span class="text-danger">Hata: ${msg}</span>`;
        }
    }

    
 // --- 3. BUTON: BENZER SORU ÜRET (JSON MODU EKLENDİ) ---
    async function generateAiQuestions(sourceId) {
        if(!userApiKey) {
            alert("API Anahtarı girilmemiş! Lütfen 'API' butonuna basarak ekleyin.");
            openSettings();
            return;
        }

        let sourceQ = allQuestions.find(q => q.id === sourceId) || generatedQuestions.find(q => q.id === sourceId);
        if (!sourceQ) { console.error("Kaynak soru bulunamadı!"); return; }

        document.getElementById('loadingOverlay').classList.remove('d-none');

        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent?key=${userApiKey}`;
        
        const promptText = `
            YDS sınavı için soru klonla.
            Orijinal Soru: "${sourceQ.text}"
            Doğru Cevap Şıkkı: ${sourceQ.correctAnswer}
            Doğru Cevabın İçeriği: "${sourceQ.options[sourceQ.correctAnswer]}"
            
            GÖREV: Bu soruya gramer yapısı, zorluk seviyesi ve mantık olarak "BENZER" 3 yeni soru üret.
            
            KURALLAR (Çok Önemli):
            1. EĞER KELİME/BAĞLAÇ/EDAT/Relative Clauses SORUSU İSE: Doğru cevap, orijinal sorudaki kelimenin/bağlacın AYNISI olmalıdır. Sadece soru cümlesini değiştir. (Amaç: Aynı kelimeyi farklı bağlamda öğretmek).
            2. EĞER GRAMER (Tense/Modal/Passive) SORUSU İSE: Doğru cevap, orijinal sorudaki ile AYNI GRAMER YAPISINDA olmalıdır. (Örneğin: Orijinal cevap 'would have gone' [Modal Perfect] ise, yeni sorunun cevabı da 'could have seen' gibi aynı yapıda olmalıdır).
            3. Çeldirici şıklar kafa karıştırıcı ve YDS formatına uygun olmalıdır.
            
            Çıktı FORMATI (Sadece saf JSON dizisi):
            [
              { "text": "Soru metni (boşluk için ___ kullan)", "options": {"A": "...", "B": "...", "C": "...", "D": "...", "E": "..."}, "correctAnswer": "A", "tip": "İpucu (Türkçe)" }
            ]
        `;

        try {
            const response = await fetch(url, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 
                    contents: [{ parts: [{ text: promptText }] }],
                    // --- İŞTE BU SATIR HATAYI ÇÖZER ---
                    generationConfig: { response_mime_type: "application/json" } 
                })
            });

            const data = await response.json();
            
            if (data.error) throw new Error(data.error.message);
            if (!data.candidates || !data.candidates[0].content) throw new Error("API yanıt vermedi.");

            let rawText = data.candidates[0].content.parts[0].text;
            const newQuestions = JSON.parse(rawText);

            newQuestions.forEach((nq, index) => {
                const newId = Date.now() + index; 
                generatedQuestions.push({
                    id: newId,
                    text: nq.text,
                    options: nq.options,
                    correctAnswer: nq.correctAnswer,
                    tip: nq.tip + " (AI Üretimi)",
                    isAi: true
                });
            });

            localStorage.setItem('yds_generated', JSON.stringify(generatedQuestions));
            renderMenu();
            alert(`${newQuestions.length} yeni soru üretildi! 'YAPAY ZEKA' menüsünden çözebilirsin.`);

        } catch (error) {
            alert("Hata oluştu: " + error.message);
            console.error(error);
        } finally {
            document.getElementById('loadingOverlay').classList.add('d-none');
        }
    }

    function fullReset() {
        if (!confirm("TÜM ilerlemeniz ve ayarlarınız silinecek. Emin misiniz?")) return;
        localStorage.clear();
        location.reload();
    }
    
    function loadMoreQuestions() {
        renderLimit += 50;
        
        let activeList = [];
        if (currentSectionKey === 'mistakes') {
            const mistakeQuestions = allQuestions.filter(q => wrongBank.includes(q.id));
            const mistakeAi = generatedQuestions.filter(q => wrongBank.includes(q.id));
            activeList = [...mistakeQuestions, ...mistakeAi];
        } else if (currentSectionKey === 'ai') {
            activeList = [...generatedQuestions].reverse();
        } else {
            const secData = sections.find(s => s.key === currentSectionKey);
            if(secData) {
                activeList = allQuestions.filter(q => q.id >= secData.start && q.id <= secData.end);
            }
        }
        
        if (activeList.length > 0) {
            renderQuestions(activeList);
        }
    }

    function toggleTheme() {
        const body = document.body;
        if(body.getAttribute('data-theme') === 'dark') { 
            body.removeAttribute('data-theme'); 
            localStorage.setItem('yds_theme', 'light'); 
        } else { 
            body.setAttribute('data-theme', 'dark'); 
            localStorage.setItem('yds_theme', 'dark'); 
        }
    }

/* ================= VS MODU (MULTIPLAYER - REVAMPED) ================= */
let peer = null;
let conn = null;
let amIHost = false;
let vsQuestions = [];
let currentVsIndex = 0;
let myAnswer = null;
let oppAnswer = null;
let myAnswerTime = 0;
let oppAnswerTime = 0;
let vsTimerInterval = null;
let vsTimerStart = 0;

// Health
let p1HP = 100;
let p2HP = 100;

// Ready system
let myReady = false;
let oppReady = false;

// Track if match ended
let vsMatchEnded = false;

// AI hint
let hintRequested = false;
let hintShown = false;

// Player names
let vsMyName = "";
let vsOppName = "";


// Menuden Tiklaninca
function initVsMode() {
    document.getElementById('questions-area').style.display = 'none';
    document.getElementById('vs-area').style.display = 'block';
    document.getElementById('active-section-title').innerText = "VS Modu (Cok Oyunculu)";
    
    if(peer) { peer.destroy(); peer = null; }
    
    document.getElementById('vs-lobby').classList.remove('d-none');
    document.getElementById('vs-setup').classList.add('d-none');
    document.getElementById('host-status').classList.add('d-none');
    document.getElementById('host-ready-msg').classList.add('d-none');
    document.getElementById('host-id-input').value = "";
    document.getElementById('join-id-input').value = "";
}

// OZEL ISIMLE ODA KUR (HOST)
function createCustomRoom() {
    const roomId = document.getElementById('host-id-input').value.trim().replace(/[^a-zA-Z0-9_-]/g, "");
    
    if (roomId.length < 3) {
        alert("Oda ismi en az 3 karakter olmali!");
        return;
    }

    vsMyName = document.getElementById('vs-host-name').value.trim() || currentUser || "HOST";

    document.getElementById('host-status').classList.remove('d-none');
    document.getElementById('host-status').innerText = "Oda kuruluyor (" + roomId + ")...";

    peer = new Peer(roomId);

    peer.on('open', (id) => {
        amIHost = true;
        document.getElementById('host-status').classList.add('d-none');
        document.getElementById('host-ready-msg').classList.remove('d-none');
        document.getElementById('host-id-input').disabled = true;
    });

    peer.on('error', (err) => {
        document.getElementById('host-status').classList.add('d-none');
        if (err.type === 'unavailable-id') {
            alert("Bu oda ismi (" + roomId + ") zaten kullaniliyor. Baska bir isim deneyin.");
        } else {
            alert("Hata olustu: " + err.type);
        }
        document.getElementById('host-id-input').disabled = false;
        peer = null;
    });

    peer.on('connection', (c) => {
        conn = c;
        setupConnection();
    });
}

// ODAYA KATIL (GUEST)
function joinRoom() {
    const destId = document.getElementById('join-id-input').value.trim();
    if (!destId) return alert("Lutfen oda ismini girin!");
    
    vsMyName = document.getElementById('vs-guest-name').value.trim() || currentUser || "GUEST";
    amIHost = false;
    peer = new Peer(); 

    peer.on('open', (id) => {
        conn = peer.connect(destId);
        
        peer.on('error', (err) => {
            alert("Oda bulunamadi veya baglanti hatasi!");
        });

        setupConnection();
    });
}

// BAGLANTI KURULDUGUNDA (ORTAK)
function setupConnection() {
    if(!conn) return;

    conn.on('open', () => {
        console.log("Baglanti saglandi!");
        
        // Send my name to opponent
        conn.send({ type: 'PLAYER_NAME', name: vsMyName });
        
        if (amIHost) {
            document.getElementById('vs-lobby').classList.add('d-none');
            document.getElementById('vs-setup').classList.remove('d-none');
            renderCategorySelection();
        } else {
            document.getElementById('vs-lobby').innerHTML = '<div class="text-center py-5"><h3 class="text-success fw-bold"><i class="bi bi-check-circle-fill"></i> Odaya Girildi!</h3><p class="lead">Host\'un oyunu baslatmasi bekleniyor...</p><div class="spinner-border text-primary" style="width:3rem;height:3rem;"></div></div>';
        }
    });

    conn.on('data', (data) => {
        handleVsData(data);
    });
    
    conn.on('close', () => {
        if(!vsMatchEnded) {
            alert("Baglanti koptu!");
            location.reload();
        }
    });
}

// KATEGORI SECIMI (Fetih tarzi: per-section timer + quest count)
function renderCategorySelection() {
    const list = document.getElementById('vs-cat-list');
    list.innerHTML = "";
    const cats = sections.filter(s => s.key !== 'secAi' && s.key !== 'secMistakes');
    
    cats.forEach(c => {
        const count = allQuestions.filter(q => q.id >= c.start && q.id <= c.end).length;
        list.innerHTML += '<div class="vs-cat-row">'
            + '<div class="form-check mb-0" style="flex:1;">'
            + '<input class="form-check-input vs-cat-check" type="checkbox" value="' + c.key + '" id="chk-' + c.key + '" checked>'
            + '<label class="form-check-label text-white" for="chk-' + c.key + '">' + c.title + ' <small style="color:#888;">(' + count + ')</small></label>'
            + '</div>'
            + '<div class="d-flex align-items-center gap-1">'
            + '<input type="number" class="vs-cat-qcount-input" id="qcount-' + c.key + '" value="3" min="1" max="50" title="Soru sayisi">'
            + '<small style="color:#3498db;">soru</small>'
            + '</div>'
            + '<div class="d-flex align-items-center gap-1 ms-2">'
            + '<input type="number" class="vs-cat-timer-input" id="timer-' + c.key + '" value="30" min="5" max="300" title="Sure (saniye)">'
            + '<small style="color:#f1c40f;">sn</small>'
            + '</div>'
            + '</div>';
    });
}

// OYUNU BASLAT (HOST)
function startVsMatch() {
    const checkboxes = document.querySelectorAll('.vs-cat-check:checked');
    if (checkboxes.length < 1) {
        alert("En az 1 bolum secmelisiniz!");
        return;
    }

    let pool = [];
    checkboxes.forEach(chk => {
        const sec = sections.find(s => s.key === chk.value);
        if(!sec) return;
        const timerVal = parseInt(document.getElementById('timer-' + sec.key).value) || 30;
        const qCount = parseInt(document.getElementById('qcount-' + sec.key).value) || 3;
        const secQuestions = allQuestions.filter(q => q.id >= sec.start && q.id <= sec.end);
        
        secQuestions.forEach(q => q.timer = timerVal);
        secQuestions.sort(() => 0.5 - Math.random());
        pool = pool.concat(secQuestions.slice(0, qCount));
    });

    if(pool.length === 0) { alert("Secilen bolumlerde yeterli soru yok!"); return; }

    vsQuestions = pool.sort(() => 0.5 - Math.random());

    conn.send({ type: 'START_GAME', questions: vsQuestions, hostName: vsMyName });
    startGameUI();
}

// VERI ALINDIGINDA
function handleVsData(data) {
    switch(data.type) {
        case 'PLAYER_NAME':
            vsOppName = data.name || "RAKİP";
            break;
        case 'START_GAME':
            vsQuestions = data.questions;
            if(data.hostName) vsOppName = data.hostName;
            startGameUI();
            break;
        case 'OPP_ANSWER':
            oppAnswer = data.ans;
            oppAnswerTime = data.time;
            clearTimeout(vsAnswerSafetyTimer);
            checkRoundEnd();
            break;
        case 'OPP_READY':
            oppReady = true;
            clearTimeout(vsReadySafetyTimer);
            checkBothReady();
            break;
        case 'NEXT_QUESTION':
            goToNextQuestion();
            break;
        case 'HP_UPDATE':
            p1HP = data.p1HP;
            p2HP = data.p2HP;
            updateHPBars();
            // Guest receives answer info for button coloring
            if(data.p1Ans && data.correct) {
                colorVsButtons(data.p1Ans, data.p2Ans, data.correct);
            }
            break;
        case 'MATCH_END':
            vsMatchEnded = true;
            p1HP = data.p1HP;
            p2HP = data.p2HP;
            updateHPBars();
            showMatchResult(data.winner, data.reason);
            break;
        case 'AI_HINT_RESULT':
            displayAiHint(data.hintText);
            break;
        case 'REQUEST_AI_HINT':
            if(amIHost) generateAndSendHint();
            break;
    }
}

// OYUN ARAYUZUNU AC
function startGameUI() {
    document.getElementById('vs-setup').classList.add('d-none');
    document.getElementById('vs-lobby').classList.add('d-none');
    document.getElementById('vs-gameplay').classList.remove('d-none');
    
    // "Lütfen soldan bir bölüm seçin" metnini gizle
    document.getElementById('questions-area').innerHTML = '';
    document.getElementById('questions-area').style.display = 'none';
    
    // P1 = host, P2 = guest
    var p1Name = amIHost ? vsMyName : vsOppName;
    var p2Name = amIHost ? vsOppName : vsMyName;
    document.getElementById('vs-p1-name').innerText = p1Name || "HOST";
    document.getElementById('vs-p2-name').innerText = p2Name || "RAKİP";
    
    currentVsIndex = 0;
    p1HP = 100;
    p2HP = 100;
    prevP1HP = 100;
    prevP2HP = 100;
    vsMatchEnded = false;
    updateHPBars();
    loadVsQuestion();
}

// HP BAR UPDATE (with ghost damage animation)
var prevP1HP = 100;
var prevP2HP = 100;

function updateHPBars() {
    var bar1 = document.getElementById('vs-p1-hp-bar');
    var bar2 = document.getElementById('vs-p2-hp-bar');
    var ghost1 = document.getElementById('vs-p1-hp-ghost');
    var ghost2 = document.getElementById('vs-p2-hp-ghost');
    var text1 = document.getElementById('vs-p1-hp-text');
    var text2 = document.getElementById('vs-p2-hp-text');
    var wrap1 = document.getElementById('vs-p1-hp-wrap');
    var wrap2 = document.getElementById('vs-p2-hp-wrap');
    
    var newP1 = Math.max(0, p1HP);
    var newP2 = Math.max(0, p2HP);
    
    // P1 hasar aldiysa
    if(newP1 < prevP1HP) {
        // Ghost'u eski seviyede birak, sonra yavasca cek
        ghost1.style.transition = 'none';
        ghost1.style.width = prevP1HP + '%';
        // Actual bar hemen guncelle
        bar1.style.width = newP1 + '%';
        // Shake efekti
        if(wrap1) { wrap1.classList.remove('hp-shake'); void wrap1.offsetWidth; wrap1.classList.add('hp-shake'); }
        // Ghost'u gecikmeyle cek
        setTimeout(function() {
            ghost1.style.transition = 'width 1.8s ease-out';
            ghost1.style.width = newP1 + '%';
        }, 400);
    } else {
        bar1.style.width = newP1 + '%';
        ghost1.style.width = newP1 + '%';
    }
    
    // P2 hasar aldiysa
    if(newP2 < prevP2HP) {
        ghost2.style.transition = 'none';
        ghost2.style.width = prevP2HP + '%';
        bar2.style.width = newP2 + '%';
        if(wrap2) { wrap2.classList.remove('hp-shake'); void wrap2.offsetWidth; wrap2.classList.add('hp-shake'); }
        setTimeout(function() {
            ghost2.style.transition = 'width 1.8s ease-out';
            ghost2.style.width = newP2 + '%';
        }, 400);
    } else {
        bar2.style.width = newP2 + '%';
        ghost2.style.width = newP2 + '%';
    }
    
    prevP1HP = newP1;
    prevP2HP = newP2;

    text1.innerText = newP1;
    text2.innerText = newP2;

    [bar1, bar2].forEach(function(bar, i) {
        var hp = i === 0 ? p1HP : p2HP;
        bar.classList.remove('danger', 'warning');
        if(hp <= 25) bar.classList.add('danger');
        else if(hp <= 50) bar.classList.add('warning');
    });
}

// SORUYU EKRANA BAS
function loadVsQuestion() {
    if(vsMatchEnded) return;
    if (currentVsIndex >= vsQuestions.length) {
        if(amIHost) resolveMatchEnd();
        return;
    }

    var q = vsQuestions[currentVsIndex];
    myAnswer = null;
    oppAnswer = null;
    myAnswerTime = 0;
    oppAnswerTime = 0;
    myReady = false;
    oppReady = false;
    hintRequested = false;
    hintShown = false;
    clearTimeout(vsAnswerSafetyTimer);
    clearTimeout(vsReadySafetyTimer);
    
    document.getElementById('vs-round-result-text').innerHTML = '';
    document.getElementById('vs-ready-wait').classList.add('d-none');
    
    // Ready button ghost moduna al
    var readyBtn = document.getElementById('vs-ready-btn');
    readyBtn.classList.remove('vs-ready-active', 'done');
    readyBtn.classList.add('vs-ready-ghost');
    readyBtn.disabled = true;
    readyBtn.innerHTML = '<i class="bi bi-check-circle-fill"></i> HAZIRIM';
    
    document.getElementById('vs-hint-area').classList.add('d-none');
    document.getElementById('vs-hint-content').classList.add('d-none');
    document.getElementById('vs-hint-content').innerHTML = '';
    document.getElementById('vs-hint-btn').disabled = false;
    
    document.getElementById('vs-q-count').innerText = 'Soru ' + (currentVsIndex + 1) + ' / ' + vsQuestions.length;
    
    var qTextEl = document.getElementById('vs-q-text');
    qTextEl.innerHTML = q.text || '';
    
    document.getElementById('vs-status-msg').innerHTML = "";
    
    var opts = q.options || q.opts;
    var optsHTML = "";
    ['A', 'B', 'C', 'D', 'E'].forEach(function(opt) {
        if(opts && opts[opt]) {
            optsHTML += '<button class="btn text-start p-3 w-100 mb-2 vs-opt-btn" style="border:2px solid #ddd;border-radius:8px;font-weight:600;transition:0.15s;" onclick="submitVsAnswer(\'' + opt + '\', this)"><b>' + opt + ')</b> ' + opts[opt] + '</button>';
        }
    });
    document.getElementById('vs-options').innerHTML = optsHTML;

    startVsTimer(q.timer || 30);
}

// TIMER
function startVsTimer(seconds) {
    var timeLeft = seconds;
    vsTimerStart = Date.now();
    
    var bar = document.getElementById('vs-timer-bar');
    var txt = document.getElementById('vs-timer-text');
    
    clearInterval(vsTimerInterval);
    bar.style.width = "100%";
    txt.innerText = timeLeft + "sn";
    
    vsTimerInterval = setInterval(function() {
        timeLeft--;
        txt.innerText = Math.max(0, timeLeft) + "sn";
        bar.style.width = (timeLeft / seconds * 100) + "%";
        
        if (timeLeft <= 0) {
            clearInterval(vsTimerInterval);
            if (!myAnswer) submitVsAnswer('X', null);
        }
    }, 1000);
}

// CEVAP VERME
var vsAnswerSafetyTimer = null;

function submitVsAnswer(ans, btnElement) {
    if (myAnswer) return;
    
    myAnswer = ans;
    myAnswerTime = Date.now() - vsTimerStart;
    
    // Sadece butonları devre dışı bırak, renklendirme YAPMA (ikisi de cevapladıktan sonra gösterilecek)
    document.querySelectorAll('.vs-opt-btn').forEach(function(btn) {
        btn.style.pointerEvents = 'none';
    });
    // Seçilen butonu hafif işaretle (gri ton, rakibe gösterme)
    if(btnElement) {
        btnElement.style.outline = '2px solid rgba(255,255,255,0.4)';
        btnElement.style.outlineOffset = '-2px';
    }

    conn.send({ type: 'OPP_ANSWER', ans: ans, time: myAnswerTime });
    
    if (!oppAnswer) {
        document.getElementById('vs-status-msg').innerHTML = '<span style="color:#f39c12;"><i class="bi bi-hourglass-split"></i> Rakip bekleniyor...</span>';
        
        // SAFETY TIMEOUT: Rakibin cevabi 8 saniye icinde gelmezse otomatik coz
        clearTimeout(vsAnswerSafetyTimer);
        vsAnswerSafetyTimer = setTimeout(function() {
            if(myAnswer && !oppAnswer) {
                console.log("Safety timeout: opponent answer not received, auto-resolving...");
                oppAnswer = 'X'; // Timeout olarak isaretle
                oppAnswerTime = 99999; // En yavas sure
                checkRoundEnd();
            }
        }, 8000);
    } else {
        clearTimeout(vsAnswerSafetyTimer);
        checkRoundEnd();
    }
}

// TUR SONU KONTROLU
function checkRoundEnd() {
    if (!myAnswer || !oppAnswer) return;
    
    clearInterval(vsTimerInterval);
    clearTimeout(vsAnswerSafetyTimer);
    
    var q = vsQuestions[currentVsIndex];
    var correct = q.correctAnswer;
    var opts = q.options || q.opts;
    
    var iAmHost = amIHost;
    var myCorrect = (myAnswer === correct);
    var oppCorrect = (oppAnswer === correct);
    
    // Determine P1 (host) and P2 (guest) answers
    var p1Ans = amIHost ? myAnswer : oppAnswer;
    var p2Ans = amIHost ? oppAnswer : myAnswer;
    
    // Host calculates damage
    if(amIHost) {
        var p1Correct = myCorrect;
        var p2Correct = oppCorrect;
        var p1Time = myAnswerTime;
        var p2Time = oppAnswerTime;
        
        if(p1Correct && !p2Correct) {
            p2HP = Math.max(0, p2HP - 6);
        } else if(!p1Correct && p2Correct) {
            p1HP = Math.max(0, p1HP - 6);
        } else if(p1Correct && p2Correct) {
            if(p1Time > p2Time) {
                p1HP = Math.max(0, p1HP - 3);
            } else if(p2Time > p1Time) {
                p2HP = Math.max(0, p2HP - 3);
            }
        }
        
        conn.send({ type: 'HP_UPDATE', p1HP: p1HP, p2HP: p2HP, p1Ans: p1Ans, p2Ans: p2Ans, correct: correct });
        updateHPBars();
        
        if(p1HP <= 0 || p2HP <= 0) {
            var winner = p1HP <= 0 ? 'p2' : 'p1';
            var reason = 'KO! Can 0\'a dustu!';
            conn.send({ type: 'MATCH_END', winner: winner, reason: reason, p1HP: p1HP, p2HP: p2HP });
            vsMatchEnded = true;
            showMatchResult(winner, reason);
            return;
        }
    }
    
    // Color buttons fetih-style: blue=host(P1), red=guest(P2), green border=correct
    colorVsButtons(p1Ans, p2Ans, correct);
    
    // Damage flash
    if(iAmHost) {
        if(!myCorrect && oppCorrect) flashDamage('p1');
        if(myCorrect && !oppCorrect) flashDamage('p2');
        if(myCorrect && oppCorrect && myAnswerTime > oppAnswerTime) flashDamage('p1');
        if(myCorrect && oppCorrect && oppAnswerTime > myAnswerTime) flashDamage('p2');
    } else {
        if(!myCorrect && oppCorrect) flashDamage('p2');
        if(myCorrect && !oppCorrect) flashDamage('p1');
        if(myCorrect && oppCorrect && myAnswerTime > oppAnswerTime) flashDamage('p2');
        if(myCorrect && oppCorrect && oppAnswerTime > myAnswerTime) flashDamage('p1');
    }
    
    // Result message
    var msg = "";
    if(myCorrect && oppCorrect) {
        msg = 'Ikiniz de bildi! (Hizli olan kazandi: -3 HP)';
    } else if(myCorrect && !oppCorrect) {
        msg = '<span style="color:#2ecc71;">Sen bildin!</span> Rakip bilemedi (-6 HP)';
    } else if(!myCorrect && oppCorrect) {
        msg = '<span style="color:#e74c3c;">Bilemedin!</span> Rakip bildi (-6 HP sana)';
    } else {
        msg = 'Ikiniz de bilemedi. Hasar yok.';
    }
    document.getElementById('vs-status-msg').innerHTML = msg;
    
    // AI hint if at least one wrong
    if(!myCorrect || !oppCorrect) {
        document.getElementById('vs-hint-area').classList.remove('d-none');
    }
    
    // Show Ready screen after delay
    setTimeout(function() {
        showReadyScreen(msg);
    }, 1500);
}

// Damage flash effect
function flashDamage(player) {
    var el = player === 'p1' ? document.getElementById('vs-p1-side') : document.getElementById('vs-p2-side');
    if(el) {
        el.classList.add('dmg-flash');
        setTimeout(function() { el.classList.remove('dmg-flash'); }, 700);
    }
}

// Button coloring: Doğru cevap yeşil glow, yanlış yapanın şıkkı mavi/kırmızı glow
function colorVsButtons(p1Ans, p2Ans, correct) {
    var optButtons = document.querySelectorAll('.vs-opt-btn');
    var p1Wrong = (p1Ans !== correct); // Host yanlış mı yaptı?
    var p2Wrong = (p2Ans !== correct); // Guest yanlış mı yaptı?
    
    optButtons.forEach(function(btn) {
        var btnKey = btn.innerText.trim().charAt(0);
        btn.style.pointerEvents = 'none';
        btn.style.outline = 'none';
        
        var isCorrect = (btnKey === correct);
        var isP1Pick = (btnKey === p1Ans);
        var isP2Pick = (btnKey === p2Ans);
        
        // 1. Doğru cevap → yeşil parlak çerçeve
        if(isCorrect) {
            btn.style.border = '3px solid #2ecc71';
            btn.style.boxShadow = '0 0 12px #2ecc71, 0 0 24px rgba(46,204,113,0.3)';
            btn.style.opacity = '1';
        }
        
        // 2. Yanlış yapanların şıkları → sadece yanlış yaptılarsa göster
        // İkisi de aynı YANLIŞ şıkkı seçtiyse → yarı mavi yarı kırmızı glow
        if(!isCorrect && isP1Pick && isP2Pick && p1Wrong && p2Wrong) {
            btn.style.border = '3px solid #8e44ad';
            btn.style.boxShadow = '-6px 0 12px rgba(41,128,185,0.7), 6px 0 12px rgba(192,57,43,0.7), 0 0 20px rgba(142,68,177,0.4)';
            btn.style.opacity = '1';
        }
        // Host yanlış yaptı ve bu onun seçtiği şık
        else if(!isCorrect && isP1Pick && p1Wrong) {
            btn.style.border = '3px solid #3498db';
            btn.style.boxShadow = '0 0 12px #3498db, 0 0 24px rgba(52,152,219,0.4)';
            btn.style.opacity = '1';
        }
        // Guest yanlış yaptı ve bu onun seçtiği şık
        else if(!isCorrect && isP2Pick && p2Wrong) {
            btn.style.border = '3px solid #e74c3c';
            btn.style.boxShadow = '0 0 12px #e74c3c, 0 0 24px rgba(231,76,60,0.4)';
            btn.style.opacity = '1';
        }
        
        // Seçilmemiş ve doğru olmayan → soluk
        if(!isCorrect && !isP1Pick && !isP2Pick) {
            btn.style.opacity = '0.4';
        }
    });
}

// READY SYSTEM
function showReadyScreen(resultMsg) {
    var readyBtn = document.getElementById('vs-ready-btn');
    var readyWait = document.getElementById('vs-ready-wait');
    var resultText = document.getElementById('vs-round-result-text');
    
    resultText.innerHTML = resultMsg;
    
    // Ghost'tan aktif moda geçir
    readyBtn.classList.remove('vs-ready-ghost', 'done');
    readyBtn.classList.add('vs-ready-active');
    readyBtn.disabled = false;
    readyBtn.innerHTML = '<i class="bi bi-check-circle-fill"></i> HAZIRIM';
    readyWait.classList.add('d-none');
    
    myReady = false;
}

var vsReadySafetyTimer = null;

function pressReady() {
    if(myReady) return;
    myReady = true;
    
    var readyBtn = document.getElementById('vs-ready-btn');
    readyBtn.classList.remove('vs-ready-active');
    readyBtn.classList.add('done');
    readyBtn.disabled = true;
    readyBtn.innerHTML = '<i class="bi bi-check-circle-fill"></i> HAZIR &#10004;';
    document.getElementById('vs-ready-wait').classList.remove('d-none');
    
    conn.send({ type: 'OPP_READY' });
    checkBothReady();
    
    // Safety: 12 saniye icerisinde rakip hazir olmazsa otomatik ileri gec
    clearTimeout(vsReadySafetyTimer);
    vsReadySafetyTimer = setTimeout(function() {
        if(myReady && !oppReady) {
            console.log("Ready safety timeout: auto-advancing...");
            oppReady = true;
            checkBothReady();
        }
    }, 12000);
}

function checkBothReady() {
    if(myReady && oppReady) {
        clearTimeout(vsReadySafetyTimer);
        if(amIHost) {
            currentVsIndex++;
            conn.send({ type: 'NEXT_QUESTION' });
            goToNextQuestion();
        }
    }
}

function goToNextQuestion() {
    if(!amIHost) currentVsIndex++;
    myReady = false;
    oppReady = false;
    loadVsQuestion();
}

// MATCH END
function resolveMatchEnd() {
    if(vsMatchEnded) return;
    vsMatchEnded = true;
    
    var winner, reason;
    if(p1HP > p2HP) {
        winner = 'p1';
        reason = 'Daha fazla HP ile kazandi! (' + p1HP + ' vs ' + p2HP + ')';
    } else if(p2HP > p1HP) {
        winner = 'p2';
        reason = 'Daha fazla HP ile kazandi! (' + p2HP + ' vs ' + p1HP + ')';
    } else {
        winner = 'draw';
        reason = 'Berabere! HP esit.';
    }
    
    conn.send({ type: 'MATCH_END', winner: winner, reason: reason, p1HP: p1HP, p2HP: p2HP });
    showMatchResult(winner, reason);
}

function showMatchResult(winner, reason) {
    vsMatchEnded = true;
    clearInterval(vsTimerInterval);
    
    var iAmHost = amIHost;
    var iWon = (winner === 'p1' && iAmHost) || (winner === 'p2' && !iAmHost);
    var iLost = (winner === 'p1' && !iAmHost) || (winner === 'p2' && iAmHost);
    
    // Show KO overlay if someone hit 0 HP
    if(p1HP <= 0 || p2HP <= 0) {
        showKoOverlay();
    }
    
    var delay = (p1HP <= 0 || p2HP <= 0) ? 3500 : 500;
    
    setTimeout(function() {
        document.getElementById('vs-gameplay').classList.add('d-none');
        document.getElementById('vs-result').classList.remove('d-none');
        
        document.getElementById('final-hp-p1').innerText = Math.max(0, p1HP);
        document.getElementById('final-hp-p2').innerText = Math.max(0, p2HP);
        
        var p1Label = amIHost ? vsMyName : vsOppName;
        var p2Label = amIHost ? vsOppName : vsMyName;
        document.getElementById('vs-final-p1-label').innerText = p1Label || "HOST";
        document.getElementById('vs-final-p2-label').innerText = p2Label || "RAKİP";
        
        var winTitle = document.getElementById('vs-winner-text');
        if (winner === 'draw') {
            winTitle.innerText = "\uD83E\uDD1D BERABERE!";
            winTitle.className = "display-4 fw-bold mb-3 text-warning";
        } else if (iWon) {
            winTitle.innerText = "\uD83C\uDFC6 KAZANDIN! \uD83C\uDFC6";
            winTitle.className = "display-4 fw-bold mb-3 text-success";
        } else {
            winTitle.innerText = "\uD83D\uDC80 KAYBETTIN...";
            winTitle.className = "display-4 fw-bold mb-3 text-danger";
        }
    }, delay);
}

// KO OVERLAY
function showKoOverlay() {
    var koEl = document.getElementById('ko-overlay');
    koEl.classList.remove('d-none', 'ko-anim');
    void koEl.offsetWidth;
    koEl.classList.add('ko-anim');
    koEl.classList.remove('d-none');
    
    setTimeout(function() {
        koEl.classList.add('d-none');
        koEl.classList.remove('ko-anim');
    }, 4000);
}

// AI HINT SYSTEM
function requestAiHint() {
    if(hintRequested) return;
    hintRequested = true;
    document.getElementById('vs-hint-btn').disabled = true;
    document.getElementById('vs-hint-btn').innerHTML = '<i class="bi bi-hourglass-split"></i> Ipucu Yukleniyor...';
    
    if(amIHost) {
        generateAndSendHint();
    } else {
        conn.send({ type: 'REQUEST_AI_HINT' });
    }
}

async function generateAndSendHint() {
    var q = vsQuestions[currentVsIndex];
    var opts = q.options || q.opts;
    var correct = q.correctAnswer;
    
    if(typeof userApiKey !== 'undefined' && userApiKey) {
        try {
            var url = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent?key=' + userApiKey;
            var prompt = 'Soru: "' + q.text + '"\nDogru Cevap: ' + correct + ') ' + opts[correct] + '\nGOREV: Bu soruyu Kisaca acikla. Neden dogru cevap "' + correct + '" oldugunu 2-3 cumleyle belirt. Turkce yaz.';
            
            var response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: prompt }] }]
                })
            });
            var data = await response.json();
            var hintText = (data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts[0]) ? data.candidates[0].content.parts[0].text : ('Dogru cevap: ' + correct + ') ' + opts[correct]);
            
            displayAiHint(hintText);
            conn.send({ type: 'AI_HINT_RESULT', hintText: hintText });
            return;
        } catch(e) {
            console.log("Gemini hint failed:", e);
        }
    }
    
    var hintText = q.tip || ('Dogru cevap: ' + correct + ') ' + opts[correct]);
    displayAiHint(hintText);
    conn.send({ type: 'AI_HINT_RESULT', hintText: hintText });
}

function displayAiHint(hintText) {
    hintShown = true;
    var contentEl = document.getElementById('vs-hint-content');
    var btnEl = document.getElementById('vs-hint-btn');
    
    btnEl.innerHTML = '<i class="bi bi-check-circle"></i> Ipucu Gosterildi';
    btnEl.disabled = true;
    
    contentEl.innerHTML = typeof formatAiOutput === 'function' ? formatAiOutput(hintText) : hintText;
    contentEl.classList.remove('d-none');
}
/* ================= MODAL KAPATMA HATASI DÜZELTİCİ ================= */
// Tüm modallar kapandığında çalışır
document.addEventListener('hidden.bs.modal', function () {
    // 1. Gölgeyi (backdrop) zorla sil
    const backdrops = document.querySelectorAll('.modal-backdrop');
    backdrops.forEach(bd => bd.remove());

    // 2. Sayfanın kaydırılabilirliğini geri getir
    document.body.classList.remove('modal-open');
    document.body.style.overflow = 'auto';
    document.body.style.paddingRight = '0';
});
/* ================= AI METİN DÜZELTİCİ VE GÜNCELLENMİŞ AI FONKSİYONLARI ================= */

// Markdown yıldızlarını HTML kalın yazısına çeviren fonksiyon
function formatAiOutput(text) {
    if (!text) return "";
    return text
        .replace(/\*\*(.*?)\*\*/g, '<strong class="text-warning">$1</strong>') // **yazı** -> Sarı ve Kalın
        .replace(/\*(.*?)\*/g, '<em>$1</em>') // *yazı* -> İtalik
        .replace(/\n/g, '<br>'); // Satır sonlarını HTML'e uyarla
}

// 1. KELİME ÖRNEK CÜMLE (GÜNCELLENMİŞ)
async function getAiVocabExample(questionId) {
    if(!userApiKey) { alert("API Anahtarı eksik! Ayarlardan ekleyin."); openSettings(); return; }

    let q = allQuestions.find(i => i.id === questionId);
    if(!q) return;

    if(q.aiVocabData) {
        showTipBox(q.id, "Örnek Cümle & Çeviri", "bi-chat-quote-fill", q.aiVocabData);
        return;
    }

    showLoading(q.id, "Örnek cümle hazırlanıyor...");

    const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent?key=${userApiKey}`;
    const prompt = `
        Sen bir YDS İngilizce öğretmenisin. Aşağıdaki kelime sorusu verilerini analiz et.
        SORU: "${q.text}"
        CEVAP: "${q.options[q.correctAnswer]}"
        GÖREV: Bu sorudaki hedef akademik kelimeyi bul, onunla YDS seviyesinde İngilizce cümle kur ve Türkçeye çevir.
        ÇIKTI FORMATI: Kelimeyi **bu şekilde yıldız içine al** ki kalın görünsün.
    `;

    try {
        const rawData = await callGemini(url, prompt);
        q.aiVocabData = formatAiOutput(rawData); // FORMATLAMA BURADA YAPILIYOR
        showTipBox(q.id, "Örnek Cümle & Çeviri", "bi-chat-quote-fill", q.aiVocabData);
    } catch (e) { showError(q.id, e.message); }
}

// 2. ANALİZ VE ÇEVİRİ (GÜNCELLENMİŞ)
async function getAiAnalysis(questionId) {
    if(!userApiKey) { alert("API Anahtarı eksik!"); openSettings(); return; }

    let q = allQuestions.find(i => i.id === questionId) || generatedQuestions.find(i => i.id === questionId);
    if(!q) return;

    if(q.aiAnalysisData) {
        showTipBox(q.id, "Analiz & Çeviri", "bi-translate", q.aiAnalysisData);
        return;
    }

    showLoading(q.id, "Analiz yapılıyor...");

    const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent?key=${userApiKey}`;
    const prompt = `
        Soru: "${q.text}"
        Şıklar: A) ${q.options.A}, B) ${q.options.B}, C) ${q.options.C}, D) ${q.options.D}, E) ${q.options.E}
        Doğru Cevap: ${q.correctAnswer}
        GÖREV: 1) Soruyu Türkçeye çevir. 2) Doğru cevabı açıkla. 3) Yanlış şıkları kısaca açıkla.
        ÖNEMLİ: Önemli yerleri **yıldızlar içine alarak** vurgula.
    `;

    try {
        const rawData = await callGemini(url, prompt);
        q.aiAnalysisData = formatAiOutput(rawData); // FORMATLAMA BURADA YAPILIYOR
        showTipBox(q.id, "Analiz & Çeviri", "bi-translate", q.aiAnalysisData);
    } catch (e) { showError(q.id, e.message); }
}

// 3. TÜYO (GÜNCELLENMİŞ)
async function getAiTip(questionId) {
    if(!userApiKey) { alert("API Anahtarı eksik!"); openSettings(); return; }

    let q = allQuestions.find(i => i.id === questionId) || generatedQuestions.find(i => i.id === questionId);
    if(!q) return;

    if(q.aiTipData) {
        showTipBox(q.id, "Altın Tüyo", "bi-stars", q.aiTipData);
        return;
    }

    showLoading(q.id, "Tüyo hazırlanıyor...");

    const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent?key=${userApiKey}`;
    const prompt = `
        Soru: "${q.text}"
        Cevap: ${q.correctAnswer}
        GÖREV: Sadece kısa bir sınav tüyosu ver. İpucu kelimeleri **kalın** yaz.
    `;

    try {
        const rawData = await callGemini(url, prompt);
        q.aiTipData = formatAiOutput(rawData); // FORMATLAMA BURADA YAPILIYOR
        showTipBox(q.id, "Altın Tüyo", "bi-stars", q.aiTipData);
    } catch (e) { showError(q.id, e.message); }
}    

    /* ================= VERİ AKTARIM (EXPORT/IMPORT) FONKSİYONLARI ================= */
function openDataTransfer() {
    new bootstrap.Modal(document.getElementById('transferModal')).show();
}

function exportData() {
    const pass = document.getElementById('exportPass').value.trim();
    if (pass.length < 3) return alert("Lütfen en az 3 haneli bir şifre belirleyin!");

    let dataObj = {};
    // Sadece yds ile başlayan bizim uygulamaya ait verileri al
    for (let i = 0; i < localStorage.length; i++) {
        let key = localStorage.key(i);
        if (key.startsWith('yds_')) {
            dataObj[key] = localStorage.getItem(key);
        }
    }

    try {
        const payload = { password: pass, data: dataObj };
        // Türkçe karakter hatası almamak için encodeURIComponent kullanıyoruz
        const encoded = btoa(encodeURIComponent(JSON.stringify(payload)));
        document.getElementById('exportCode').value = encoded;
    } catch (e) {
        alert("Kod oluşturulurken hata oluştu!");
    }
}

function copyTransferCode() {
    const codeInput = document.getElementById('exportCode');
    if (!codeInput.value) return alert("Önce kod oluşturun!");
    codeInput.select();
    document.execCommand('copy');
    alert("Kod kopyalandı! Şimdi PWA uygulamasını (Ana ekrandaki) açıp İçe Aktar bölümüne yapıştırın.");
}

function importData() {
    const code = document.getElementById('importCode').value.trim();
    const pass = document.getElementById('importPass').value.trim();

    if (!code || !pass) return alert("Lütfen hem kodu hem de şifreyi girin!");

    try {
        const decoded = JSON.parse(decodeURIComponent(atob(code)));
        
        if (decoded.password !== pass) {
            return alert("Hatalı şifre! Lütfen kodu oluştururken verdiğiniz şifreyi girin.");
        }

        if (!decoded.data || Object.keys(decoded.data).length === 0) {
            return alert("Geçersiz veya boş kod!");
        }

        // Eski verileri temizlemeden üstüne yazıyoruz (Güvenli geçiş)
        for (const [key, value] of Object.entries(decoded.data)) {
            localStorage.setItem(key, value);
        }

        alert("Veriler başarıyla aktarıldı! Uygulama yeniden başlatılıyor...");
        window.location.reload();

    } catch (e) {
        alert("Kod çözülemedi! Lütfen kodu eksiksiz kopyaladığınızdan emin olun.");
    }
}
    /* ================= ALT SABİT EXP BARI GÜNCELLEMESİ ================= */
function updateBottomLevelBar() {
    const blbLevel = document.getElementById('blb-level');
    const blbFill = document.getElementById('blb-fill');
    const blbText = document.getElementById('blb-text');
    if (!blbLevel || !blbFill || !blbText) return;

    // Bulunduğumuz levelin başlangıç puanı
    const currentLvlPoints = getCumulativePointsForLevel(myLevel);
    
    if (myLevel < 100) {
        // Sonraki level için gereken toplam puan
        const nextLvlPoints = getCumulativePointsForLevel(myLevel + 1);
        
        // Sadece bu level içinde yapılması gereken puan
        const pointsNeededForThisLevel = nextLvlPoints - currentLvlPoints;
        // Bu level içinde şu ana kadar ne kadar ilerledik?
        const pointsEarnedInThisLevel = myTotalScore - currentLvlPoints;
        
        // Yüzde hesabı
        let pct = (pointsEarnedInThisLevel / pointsNeededForThisLevel) * 100;
        pct = Math.max(0, Math.min(100, pct)); // %0 ile %100 arasında tut

        blbLevel.innerText = "Lv." + myLevel;
        blbFill.style.width = pct + "%"; // CSS animasyonunu tetikler
        
        // İstenen metin: "Sonraki level için: X TP"
        const remaining = nextLvlPoints - myTotalScore;
        blbText.innerText = `${remaining.toLocaleString('tr-TR')} TP Kaldı 🦍`;
    } else {
        blbLevel.innerText = "Lv.MAX";
        blbFill.style.width = "100%";
        blbText.innerText = "MAX SEVİYE 🏆";
    }
}
/* ================= PROFIL & VS STATS SİSTEMİ ================= */

// Anlık olarak çözülmüş/hatalı soruları sayıp istatistik objesi döndürür
function calculateMyStats() {
    let stats = {};
    sections.forEach(sec => {
        if (sec.key === 'secAi' || sec.key === 'secMistakes') return; 
        
        let c = 0; let w = 0;
        const secQs = allQuestions.filter(q => q.id >= sec.start && q.id <= sec.end);
        
        secQs.forEach(q => {
            if (progressData[q.id] === 'correct') c++;
            else if (progressData[q.id] === 'wrong') w++;
        });
        
        stats[sec.key] = { c: c, w: w };
    });
    return stats;
}

// Profil modalını açar ve "Benim İstatistiklerim" sekmesini doldurur
function openProfileModal() {
    const stats = calculateMyStats();
    const container = document.getElementById('my-stats-container');
    container.innerHTML = "";

    sections.forEach(sec => {
        if (sec.key === 'secAi' || sec.key === 'secMistakes') return;
        
        let c = stats[sec.key].c;
        let w = stats[sec.key].w;
        let totalSolved = c + w;
        let ratio = totalSolved > 0 ? Math.round((c / totalSolved) * 100) : 0;

        container.innerHTML += `
        <div class="card mb-3 shadow-sm border-0">
            <div class="card-body py-2">
                <div class="d-flex justify-content-between align-items-center mb-1">
                    <strong style="font-size: 0.9rem;">${sec.title}</strong>
                    <span class="badge ${ratio >= 80 ? 'bg-success' : (ratio >= 50 ? 'bg-warning text-dark' : 'bg-danger')}">
                        %${ratio} Kavrama
                    </span>
                </div>
                <div class="d-flex justify-content-between text-muted" style="font-size: 0.75rem;">
                    <span><i class="bi bi-check-circle-fill text-success"></i> ${c} Doğru</span>
                    <span><i class="bi bi-x-circle-fill text-danger"></i> ${w} Yanlış</span>
                </div>
                <div class="stat-bar-bg">
                    <div class="stat-bar-fill" style="width: ${ratio}%; background: ${ratio >= 80 ? '#10b981' : (ratio >= 50 ? '#f59e0b' : '#ef4444')}"></div>
                </div>
            </div>
        </div>`;
    });

    // Buluta anlık yedekle
    syncScoreToCloud(0); 

    // OYUNCU LİSTESİNİ ÇEK VE AÇILIR LİSTEYİ (DROPDOWN) DOLDUR
    const url = `https://getpantry.cloud/apiv1/pantry/${PANTRY_ID}/basket/${BUCKET_NAME}`;
    fetch(url).then(res => res.json()).then(data => {
        const datalist = document.getElementById('players-datalist');
        datalist.innerHTML = "";
        if(data.players) {
            // Skora göre sırala ve listeye ekle
            data.players.sort((a,b) => b.score - a.score).forEach(p => {
                if(p.name !== currentUser) {
                    datalist.innerHTML += `<option value="${p.name}">Lv.${p.level || 1} | ${p.score} Günlük Puan</option>`;
                }
            });
        }
    }).catch(e => console.log("Oyuncu listesi yüklenemedi."));

    // ========================================================
    // SİYAH EKRAN BUG ÇÖZÜMÜ: MODALI ZORLA EN ÜST KATMANA TAŞI
    // ========================================================
    const modalEl = document.getElementById('profileModal');
    
    // Eğer modal sayfanın ana gövdesinde (body) değilse, onu oraya taşıyoruz. 
    // Bu sayede CSS kilitlenmelerinden kurtulur ve her sayfada kusursuz açılır.
    if (modalEl.parentNode !== document.body) {
        document.body.appendChild(modalEl);
    }

    const modal = bootstrap.Modal.getOrCreateInstance(modalEl);
    modal.show();
}

// Rakiple kıyaslama mantığı
async function compareWithOpponent() {
    const oppName = document.getElementById('vs-opponent-name').value.trim();
    if (!oppName) return alert("Lütfen bir rakip adı girin!");
    if (oppName.toLowerCase() === currentUser.toLowerCase()) return alert("Kendinizle kapışamazsınız! Şizofreni mi var? :)");

    document.getElementById('vs-compare-list').innerHTML = `<div class="text-center my-4"><div class="spinner-border text-danger"></div><br>Rakibin verileri çekiliyor...</div>`;
    document.getElementById('vs-compare-result').classList.remove('d-none');
    document.getElementById('vs-domination-text').innerText = "";

    const url = `https://getpantry.cloud/apiv1/pantry/${PANTRY_ID}/basket/${BUCKET_NAME}`;
    
    try {
        let resp = await fetch(url);
        if (!resp.ok) throw new Error("Veritabanına ulaşılamadı.");
        let data = await resp.json();

        const oppData = data.players.find(p => p.name.toLowerCase() === oppName.toLowerCase());
        
        if (!oppData) {
            document.getElementById('vs-compare-list').innerHTML = `<div class="alert alert-warning text-center"><strong>${oppName}</strong> adlı komutan bulunamadı. İsmi tam ve doğru yazdığınızdan emin olun.</div>`;
            return;
        }

        // Avatarları ve İsimleri Bas
        document.getElementById('vs-my-name-display').innerText = currentUser;
        document.getElementById('vs-my-avatar').innerHTML = getAvatarHTML(currentUser, myAvatar, 64);
        
        document.getElementById('vs-opp-name-display').innerText = oppData.name;
        document.getElementById('vs-opp-avatar').innerHTML = getAvatarHTML(oppData.name, oppData.avatar, 64);

        const myStats = calculateMyStats();
        const oppStats = oppData.stats || {}; // Rakibin eski sürümde kalmış olma ihtimali
        
        let myWins = 0;
        let oppWins = 0;
        
        let htmlContent = "";

        sections.forEach(sec => {
            if (sec.key === 'secAi' || sec.key === 'secMistakes') return;

            let mC = myStats[sec.key].c; let mW = myStats[sec.key].w;
            let oC = (oppStats[sec.key] && oppStats[sec.key].c) ? oppStats[sec.key].c : 0;
            let oW = (oppStats[sec.key] && oppStats[sec.key].w) ? oppStats[sec.key].w : 0;

            let mTotal = mC + mW;
            let oTotal = oC + oW;

            let mRatio = mTotal > 0 ? (mC / mTotal) * 100 : 0;
            let oRatio = oTotal > 0 ? (oC / oTotal) * 100 : 0;

            let winner = "tie";
            
            // 1. Kural: Kavrama Oranı (Yüzde)
            if (mRatio > oRatio) winner = "me";
            else if (oRatio > mRatio) winner = "opp";
            else {
                // 2. Kural: Oran eşitse çok doğru yapan kazanır (Daha tecrübeli olan)
                if (mC > oC) winner = "me";
                else if (oC > mC) winner = "opp";
            }

            if (winner === "me") myWins++;
            else if (winner === "opp") oppWins++;

            // Stillendirme atamaları
            let myClass = winner === "me" ? "vs-winner-hl" : (winner === "opp" ? "vs-loser-hl" : "vs-tie-hl");
            let oppClass = winner === "opp" ? "vs-winner-hl" : (winner === "me" ? "vs-loser-hl" : "vs-tie-hl");

            htmlContent += `
            <div class="vs-compare-row d-flex justify-content-between align-items-center">
                <div class="text-center ${myClass}" style="width:25%; font-size:0.85rem;">
                    %${Math.round(mRatio)}<br><small class="text-muted">${mC}D ${mW}Y</small>
                </div>
                <div class="text-center fw-bold" style="width:50%; font-size:0.75rem; text-transform:uppercase;">
                    ${sec.title}
                </div>
                <div class="text-center ${oppClass}" style="width:25%; font-size:0.85rem;">
                    %${Math.round(oRatio)}<br><small class="text-muted">${oC}D ${oW}Y</small>
                </div>
            </div>`;
        });

        document.getElementById('vs-compare-list').innerHTML = htmlContent;

        // --- SONUÇ: KİM DOMİNE ETTİ? ---
        const domText = document.getElementById('vs-domination-text');
        if (myWins > oppWins) {
            domText.innerText = `${currentUser} DOMİNE ETTİ!`;
            domText.style.background = "linear-gradient(90deg, #10b981, #059669)";
            domText.style.webkitBackgroundClip = "text";
        } else if (oppWins > myWins) {
            domText.innerText = `${oppData.name} DOMİNE ETTİ!`;
            domText.style.background = "linear-gradient(90deg, #ef4444, #b91c1c)";
            domText.style.webkitBackgroundClip = "text";
        } else {
            domText.innerText = "EŞİT GÜÇLER! KAN DÖKÜLMEDİ.";
            domText.style.background = "linear-gradient(90deg, #f59e0b, #d97706)";
            domText.style.webkitBackgroundClip = "text";
        }

    } catch (e) {
        document.getElementById('vs-compare-list').innerHTML = `<div class="alert alert-danger">Bir hata oluştu: ${e.message}</div>`;
    }
}
    
</script>
    
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SABİT YUVARLAK HEDEF BUTONU -->
<button class="floating-btn" onclick="openDailyGoals()" title="Günlük Hedefler">
    <i class="bi bi-bullseye"></i>
</button>

<!-- TEBRİK BİLDİRİM KUTUSU (TOAST) -->
<div class="toast-container position-fixed top-0 end-0 p-3">
  <div id="goalToast" class="toast celebration-toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header bg-success text-white">
      <strong class="me-auto"><i class="bi bi-trophy-fill"></i> Hedef Tamamlandı!</strong>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast"></button>
    </div>
    <div class="toast-body fw-bold" id="goalToastBody">
      <!-- Mesaj Buraya Gelecek -->
    </div>
  </div>
</div>

    <!-- YUKARI ÇIK BUTONU -->
<button class="scroll-top-btn" onclick="window.scrollTo({top: 0, behavior: 'smooth'});" title="Yukarı Çık">
    <i class="bi bi-arrow-up"></i>
</button>
    <!-- K.O. EFEKTİ İÇİN ELEMENTLER -->
<div id="ko-overlay" class="d-none"><img src="ko55.png" alt="K.O."></div>

    <!-- ALT SABİT EXP (LEVEL) BARI -->
<div id="bottom-level-bar" class="bottom-level-container">
    <div class="blb-level-badge" id="blb-level">Lv.0</div>
    <div class="blb-progress-wrap">
        <div class="blb-progress-fill" id="blb-fill"></div>
        <div class="blb-progress-text" id="blb-text">Hesaplanıyor...</div>
    </div>
</div>
    
</body>
</html>
